(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{232:function(e,t,n){e.exports=n(265)},237:function(e,t,n){},265:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),c=n(15),o=n.n(c),s=(n(237),n(26)),l=n(44),u=n(140);!function(e){e.IS_ERROR="IS_ERROR",e.REQUEST_ARTICLES="REQUEST_ARTICLES",e.RECEIVE_ARTICLES="RECEIVE_ARTICLES"}(a||(a={}));var h,d=function(e){var t="\n        {\n            getNews(category: ".concat(e,") {\n                source,\n                author,\n                title,\n                description,\n                url,\n                urlToImage,\n                publishedAt,\n                content\n            }\n        }\n    ");return function(e){return e({type:a.REQUEST_ARTICLES}),fetch("https://www.xiaoxihome.com/api/news?query="+encodeURIComponent(t)).then((function(e){return e.json()})).then((function(t){t.errors?e({type:a.IS_ERROR}):e(function(e){return{type:a.RECEIVE_ARTICLES,articles:e.slice()}}(t.data.getNews))}))}};!function(e){e.HEADLINE="HEADLINE",e.BUSINESS="BUSINESS",e.ENTERTAINMENT="ENTERTAINMENT",e.HEALTH="HEALTH",e.SCIENCE="SCIENCE",e.SPORTS="SPORTS",e.TECHNOLOGY="TECHNOLOGY",e.SEARCH="SEARCH",e.ANALYTICS="ANALYTICS",e.TOPIC="TOPIC"}(h||(h={}));var f,m=[h.HEADLINE,h.BUSINESS,h.ENTERTAINMENT,h.HEALTH,h.SCIENCE,h.SPORTS,h.TECHNOLOGY];!function(e){e.SET_CATEGORY="SET_CATEGORY"}(f||(f={}));var p=function(e){return function(t){t(function(e){return{type:f.SET_CATEGORY,category:e}}(e)),t(d(e))}};var g={category:h.HEADLINE,articles:{isError:!1,isFetching:!0,articles:[]},copyLinkSnackBar:{isActive:!1},searchKeyword:""};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.category,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.SET_CATEGORY:return h[t.category];default:return e}};var y,x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.articles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.IS_ERROR:return Object.assign({},e,{isError:!0});case a.REQUEST_ARTICLES:return Object.assign({},e,{isError:!1,isFetching:!0});case a.RECEIVE_ARTICLES:return Object.assign({},{isError:!1,isFetching:!1,articles:t.articles.slice()});default:return e}};!function(e){e.CLOSE_SNACKBAR="CLOSE_SNACKBAR",e.OPEN_SNACKBAR="OPEN_SNACKBAR"}(y||(y={}));var E,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.copyLinkSnackBar;switch((arguments.length>1?arguments[1]:void 0).type){case y.CLOSE_SNACKBAR:return{isActive:!1};case y.OPEN_SNACKBAR:return{isActive:!0};default:return e}};!function(e){e.SET_KEYWORD="SET_KEYWORD"}(E||(E={}));var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.searchKeyword,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SET_KEYWORD:return t.keyword;default:return e}},O=Object(l.c)({category:v,articles:x,copyLinkSnackBar:b,searchKeyword:w}),S=g;var A,j=n(330),k=n(312),C=n(6),D=n(154),T=n(335),R=Object(D.a)({palette:{primary:{main:"#333333",contrastText:"#fff"},secondary:{main:"#1EB980",contrastText:"#fff"}}});(R=Object(T.a)(R)).typography.h1=(A={fontFamily:["Anton","sans-serif"].join(","),fontWeight:400,fontSize:"2rem"},Object(C.a)(A,R.breakpoints.up("md"),{fontSize:"2.5rem"}),Object(C.a)(A,"fontStyle","normal"),Object(C.a)(A,"color","inherit"),A);var I=R,N=n(7),L=n(143),H=n(331),F=n(14),M=n(300),B=n(301),Y=n(302),_=n(303),W=n(304),P=n(24),z=n(305),X=n(306),U=n(307),q=n(309),G=n(156),V=n(311),K=n(308);function J(e,t){var n=Object(r.useState)(!1),a=Object(N.a)(n,2),i=a[0],c=a[1],o=Date.now()-1e3;function s(){var n=Date.now();if(!(n-o<20)&&(o=n,e.current)){var a=e.current.getBoundingClientRect(),r=a.top+a.height<0,i=t?a.top>window.innerHeight*t:a.top>window.innerHeight;r||i||c(!0)}}return Object(r.useEffect)((function(){if(!i)return s(),document.addEventListener("scroll",s),function(){document.removeEventListener("scroll",s)}}),[i,e]),i}var Z=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};var Q,$,ee=function(e){var t=Date.now();return function(){var n=Date.now();return n-t>e&&(t=n,!0)}};!function(e){e.NULL="NULL",e.LEFT="LEFT",e.RIGHT="RIGHT"}(Q||(Q={})),function(e){e.NULL="NULL",e.SWIPE="SWIPE",e.SCROLL="SCROLL"}($||($={}));var te=10;var ne=function(e,t){var n=Object(r.useState)(0),a=Object(N.a)(n,2),i=a[0],c=a[1],o=Object(r.useState)(0),s=Object(N.a)(o,2),l=s[0],u=s[1],h=Object(r.useState)($.NULL),d=Object(N.a)(h,2),f=d[0],m=d[1],p=Object(r.useState)(Q.NULL),g=Object(N.a)(p,2),v=g[0],y=g[1],x=Object(r.useState)(0),E=Object(N.a)(x,2),b=E[0],w=E[1],O=ee(te);function S(e){c(e.changedTouches[0].clientX),u(e.changedTouches[0].clientY)}function A(e){if(O()){var t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;"SWIPE"===f?(e.cancelable&&e.preventDefault(),w(e.changedTouches[0].clientX-i)):"NULL"===f&&Math.abs(t-i)>Math.abs(n-l)?m($.SWIPE):"NULL"===f&&Math.abs(t-i)<=Math.abs(n-l)&&m($.SCROLL)}}function j(e){var n=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY;Math.abs(n-i)>Math.abs(a-l)&&Math.abs(n-i)>t&&f===$.SWIPE&&y(n>i?Q.RIGHT:Q.LEFT),w(0),m($.NULL)}return Object(r.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("touchstart",S),function(){t.removeEventListener("touchstart",S)}}),[e]),Object(r.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("touchmove",A),function(){t.removeEventListener("touchmove",A)}}),[l,f,e]),Object(r.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("touchend",j),function(){t.removeEventListener("touchend",j)}}),[l,f,e]),{direction:v,dragDistance:b,resetSwipeStatus:function(){y(Q.NULL)}}};var ae=Object(s.b)(null,(function(e){return{goPrevious:function(){return e((function(e,t){var n=t().category,a=m.indexOf(n);e(p(0===a?h[m[m.length-1]]:h[m[a-1]]))}))},goNext:function(){return e((function(e,t){var n=t().category,a=m.indexOf(n),r=a===m.length-1;e(p(r?h[m[0]]:h[m[a+1]]))}))}}}))((function(e){var t=Object(r.useRef)(null),n=ne(t,50),a=n.direction,c=n.dragDistance,o=n.resetSwipeStatus;return Object(r.useEffect)((function(){return a===Q.RIGHT?e.goPrevious():a===Q.LEFT&&e.goNext(),function(){o()}}),[a]),i.a.createElement("div",{style:{width:"100%",transform:"translateX(".concat(c,"px)")},ref:t},e.children)})),re=Object(L.a)((function(e){return Object(M.a)(Object(C.a)({wrapper:{width:"100%",padding:"20px 20px 150px 20px"}},e.breakpoints.down("sm"),{wrapper:{padding:"8px 8px 150px 8px"}}))}));function ie(e,t,n){return"calc(".concat(e," * ").concat(n.typography[t].fontSize," * ").concat(n.typography[t].lineHeight,")")}function ce(e,t){return Object(M.a)({root:{position:"relative","&:after":{content:"''",position:"absolute",bottom:0,right:0,width:"20%",height:ie(1,e,t),backgroundImage:"linear-gradient(to right, rgba(255, 255, 255, 0) , rgba(255, 255, 255, 1))",zIndex:10}}})}var oe={width:"100%",overflow:"hidden",position:"relative"},se=Object(L.a)((function(e){return Object(M.a)(Object(C.a)({media:Object(F.a)({height:"550px"},oe),skeleton:Object(F.a)({height:"550px"},oe),title:Object(F.a)({height:ie(1,"body1",e)},ce("body1",e).root,{},oe),source:Object(F.a)({height:ie(1,"body2",e)},oe),articleContent:Object(F.a)({height:ie(2,"body2",e)},ce("body2",e).root,{},oe),buttons:Object(F.a)({},oe)},e.breakpoints.down("sm"),{media:{height:"200px"},skeleton:{height:"200px"}}))})),le=Object(L.a)((function(e){return Object(M.a)(Object(C.a)({media:Object(F.a)({height:"200px"},oe),skeleton:Object(F.a)({height:"200px"},oe),title:Object(F.a)({height:ie(2,"body1",e)},ce("body1",e).root,{},oe),source:Object(F.a)({height:ie(1,"body2",e)},oe),articleContent:Object(F.a)({height:ie(3,"body2",e)},ce("body2",e).root,{},oe),buttons:Object(F.a)({},oe)},e.breakpoints.down("sm"),{}))}));function ue(e){return i.a.createElement(B.a,{className:e.className},i.a.createElement(Y.a,{href:e.url,target:"_blank",rel:"noopener",underline:"none"},i.a.createElement(_.a,{size:"small",color:"primary"},"Learn more")),i.a.createElement(_.a,{size:"small",color:"primary",onClick:function(){Z(e.url),e.openCopyLinkSnackBar()}},"Share"))}function he(e){var t=Object(r.useRef)(null),n=J(t),a=Object(r.useState)(!1),c=Object(N.a)(a,2),o=c[0],s=c[1],l=!Object(W.a)(Object(P.a)().breakpoints.down("sm")),u=0===e.id||1===e.id,h=se(),d=le(),f=u?h:d;Object(r.useEffect)((function(){l&&setTimeout((function(){return s(!0)}),225)}),[]);var m=i.a.createElement(z.a,{item:!0,xs:12,md:u?6:3,ref:t},i.a.createElement(X.a,{raised:!0},n&&e.urlToImage?i.a.createElement(U.a,{component:"img",alt:e.title,className:f.media,image:e.urlToImage,title:e.title}):i.a.createElement(K.a,{variant:"rect",className:f.skeleton}),i.a.createElement(q.a,null,i.a.createElement(G.a,{gutterBottom:!0,variant:"body1",component:"h2",className:f.title},i.a.createElement(H.a,{fontWeight:700},e.title)),i.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"p",className:f.source},i.a.createElement(H.a,{component:"span",fontWeight:700},e.source?e.source+" - ":e.author?e.author+" - ":"",function(e){var t=Date.now()-e.getTime();if(t<0)return"now";var n=Math.floor(t/6e4);if(n<=59)return"".concat(n," ").concat(1===n?"minute":"minutes"," ago");var a=Math.floor(t/36e5);if(a<=23)return"".concat(a," ").concat(1===a?"hour":"hours"," ago");var r=Math.floor(t/864e5);if(r<=30)return"".concat(r," ").concat(1===r?"day":"days"," ago");var i=Math.floor(t/2592e6);if(i<=12)return"".concat(i," ").concat(1===i?"month":"months"," ago");var c=Math.floor(t/31536e6);return"".concat(c," ").concat(1===c?"year":"years"," ago")}(new Date(e.publishedAt)))),i.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"p",className:f.articleContent},e.content&&e.content.replace(/\[\+[0-9]+\schars\]/gi,""))),i.a.createElement(ue,{url:e.url,className:f.buttons,openCopyLinkSnackBar:e.openCopyLinkSnackBar})));return l?i.a.createElement(V.a,{in:!o||n},m):m}function de(e){return i.a.createElement(i.a.Fragment,null,e.articles.map((function(t,n){return i.a.createElement(he,Object.assign({},t,{key:n,id:n,openCopyLinkSnackBar:e.openCopyLinkSnackBar}))})))}var fe=Object(s.b)(null,(function(e){return{openCopyLinkSnackBar:function(){return e({type:y.OPEN_SNACKBAR})}}}))((function(e){var t,n=re();return Object(r.useEffect)((function(){window.scrollTo(0,0)})),t=e.articles.isError?i.a.createElement("div",{style:{width:"100%"}},"error"):e.articles.isFetching?i.a.createElement(i.a.Fragment,null,Array.from(Array(10),(function(e,t){return i.a.createElement(z.a,{item:!0,key:t},i.a.createElement(H.a,{width:500,height:300,maxWidth:"100%"},i.a.createElement(K.a,{variant:"rect",width:500,height:200}),i.a.createElement(K.a,{width:500}),i.a.createElement(K.a,{width:500})))}))):i.a.createElement(de,{articles:e.articles.articles,openCopyLinkSnackBar:e.openCopyLinkSnackBar}),i.a.createElement(ae,null,i.a.createElement(H.a,{className:n.wrapper},i.a.createElement(z.a,{container:!0,direction:"row",alignContent:"center",justify:"center",spacing:2},t)))})),me=n(336),pe=n(337);var ge=function(){return i.a.createElement(H.a,{mt:10,mb:2,mx:2},i.a.createElement(z.a,{container:!0,direction:"row",spacing:2},i.a.createElement(z.a,{item:!0},i.a.createElement(Y.a,{href:"https://www.xiaoxihome.com/",target:"_blank",rel:"noopener",underline:"none"},i.a.createElement(me.a,{avatar:i.a.createElement(pe.a,null,"X"),label:"\ud83d\udd27 with \u2764\ufe0f by XiaoxiHome",color:"primary",clickable:!0}))),i.a.createElement(z.a,{item:!0},i.a.createElement(Y.a,{href:"https://newsapi.org/",target:"_blank",rel:"noopener",underline:"none"},i.a.createElement(me.a,{avatar:i.a.createElement(pe.a,null,"N"),label:"News data courtesy of NewsAPI.org",color:"secondary",clickable:!0})))))},ve=n(338),ye=n(314),xe=n(315),Ee=n(145),be=n.n(Ee),we=n(83),Oe=n(9),Se=n.n(Oe),Ae=Se()((function(){return Object(M.a)({successSnackBar:{backgroundColor:we.a[600]}})}));var je=function(e){var t=Ae();function n(){e.closeCopyLinkSnackBar()}return i.a.createElement(ve.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:e.isActive,autoHideDuration:3e3,onClose:n},i.a.createElement(ye.a,{className:t.successSnackBar,message:i.a.createElement("span",{id:"client-snackbar"},"Link copied to clipboard"),action:[i.a.createElement(xe.a,{key:"close","aria-label":"close",color:"inherit",onClick:n},i.a.createElement(be.a,null))]}))};var ke,Ce=Object(s.b)((function(e){return{isActive:e.copyLinkSnackBar.isActive}}),(function(e){return{closeCopyLinkSnackBar:function(){return e({type:y.CLOSE_SNACKBAR})}}}))(je),De=n(23),Te=n(40),Re=n.n(Te);!function(e){e.relevance="relevance",e.date="date"}(ke||(ke={}));var Ie,Ne=ke,Le=function(e,t,n,a,r){return new Promise((function(i,c){var o=r?"&date=".concat(r):"";a=a||Ne.relevance;var s="".concat("https://www.xiaoxihome.com/api/search-news","?keyword=").concat(e,"&frequency=").concat(n,"&skip=").concat(t,"&sort=").concat(a).concat(o);fetch(s).then((function(e){return e.json()})).then((function(e){"ok"===e.status?i(e):(console.log(e),c(e))})).catch((function(e){console.log(e),c(e)}))}))};!function(e){e.LOADING="LOADING",e.LOADED_NORMAL="LOADED_NORMAL",e.LOADED_EMPTY="LOADED_EMPTY",e.LOADED_NO_MORE="LOADED_NO_MORE",e.ERROR="ERROR"}(Ie||(Ie={}));var He=Ie,Fe=function(e){var t=Object(r.useState)(He.LOADING),n=Object(N.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)([]),o=Object(N.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)(Ne.relevance),h=Object(N.a)(u,2),d=h[0],f=h[1],m=Object(r.useState)(0),p=Object(N.a)(m,2),g=p[0],v=p[1],y=Object(r.useState)(null),x=Object(N.a)(y,2),E=x[0],b=x[1],w=Object(r.useState)(0),O=Object(N.a)(w,2),S=O[0],A=O[1],j=Object(r.useState)(0),k=Object(N.a)(j,2),C=k[0],D=k[1],T=function(e,t){i(e===t&&0!==t?He.LOADED_NO_MORE:0===t?He.LOADED_EMPTY:He.LOADED_NORMAL)};return Object(r.useEffect)((function(){!function(){var t;Re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l([]),b(null),v(0),f(Ne.relevance),A(0),D(0),i(He.LOADING),n.next=10,Re.a.awrap(Le(e,0,!0));case 10:t=n.sent,l(t.data),b(t.frequency),v(t.totalCount),T(t.data.length,t.totalCount),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),i(He.ERROR);case 20:case"end":return n.stop()}}),null,null,[[0,17]])}()}),[e]),{status:a,data:s,frequencyData:E,sortType:d,totalCount:g,pendingDateFilter:S,dateFilter:C,toggleSort:function(t){var n;return Re.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,a!==He.LOADING){r.next=3;break}return r.abrupt("return");case 3:if(t!==d){r.next=5;break}return r.abrupt("return");case 5:return l([]),f(t),i(He.LOADING),r.next=10,Re.a.awrap(Le(e,0,!1,t,C));case 10:n=r.sent,l(n.data),T(n.data.length,n.totalCount),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),i(He.ERROR);case 18:case"end":return r.stop()}}),null,null,[[0,15]])},loadMore:function(){var t,n;return Re.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,a!==He.LOADING){r.next=3;break}return r.abrupt("return");case 3:return i(He.LOADING),r.next=6,Re.a.awrap(Le(e,s.length,!1,d,C));case 6:t=r.sent,n=0,l((function(e){return n=e.length+t.data.length,[].concat(Object(De.a)(e),Object(De.a)(t.data))})),T(n,t.totalCount),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),i(He.ERROR);case 15:case"end":return r.stop()}}),null,null,[[0,12]])},setPendingDateFilter:function(e){A(e)},setDateFilter:function(t){var n;return Re.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,a!==He.LOADING){r.next=3;break}return r.abrupt("return");case 3:if(t!==C){r.next=5;break}return r.abrupt("return");case 5:return l([]),v(0),A(0),D(t),i(He.LOADING),r.next=12,Re.a.awrap(Le(e,0,!1,d,t));case 12:n=r.sent,l(n.data),v(n.totalCount),T(n.data.length,n.totalCount),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(0),i(He.ERROR);case 21:case"end":return r.stop()}}),null,null,[[0,18]])}}};function Me(e){var t=new Date(e);return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate())}var Be=Se()((function(e){return{root:{margin:e.spacing(1,0)}}})),Ye=function(e){var t=e.count,n=e.keyword,a=e.currentLength,r=e.dateFilter,c=1===t?"article":"articles",o=Be(),s=r?" on ".concat(Me(r)):"";return i.a.createElement(G.a,{variant:"body1",component:"div",className:o.root},i.a.createElement(H.a,{fontWeight:700,textAlign:"center"},"".concat(t," news ").concat(c,' found related to "').concat(n,'"').concat(s,", displaying 1 - ").concat(a)))},_e=function(){return i.a.createElement(K.a,{variant:"rect",width:"100%",height:200,animation:"wave"})},We=Se()((function(e){return{root:{margin:e.spacing(5,0),width:300}}})),Pe=function(e){var t=e.onClick,n=We();return i.a.createElement(_.a,{variant:"contained",disableElevation:!0,color:"secondary",onClick:t,className:n.root},"Load more")},ze=n(316),Xe=Se()((function(e){return{root:{margin:e.spacing(2,0)}}})),Ue=function(e){var t=e.message,n=e.divider,a=Xe();return i.a.createElement(i.a.Fragment,null,i.a.createElement(G.a,{variant:"body1",component:"div",className:a.root},i.a.createElement(H.a,{fontWeight:700,textAlign:"center"},t)),n&&i.a.createElement(ze.a,{style:{width:"100%"}}))},qe=n(317),Ge=Se()((function(e){return Object(M.a)({highlight:{backgroundColor:e.palette.secondary.light}})})),Ve=function(e){var t=e.content,n=e.keyword,a=new RegExp("("+n+")","gi"),r=t.split(a),c=Ge();return i.a.createElement(i.a.Fragment,null,r.map((function(e,t){return t%2===1?i.a.createElement("span",{className:c.highlight,key:t},e):i.a.createElement("span",{key:t},e)})))},Ke=Object(L.a)((function(e){return{cardRoot:{width:"100%",margin:e.spacing(2,0)},cardActionArea:{width:"100%",height:"100%","& a":{width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center","&:visited, &:link":{textDecoration:"inherit",color:"inherit",cursor:"pointer"}}},cardMedia:{width:"20%",height:"100%"},cardContent:{width:"80%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),Je=function(e){var t=e.article,n=e.keyword,a=Ke(),c=function(){var e=Object(r.useState)(0),t=Object(N.a)(e,2),n=t[0],a=t[1],i=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(i.current){var e=i.current.getBoundingClientRect().height;a(e)}}),[i]),{cardHeight:n,heightRef:i}}(),o=c.cardHeight,s=c.heightRef;return i.a.createElement(X.a,{className:a.cardRoot,style:{height:o?"".concat(o,"px"):"auto"}},i.a.createElement(qe.a,{className:a.cardActionArea},i.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.urlToImage?i.a.createElement(U.a,{component:"img",alt:t.title,className:a.cardMedia,image:t.urlToImage,title:t.title}):i.a.createElement(K.a,{variant:"rect",className:a.cardMedia}),i.a.createElement(q.a,{className:a.cardContent,ref:s},i.a.createElement(G.a,{variant:"body1",component:"h2"},i.a.createElement(H.a,{fontWeight:700},i.a.createElement(Ve,{content:t.title,keyword:n}))),i.a.createElement(G.a,{variant:"body2",component:"div",color:"textSecondary"},i.a.createElement(H.a,{fontWeight:700},new Date(t.publishedAt).toDateString())),i.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"p"},i.a.createElement(Ve,{content:t.content.replace(/\[\+[0-9]+\schars\]/gi,""),keyword:n}))))))},Ze=n(148),Qe=n.n(Ze),$e=n(339),et=n(318),tt=n(146);n.n(tt).a.polyfill();var nt=Se()((function(e){return{root:Object(C.a)({position:"fixed",zIndex:e.zIndex.modal,bottom:"50px",right:"50px",backgroundColor:e.palette.secondary.main,color:"#FFF",transition:e.transitions.create("background-color opacity"),transform:"rotate(-90deg)","&:hover":{backgroundColor:e.palette.secondary.light}},e.breakpoints.down("md"),{bottom:"15px",right:"15px"})}})),at=function(){var e=nt(),t=function(){var e=Object(r.useState)(!1),t=Object(N.a)(e,2),n=t[0],a=t[1],i=function(){window.scrollY>window.innerHeight&&!n?a(!0):window.scrollY<window.innerHeight&&n&&a(!1)};return Object(r.useEffect)((function(){return document.addEventListener("scroll",i),function(){document.removeEventListener("scroll",i)}}),[n]),n}();return i.a.createElement(et.a,{in:t},i.a.createElement($e.a,{title:"Scroll to Top",className:e.root},i.a.createElement(xe.a,{"aria-label":"Scroll to Top",onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"})}},i.a.createElement(Qe.a,null))))},rt=n(25),it=n(17),ct=n(13),ot=function(){function e(t,n,a,r,i){Object(rt.a)(this,e),this.dataArray=void 0,this.auxArray=void 0,this.params=void 0,this.dimension=void 0,this.scales=void 0,this.svg=void 0,this.references=void 0,this.axis=void 0,this.dataArray={bin:n,frequency:a},this.auxArray={binDate:this.getBinDateArray(n),barTransitionDelay:this.getBarTransitionDelayArray(500,a)},this.params={lightColor:t.palette.secondary.light,darkColor:t.palette.secondary.dark,primaryColor:t.palette.primary.light,backgroundColor:"#EEE",TRANSITION_DELAY:500,BAR_TRANSITION_DURATION:2e3,maxFrequency:Math.max.apply(Math,this.dataArray.frequency),binLength:this.dataArray.bin.length,argWidth:r,selector:i},this.dimension=this.getDimensions(r),this.svg=ct.n("#".concat(this.params.selector)).append("svg"),this.references={svg:this.svg,bars:this.svg.append("g").selectAll("rect").data(this.dataArray.frequency).enter().append("rect"),axisX:this.svg.append("g"),axisY:this.svg.append("g"),axisXHoverDate:this.svg.append("g"),axisXHoverFrequency:this.svg.append("g"),axisYHover:this.svg.append("g"),hoverDetection:this.svg.append("g").selectAll("rect").data(this.dataArray.frequency).enter().append("rect")},this.scales={x:ct.k().domain(this.dataArray.frequency.map((function(e,t){return t.toString()}))).range([0,this.dimension.chartWidth]),y:ct.l().domain([0,this.params.maxFrequency]).range([this.dimension.chartHeight,0])},this.axis={x:ct.a(this.scales.x),y:ct.b(this.scales.y),xHoverDate:ct.a(this.scales.x),xHoverFrequency:ct.a(this.scales.x),yHover:ct.b(this.scales.y)},this.setHoverDetectionEventHandlers=this.setHoverDetectionEventHandlers.bind(this)}return Object(it.a)(e,[{key:"getBinDateArray",value:function(e){return e.map(Me)}},{key:"getBarTransitionDelayArray",value:function(e,t){for(var n=[],a=e,r=0;r<t.length;r++)0===t[r]?n.push(a):n.push(a+=20);return n}},{key:"getDimensions",value:function(e){var t=e,n=Math.min(Math.round(t/3),200),a={t:10,r:30,b:30,l:30};return{svgWidth:t,svgHeight:n,m:a,chartWidth:t-a.l-a.r,chartHeight:n-a.t-a.b,chartX:a.l,chartY:a.t}}},{key:"setSvg",value:function(){this.references.svg.attr("width",this.dimension.svgWidth).attr("height",this.dimension.svgHeight).style("background",this.params.backgroundColor)}},{key:"setBars",value:function(){var e=this,t=this.scales.x.bandwidth(),n=function(t){return e.dimension.chartHeight-e.scales.y(t)};this.references.bars.style("fill",this.params.lightColor).style("opacity",.8).attr("width",t).attr("height",0).attr("x",(function(t,n){return e.dimension.chartX+(e.scales.x(n.toString())||0)})).attr("y",this.dimension.chartY+this.dimension.chartHeight),this.references.bars.transition().attr("height",n).attr("y",(function(t){return e.dimension.chartY+e.dimension.chartHeight-n(t)})).delay((function(t,n){return e.auxArray.barTransitionDelay[n]})).duration(this.params.BAR_TRANSITION_DURATION).ease(ct.d)}},{key:"setAxisX",value:function(){var e=this;this.axis.x.tickSizeOuter(0).tickFormat((function(t,n){return e.auxArray.binDate[parseInt(t)]})).tickValues([0,Math.floor(.25*this.params.binLength),Math.floor(.5*this.params.binLength),Math.floor(.75*this.params.binLength),this.params.binLength-1].map((function(e){return"".concat(e)}))),this.references.axisX.style("transform","translate(".concat(-.5*this.dimension.svgWidth,"px, ").concat(this.dimension.svgHeight+this.dimension.chartY,"px)")).style("opacity",0).style("color",this.params.darkColor),this.references.axisX.transition().style("opacity",1).style("transform","translate(".concat(this.dimension.chartX,"px, ").concat(this.dimension.chartHeight+this.dimension.chartY,"px)")).delay(this.params.TRANSITION_DELAY).duration(1e3).ease(ct.d),this.axis.x(this.references.axisX)}},{key:"setAxisY",value:function(){this.axis.y.tickSizeOuter(0).tickFormat(ct.e("d")).tickValues([0,Math.floor(.5*this.params.maxFrequency),this.params.maxFrequency]),this.references.axisY.style("transform","translate(".concat(this.dimension.chartX,"px, ").concat(this.dimension.chartHeight,"px)")).style("opacity",0).style("color",this.params.darkColor),this.references.axisY.transition().style("opacity",1).style("transform","translate(".concat(this.dimension.chartX,"px, ").concat(this.dimension.chartY,"px)")).delay(this.params.TRANSITION_DELAY).duration(1e3).ease(ct.d),this.axis.y(this.references.axisY)}},{key:"setAxisXHoverDate",value:function(){var e=this;this.references.axisXHoverDate.style("opacity",0).style("transform","translate(".concat(this.dimension.chartX,"px, ").concat(this.dimension.chartHeight+this.dimension.chartY,"px)")),this.axis.xHoverDate.tickFormat((function(t){return e.auxArray.binDate[parseInt(t)]}))}},{key:"setAxisXHoverFrequency",value:function(){var e=this;this.references.axisXHoverFrequency.style("opacity",0),this.axis.xHoverFrequency.tickFormat((function(t){return"".concat(e.dataArray.frequency[parseInt(t)])})).tickSize(0).tickPadding(-9)}},{key:"setAxisYHover",value:function(){this.references.axisYHover.style("opacity",0).style("transform","translate(".concat(this.dimension.chartX,"px, ").concat(this.dimension.chartY,"px)")),this.axis.yHover.tickFormat(ct.e("d")).tickSizeInner(-this.dimension.chartWidth-6).tickSizeOuter(0).tickPadding(9)}},{key:"setHoverDetection",value:function(){var e=this,t=this.scales.x.bandwidth();this.references.hoverDetection.style("opacity",0).attr("width",t).attr("height",this.dimension.svgHeight).attr("x",(function(t,n){return e.dimension.chartX+(e.scales.x(n.toString())||0)})).attr("y",0),this.setHoverDetectionEventHandlers()}},{key:"setHoverDetectionEventHandlers",value:function(){var e=this;this.references.hoverDetection.on("mouseover",(function(t,n){var a,r;e.axis.yHover.tickValues([t]),e.axis.yHover(e.references.axisYHover),e.references.axisYHover.selectAll(".tick line").style("transform","translate(-6px, 0)").style("color",e.params.primaryColor),e.references.axisYHover.selectAll(".domain").remove(),e.references.axisYHover.style("opacity",1);var i=null===(a=e.references.axisYHover.select("text").node())||void 0===a?void 0:a.getBBox();i&&e.references.axisYHover.selectAll("g.tick").insert("rect",":first-child").attr("width",i.width).attr("height",i.height).attr("x",i.x).attr("y",i.y).style("fill",e.params.backgroundColor),e.axis.xHoverDate.tickValues(["".concat(n)]),e.axis.xHoverDate(e.references.axisXHoverDate),e.references.axisXHoverDate.selectAll(".domain").remove(),e.references.axisXHoverDate.style("opacity",1);var c=null===(r=e.references.axisXHoverDate.select("text").node())||void 0===r?void 0:r.getBBox();c&&e.references.axisXHoverDate.selectAll("g.tick").insert("rect",":first-child").attr("width",1.2*c.width).attr("height",c.height).attr("x",c.x-.1*c.width).attr("y",c.y).style("fill",e.params.backgroundColor),e.axis.xHoverFrequency.tickValues(["".concat(n)]),e.axis.xHoverFrequency(e.references.axisXHoverFrequency),e.references.axisXHoverFrequency.selectAll(".domain").remove(),e.references.axisXHoverFrequency.style("transform","translate(".concat(e.dimension.chartX,"px, ").concat(e.scales.y(t)+e.dimension.chartY,"px)")).style("opacity",1),e.references.bars.filter((function(e,t){return t===n})).style("fill",e.params.primaryColor)})).on("mouseout",(function(t,n){e.references.axisYHover.style("opacity",0),e.references.axisXHoverFrequency.style("opacity",0),e.references.axisXHoverDate.style("opacity",0),e.references.bars.filter((function(e,t){return t===n})).style("fill",e.params.lightColor)}))}},{key:"bindSetDate",value:function(e){var t=this;this.references.hoverDetection.on("click",(function(n,a){e(t.dataArray.bin[a])}))}},{key:"draw",value:function(){this.setSvg(),this.setBars(),this.setAxisX(),this.setAxisY(),this.setAxisXHoverDate(),this.setAxisXHoverFrequency(),this.setAxisYHover(),this.setHoverDetection()}},{key:"main",value:function(){this.draw()}}]),e}(),st=Object(L.a)((function(e){return{root:{width:"100%"}}})),lt=function(e){var t=e.bin,n=e.frequency,a=e.setDate,c=Object(r.useRef)(null),o=st(),s=Object(P.a)();return Object(r.useEffect)((function(){if(c.current){var e=new ot(s,t.map((function(e){return e.ms})),n.slice(),c.current.getBoundingClientRect().width,"keyword-frequency-chart");e.main(),e.bindSetDate(a)}}),[c,t,n]),i.a.createElement("div",{ref:c,className:o.root,id:"keyword-frequency-chart"})},ut=n(340),ht=n(320),dt=n(332),ft=n(342),mt=function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},pt=Se()((function(e){return{root:{minWidth:200},resetFontSize:{fontSize:e.typography.fontSize}}})),gt=function(e){var t=e.toggleSort,n=e.sortType,a=pt();return i.a.createElement(ht.a,{className:a.root,color:"secondary"},i.a.createElement(ut.a,{htmlFor:"searched-article-sort"},"Sort by"),i.a.createElement(dt.a,{value:n,onChange:function(e){var a=e.target.value;a!==n&&t(a)},inputProps:{name:"sort",id:"searched-article-sort"},className:a.resetFontSize},i.a.createElement(ft.a,{value:Ne.relevance,className:a.resetFontSize},mt(Ne.relevance)),i.a.createElement(ft.a,{value:Ne.date,className:a.resetFontSize},mt(Ne.date))))},vt=n(149),yt=n.n(vt),xt=Se()((function(e){return{root:{minWidth:200,borderRadius:0,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},cancelIcon:{position:"absolute",right:5}}})),Et=function(e){var t,n=e.pendingDateFilter,a=e.dateFilter,r=e.setDateFilter,c=xt();return t=a?i.a.createElement(me.a,{label:"".concat(Me(a)),onDelete:function(){return r(0)},classes:{root:c.root},color:"secondary",deleteIcon:i.a.createElement(yt.a,{className:c.cancelIcon})}):n?i.a.createElement(me.a,{label:"".concat(Me(n)),onClick:function(){return r(n)},className:c.root,variant:"outlined",color:"secondary"}):i.a.createElement(me.a,{label:"Use chart to set date",variant:"outlined",disabled:!0,className:c.root}),i.a.createElement(i.a.Fragment,null,i.a.createElement(ut.a,{shrink:!0},"Filter by date:"),t)},bt=Se()((function(e){return{root:Object(C.a)({width:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"center"},e.breakpoints.down("md"),{flexDirection:"column",alignItems:"center"}),itemWrapper:Object(C.a)({padding:e.spacing(2)},e.breakpoints.down("md"),{padding:e.spacing(1)})}})),wt=function(e){var t=e.toggleSort,n=e.sortType,a=e.pendingDateFilter,r=e.dateFilter,c=e.setDateFilter,o=bt();return i.a.createElement("div",{className:o.root},i.a.createElement("div",{className:o.itemWrapper},i.a.createElement(gt,{toggleSort:t,sortType:n})),i.a.createElement("div",{className:o.itemWrapper},i.a.createElement(Et,{pendingDateFilter:a,dateFilter:r,setDateFilter:c})))},Ot=function(e){return{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:e.spacing(2,0,15,0)}},St=function(e){return Object(C.a)({width:"1000px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:e.spacing(2)},e.breakpoints.down("sm"),{width:"100%"})},At=Object(L.a)((function(e){return{root:Object(F.a)({},Ot(e)),widthWrapper:Object(F.a)({},St(e)),cardRoot:{width:"100%",margin:e.spacing(2,0)},cardActionArea:{width:"100%",height:"100%","& a":{width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center","&:visited, &:link":{textDecoration:"inherit",color:"inherit",cursor:"pointer"}}},cardMedia:{width:"20%",height:"100%"},cardContent:{width:"80%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),jt=function(e){var t=e.keyword,n=Fe(t),a=n.data,c=n.frequencyData,o=n.status,s=n.sortType,l=n.totalCount,u=n.pendingDateFilter,h=n.dateFilter,d=n.setPendingDateFilter,f=n.setDateFilter,m=n.loadMore,p=n.toggleSort,g=At(),v=a.length>0,y='No news article related to "'.concat(t,'"').concat(h?" on "+Me(h):""," was found"),x=function(e,t,n){var a=Object(r.useState)(!1),i=Object(N.a)(a,2),c=i[0],o=i[1];return Object(r.useEffect)((function(){e.length>0&&t&&o(!0)}),[e,t]),Object(r.useEffect)((function(){o(!1)}),[n]),c}(a,c,t);return i.a.createElement("div",{className:g.root,key:t},i.a.createElement("div",{className:g.widthWrapper},x&&c&&i.a.createElement(lt,{bin:c.bin,frequency:c.frequency,setDate:d}),x&&i.a.createElement(wt,{sortType:s,toggleSort:p,pendingDateFilter:u,dateFilter:h,setDateFilter:f}),v&&i.a.createElement(Ye,{count:l,keyword:t,currentLength:a.length,dateFilter:h}),o===He.LOADED_EMPTY&&i.a.createElement(Ue,{message:y}),o===He.ERROR&&i.a.createElement(Ue,{message:"Server error please try later"}),v&&a.map((function(e){return i.a.createElement(Je,{article:e,keyword:t,key:e._id})})),o===He.LOADING&&i.a.createElement(_e,null),o===He.LOADED_NORMAL&&i.a.createElement(Pe,{onClick:m}),o===He.LOADED_NO_MORE&&i.a.createElement(Ue,{message:"End of results",divider:!0})),i.a.createElement(at,null))};var kt,Ct=Object(s.b)((function(e){return{keyword:e.searchKeyword}}))(jt);!function(e){e.loading="loading",e.loaded="loaded",e.error="error"}(kt||(kt={}));var Dt,Tt=function(){var e=Object(r.useState)(kt.loading),t=Object(N.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(null),c=Object(N.a)(i,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){fetch("https://www.xiaoxihome.com/api/news-analytics").then((function(e){return e.json()})).then((function(e){"ok"!==e.status?(console.log(e),a(kt.error)):(s({totalDocuments:e.summaryStatistics.totalDocuments,earliestDocumentDate:e.summaryStatistics.earliestDocumentDate,latestDocumentDate:e.summaryStatistics.latestDocumentDate,documentsCountByCategory:e.summaryStatistics.documentsCountByCategory,documentsCountByDay:{time:e.summaryStatistics.documentsCountByDay.bin.map((function(e){return e.ms})),count:e.summaryStatistics.documentsCountByDay.frequency},wordCloud:e.summaryStatistics.wordCloud}),a(kt.loaded))})).catch((function(e){console.log(e),a(kt.error)}))}),[]),{status:n,summaryStatisticsData:o}},Rt=n(323),It=Se()((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),Nt=function(e){var t=e.children,n=It(),a=Object(r.useRef)(null),c=Object(r.useState)(window.innerHeight-100),o=Object(N.a)(c,2),s=o[0];o[1];return i.a.createElement("div",{className:n.root,ref:a,style:{minHeight:"".concat(s,"px")}},t)},Lt=function(){function e(t,n,a){Object(rt.a)(this,e),this.getColor=function(e){var t=["#003f5c","#374c80","#7a5195","#bc5090","#ef5675","#ff764a","#ffa600"];return t[e>t.length-1?0:e]},this.hasAnimated=!1,this.id=void 0,this.params=void 0,this.svg=void 0,this.references=void 0,this.data=void 0,this.id=t,this.params=this.getParams(a),this.svg=ct.n("#".concat(t)).append("svg"),this.data={pieZero:this.getPieData(n.map((function(e,t){return{value:0===t?100:0,title:e.title}}))),pie:this.getPieData(n),totalValue:this.getPieData(n).reduce((function(e,t){return e+t.data.value}),0)},this.references=this.createReferences()}return Object(it.a)(e,[{key:"getParams",value:function(e){var t=.6*e;return{width:e,height:t,startAngle:Math.PI,endAngle:3*Math.PI,rx:e/2*.8,ry:t/2-.1*t,h:.1*t,ir:.4}}},{key:"getPieData",value:function(e){return ct.j().value((function(e){return e.value})).sort((function(e,t){return e.value-t.value})).startAngle(this.params.startAngle).endAngle(this.params.endAngle)(e)}},{key:"createReferences",value:function(){var e=this.svg.append("g"),t=e.selectAll().data(this.data.pie).enter().append("path"),n=e.selectAll().data(this.data.pie).enter().append("path"),a=e.selectAll().data(this.data.pie).enter().append("path"),r=e.selectAll().data(this.data.pie).enter().append("text"),i=r.append("tspan"),c=r.append("tspan");return{pie:e,innerSlice:t,topSlice:n,outerSlice:a,text:r,text1:i,text2:c}}},{key:"drawPie",value:function(e,t,n,a,r,i){var c=this;this.references.pie.attr("transform","translate("+e+","+t+")"),this.references.innerSlice.style("fill",(function(e){return ct.h(c.getColor(e.index)).darker().toString()})).attr("d",(function(e){return c.pieInner(c.data.pieZero.filter((function(t){return t.index===e.index}))[0],n+.5,a+.5,0,i)})),this.references.topSlice.style("fill",(function(e){return c.getColor(e.index)})).attr("d",(function(e){return c.pieTop(c.data.pieZero.filter((function(t){return t.index===e.index}))[0],n,a,i)})),this.references.outerSlice.style("fill",(function(e){return ct.h(c.getColor(e.index)).darker().toString()})).attr("d",(function(e){return c.pieOuter(c.data.pieZero.filter((function(t){return t.index===e.index}))[0],n-.5,a-.5,0)})),this.references.text.attr("x","0").attr("y","0").attr("text-anchor","middle").style("fill","white").style("opacity",0),this.references.text1.attr("dy",0).style("font-weight",700).text((function(e){return e.data.title.toUpperCase()})),this.references.text2.attr("dy","1.2em").text((function(e){return(e.data.value/c.data.totalValue*100).toFixed(2)+"%"}))}},{key:"pieTransition",value:function(e,t,n,a,r,i){var c=this,o=ct.i(0,n);function s(t){var n=ct.i(r.filter((function(e){return e.index===t.index}))[0],i.filter((function(e){return e.index===t.index}))[0]);return function(t){return"".concat(.5*(1+a)*e*Math.cos(.5*(n(t).startAngle+n(t).endAngle)))}}this.references.innerSlice.transition().duration(2e3).delay(2e3).attrTween("d",(function(n){return function(r){return c.pieInner(n,e+.5,t+.5,o(r),a)}})),this.references.topSlice.transition().duration(2e3).attrTween("d",(function(n){var o=ct.i(r.filter((function(e){return e.index===n.index}))[0],i.filter((function(e){return e.index===n.index}))[0]);return function(n){return c.pieTop(o(n),e,t,a)}})),this.references.outerSlice.transition().duration(2e3).delay(2e3).attrTween("d",(function(n){return function(a){return c.pieOuter(n,e-.5,t-.5,o(a))}})),this.references.text.style("opacity",0),this.references.text.transition().duration(2e3).attrTween("x",s).attrTween("y",(function(e){var n=ct.i(r.filter((function(t){return t.index===e.index}))[0],i.filter((function(t){return t.index===e.index}))[0]);return function(e){return"".concat(.5*(1+a)*t*Math.sin(.5*(n(e).startAngle+n(e).endAngle)))}})).style("opacity",1),this.references.text1.transition().duration(2e3).attrTween("x",s),this.references.text2.transition().duration(2e3).attrTween("x",s)}},{key:"pieTop",value:function(e,t,n,a){if(e.endAngle-e.startAngle===0)return"M 0 0";var r=t*Math.cos(e.startAngle),i=n*Math.sin(e.startAngle),c=t*Math.cos(e.endAngle),o=n*Math.sin(e.endAngle),s=[];return s.push("M",r,i,"A",t,n,"0",e.endAngle-e.startAngle>Math.PI?1:0,"1",c,o,"L",a*c,a*o),s.push("A",a*t,a*n,"0",e.endAngle-e.startAngle>Math.PI?1:0,"0",a*r,a*i,"z"),s.join(" ")}},{key:"pieOuter",value:function(e,t,n,a){var r=e.startAngle<2*Math.PI?2*Math.PI:e.startAngle,i=e.endAngle<2*Math.PI?2*Math.PI:e.endAngle,c=t*Math.cos(r),o=n*Math.sin(r),s=t*Math.cos(i),l=n*Math.sin(i),u=[];return u.push("M",c,a+o,"A",t,n,"0 0 1",s,a+l,"L",s,l,"A",t,n,"0 0 0",c,o,"z"),u.join(" ")}},{key:"pieInner",value:function(e,t,n,a,r){var i=e.startAngle<Math.PI?Math.PI:e.startAngle,c=e.endAngle<Math.PI?Math.PI:e.endAngle,o=r*t*Math.cos(i),s=r*n*Math.sin(i),l=r*t*Math.cos(c),u=r*n*Math.sin(c),h=[];return h.push("M",o,s,"A",r*t,r*n,"0 0 1",l,u,"L",l,a+u,"A",r*t,r*n,"0 0 0",o,a+s,"z"),h.join(" ")}},{key:"styleSvg",value:function(){this.svg.attr("width",this.params.width).attr("height",this.params.height)}},{key:"animate",value:function(){this.hasAnimated||(this.pieTransition(this.params.rx,this.params.ry,this.params.h,this.params.ir,this.data.pieZero,this.data.pie),this.hasAnimated=!0)}},{key:"main",value:function(){this.styleSvg(),this.drawPie(this.params.width/2,this.params.height/2,this.params.rx,this.params.ry,this.params.h,this.params.ir)}}]),e}(),Ht=function(e){return Object(C.a)({width:"100%",fontFamily:"Open Sans,sans-serif",fontSize:"6rem",fontWeight:800,margin:0,lineHeight:1},e.breakpoints.down("sm"),{fontSize:"3rem"})},Ft=function(e){return Object(C.a)({textAlign:"start",width:"70%",fontFamily:"Open Sans,sans-serif",textTransform:"uppercase",fontSize:"2rem",fontWeight:800,margin:e.spacing(0,0),lineHeight:1},e.breakpoints.down("sm"),{fontSize:"1rem"})},Mt=function(e){return Object(C.a)({color:"grey",textAlign:"start",width:"70%",fontFamily:"Open Sans,sans-serif",fontSize:"1rem",fontWeight:800,margin:e.spacing(2,0)},e.breakpoints.down("sm"),{fontSize:"0.875rem"})},Bt=function(e){return Object(C.a)({width:"100%",fontFamily:"Open Sans,sans-serif",fontSize:"1rem",fontWeight:800,margin:0},e.breakpoints.down("sm"),{fontSize:"0.875rem"})},Yt=Se()((function(e){return{title:Object(F.a)({},Ft(e))}})),_t=function(e){var t=e.value,n=Yt();return i.a.createElement(i.a.Fragment,null,t.split(" ").map((function(e,t){return i.a.createElement("h2",{className:n.title,key:t},e)})))},Wt=Se()((function(e){return{content:Object(F.a)({},Mt(e))}})),Pt=function(e){var t=e.value,n=Wt();return i.a.createElement("p",{className:n.content},t)},zt=(Se()((function(e){return{}})),function(e){var t=e.isLoaded,n=e.data,a=e.animate,c=e.width,o=Object(r.useRef)(null),s=Object(r.useState)(null),l=Object(N.a)(s,2),u=l[0],h=l[1];return Object(r.useEffect)((function(){if(t&&n&&c&&null===u){var e=new Lt("analytics-documents-count-by-category",n,c);e.main(),h(e)}}),[t,n,c]),Object(r.useEffect)((function(){u&&a&&u.animate()}),[u,a]),i.a.createElement(i.a.Fragment,null,i.a.createElement(_t,{value:"News archived by category"}),i.a.createElement(Pt,{value:"Overall I'd say the news are pretty well balanced."}),i.a.createElement("div",{id:"analytics-documents-count-by-category",ref:o}))}),Xt=function(){function e(t,n,a){Object(rt.a)(this,e),this.getColor=function(e){var t=["#FFF3E0","#FFE0B2","#FFB74D","#FB8C00","#E65100"];return t[e>t.length-1?0:e]},this.dayOfWeekStrings=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.monthStrings=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.targetRectSize=70,this.rectPadding=.1,this.id=void 0,this.params=void 0,this.svg=void 0,this.references=void 0,this.data=void 0,this.scales=void 0,this.axis=void 0,this.id=t,this.data=this.getData(n),this.params=this.getParams(a),this.svg=ct.n("#".concat(t)).append("svg"),this.references=this.createReferences(),this.scales=this.getScales(),this.axis=this.getAxis()}return Object(it.a)(e,[{key:"getParams",value:function(e){var t={t:50,r:20,b:10,l:50},n=this.data.xScaleDomain.length,a=Math.floor((e-t.l-t.r)/n),r=Math.min(a,this.targetRectSize),i={width:this.data.xScaleDomain.length*r,height:7*r,x:t.l,y:t.t};return{width:i.width+t.l+t.r,height:i.height+t.t+t.b,m:t,chart:i}}},{key:"getScales",value:function(){return{x:ct.k().domain(this.data.xScaleDomain).range([0,this.params.chart.width]).padding(this.rectPadding),y:ct.k().domain(this.data.yScaleDomain).range([0,this.params.chart.height]).padding(this.rectPadding),color:ct.m().domain([0,this.data.maxCount]).range([0,1,2,3,4])}}},{key:"getAxis",value:function(){var e=this;return{x:ct.c(this.scales.x).tickFormat((function(t,n){if(0===n)return e.monthStrings[new Date(e.data.xScaleGuide[n]).getUTCMonth()];var a=e.monthStrings[new Date(e.data.xScaleGuide[n]).getUTCMonth()];return a===e.monthStrings[new Date(e.data.xScaleGuide[n-1]).getUTCMonth()]?"":a})).tickSize(0).tickPadding(5),y:ct.b(this.scales.y).tickFormat((function(t){return e.dayOfWeekStrings[parseInt(t)]})).tickValues(["1","3","5"]).tickSize(0).tickPadding(5)}}},{key:"getData",value:function(e){for(var t=e.time.map((function(t,n){return{count:e.count[n],time:t}})),n=new Date(t[0].time).getUTCDay(),a=t[0].time;n>0;)t.unshift({count:0,time:a}),n--,a-=864e5;for(var r=t.map((function(e){return e.time})),i=function(e){return e.map((function(e,t){return Math.floor(t/7)}))}(r),c=[],o=[],s=0;s<=i[i.length-1];s++)c.push(s.toString()),o.push(t[7*s].time);for(var l=function(e){var t=new Date(e[0]).getUTCDay();return e.map((function(e){return(new Date(e).getUTCDay()-t)%7}))}(r),u=[],h=0;h<7;h++)u.push(h.toString());var d=Math.max.apply(Math,t.map((function(e){return e.count})));return{x:i,y:l,xScaleDomain:c,xScaleGuide:o,yScaleDomain:u,data:t,maxCount:d}}},{key:"createReferences",value:function(){var e=this.svg.append("g"),t=this.svg.append("g"),n=this.svg.append("g").selectAll("rect").data(this.data.data).enter().append("rect"),a=this.svg.append("g"),r=a.append("rect"),i=a.append("text");return{xAxis:e,yAxis:t,rects:n,tooltipBackground:r,tooltip:i,tooltipText1:i.append("tspan"),tooltipText2:i.append("tspan")}}},{key:"styleSvg",value:function(){this.svg.attr("width",this.params.width).attr("height",this.params.height)}},{key:"styleAxisX",value:function(){this.axis.x(this.references.xAxis),this.references.xAxis.selectAll(".domain").remove(),this.references.xAxis.style("transform","translate(".concat(this.params.chart.x,"px, ").concat(this.params.chart.y,"px)")).style("font-size","0.875rem").style("font-weight","700"),this.references.xAxis.selectAll("text").style("fill","grey")}},{key:"styleAxisY",value:function(){this.axis.y(this.references.yAxis),this.references.yAxis.selectAll(".domain").remove(),this.references.yAxis.style("transform","translate(".concat(this.params.chart.x,"px, ").concat(this.params.chart.y,"px)")).style("font-size","0.875rem").style("font-weight","700"),this.references.yAxis.selectAll("text").style("fill","grey")}},{key:"styleRects",value:function(){var e=this;this.references.rects.style("transform","translate(".concat(this.params.chart.x,"px, ").concat(this.params.chart.y,"px)")).attr("width",this.scales.x.bandwidth()).attr("height",this.scales.y.bandwidth()).attr("x",(function(t,n){return e.scales.x(e.data.x[n].toString())||0})).attr("y",(function(t,n){return e.scales.y(e.data.y[n].toString())||0}))}},{key:"styleTooltip",value:function(){this.references.tooltip.style("transform","translate(".concat(this.params.chart.x,"px, ").concat(this.params.chart.y,"px)")).attr("text-anchor","middle").attr("alignment-baseline","middle"),this.references.tooltipText1.style("font-weight",700).style("fill","white"),this.references.tooltipText2.style("fill","white"),this.references.tooltipBackground.style("transform","translate(".concat(this.params.chart.x,"px, ").concat(this.params.chart.y,"px)")).style("fill","#000").style("opacity",.8).attr("rx","5").attr("ry","5")}},{key:"addMouseEventToRects",value:function(){var e=this;this.references.rects.on("mouseover",(function(t){var n,a=parseInt(this.getAttribute("x")||"0"),r=parseInt(this.getAttribute("y")||"0"),i=parseInt(this.getAttribute("width")||"0");parseInt(this.getAttribute("height")||"0");e.references.tooltipText1.text("".concat(t.count," news archived on "));var c=new Date(t.time);e.references.tooltipText2.text("".concat(e.monthStrings[c.getUTCMonth()]," ").concat(c.getUTCDate(),", ").concat(c.getUTCFullYear()));var o=null===(n=e.references.tooltip.node())||void 0===n?void 0:n.getBBox(),s=(null===o||void 0===o?void 0:o.width)||0,l=(null===o||void 0===o?void 0:o.height)||0,u=1.2*s,h=2.5*l,d=a+.5*i,f=r-.5*h,m=-e.params.m.l,p=e.params.width-e.params.m.l,g=-e.params.m.t,v=e.params.height-e.params.m.t;d-.5*u<m?d=m+.5*u:d+.5*u>p&&(d=p-.5*u),f-h<g?f=g+h:f+h>v&&(f=v-.5*h),e.references.tooltip.attr("x",d).attr("y",f),e.references.tooltipBackground.attr("x",d-.5*u).attr("y",f-.4*l-.5*h).attr("width",u).attr("height",h)})).on("mouseleave",(function(t){e.references.tooltip.attr("x",-1e3).attr("y",-1e3),e.references.tooltipBackground.attr("x",-1e3).attr("y",-1e3)}))}},{key:"prepareForAnimation",value:function(){this.references.rects.style("fill",this.getColor(3))}},{key:"animate",value:function(){var e=this;this.references.rects.transition().style("fill","rgba(255, 255, 255, 0)").duration(500),this.references.rects.transition().style("fill",(function(t){return e.getColor(e.scales.color(t.count))})).delay((function(t){return 500+1e3*e.scales.color(t.count)})).duration(800)}},{key:"main",value:function(){this.styleSvg(),this.styleAxisX(),this.styleAxisY(),this.styleRects(),this.styleTooltip(),this.addMouseEventToRects(),this.prepareForAnimation()}}]),e}(),Ut=(Se()((function(e){return{}})),function(e){var t=e.isLoaded,n=e.data,a=e.width,c=Object(r.useRef)(null),o=J(c,.5),s=Object(r.useState)(null),l=Object(N.a)(s,2),u=l[0],h=l[1];return Object(r.useEffect)((function(){if(t&&n&&a&&null===u){var e=new Xt("analytics-documents-heat-map",n,a);e.main(),h(e)}}),[t,n,a]),Object(r.useEffect)((function(){u&&o&&u.animate()}),[u,o]),i.a.createElement(i.a.Fragment,null,i.a.createElement(_t,{value:"News archived each day"}),i.a.createElement(Pt,{value:"Glad to see that people enjoyed their weekends."}),i.a.createElement("div",{id:"analytics-documents-heat-map",ref:c}))}),qt=n(84),Gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Vt=Se()((function(e){return{root:{textAlign:"center",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#F2F2F2"},section:Object(C.a)({margin:e.spacing(5,0)},e.breakpoints.down("sm"),{margin:e.spacing(2,0)}),title:Object(F.a)({},Bt(e)),number:Object(F.a)({},Ht(e))}})),Kt=i.a.forwardRef((function(e,t){var n=e.totalDocuments,a=e.earliestDocumentDate,c=e.latestDocumentDate,o=Vt(),s=Object(r.useState)(window.innerHeight-100),l=Object(N.a)(s,2),u=l[0],h=(l[1],Object(qt.useCountUp)({start:.9*n,end:n,duration:5})),d=Object(qt.useCountUp)({start:.9*a,end:a,duration:5}),f=Object(qt.useCountUp)({start:.9*c,end:c,duration:5}),m=function(e){return i.a.createElement("h2",{className:o.title},e)},p=function(e){var t=new Date(e);return i.a.createElement("p",{className:o.number},t.getUTCDate()," ",Gt[t.getUTCMonth()],", ",t.getUTCFullYear())};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:o.root,style:{minHeight:"".concat(u,"px")}},i.a.createElement("div",{className:o.section},m("Total news articles archived"),i.a.createElement("p",{className:o.number},h.countUp)),i.a.createElement("div",{className:o.section},m("First news article archived"),p(+d.countUp)),i.a.createElement("div",{className:o.section},m("Most recent news article archived"),p(+f.countUp)),i.a.createElement("div",{ref:t}," ")))})),Jt=Se()((function(e){return{root:{position:"relative",zIndex:1,width:"100%"},children:{position:"absolute",zIndex:-1,top:0,left:0,willChange:"transform",width:"100%"},placeholder:{position:"relative",zIndex:-2}}})),Zt=function(e){var t=e.children,n=Jt(),a=Object(r.useRef)(null),c=Object(r.useRef)(null),o=Object(r.useRef)(null),s=Object(r.useState)({width:"0px",height:"0px"}),l=Object(N.a)(s,2),u=l[0],h=l[1],d=Object(r.useState)({start:0,end:0}),f=Object(N.a)(d,2),m=f[0],p=f[1],g=Object(r.useState)({xMax:0,x:0,y:0}),v=Object(N.a)(g,2),y=v[0],x=v[1],E=function(){var e=window.scrollY+window.innerHeight<m.start,t=window.scrollY+.5*window.innerHeight>m.end;if(e||t)e?y.x!==y.xMax&&x((function(e){return Object(F.a)({},e,{x:e.xMax})})):t&&0!==y.x&&x((function(e){return Object(F.a)({},e,{x:0})}));else{var n=(window.scrollY-m.start+window.innerHeight)/(m.end-m.start+.5*window.innerHeight);x((function(e){return Object(F.a)({},e,{x:e.xMax*(t=1-n,t*t)});var t}))}};return Object(r.useEffect)((function(){c.current&&o.current&&"0px"===u.width&&h({width:"".concat(c.current.getBoundingClientRect().width,"px"),height:"".concat(c.current.getBoundingClientRect().height,"px")})}),[u]),Object(r.useEffect)((function(){if(a.current&&"0px"!==u.width&&0===m.start){var e=a.current.getBoundingClientRect();p({start:window.scrollY+e.top,end:window.scrollY+e.top+.5*e.height});var t=-(e.left+e.width);x({xMax:t,x:t,y:0})}}),[u,m,y]),Object(r.useEffect)((function(){return document.addEventListener("scroll",E),function(){return document.removeEventListener("scroll",E)}}),[m,y]),i.a.createElement("div",{className:n.root,ref:a},i.a.createElement("div",{className:n.children,ref:c,style:{transform:"translate(".concat(y.x,"px, ").concat(y.y,"px)")}},t),i.a.createElement("div",{className:n.placeholder,ref:o,style:Object(F.a)({},u)}))},Qt=n(150),$t=n.n(Qt),en=function(){function e(t,n,a){Object(rt.a)(this,e),this.colors=["#003f5c","#374c80","#7a5195","#bc5090","#ef5675","#ff764a","#ffa600"],this.id=void 0,this.data=void 0,this.params=void 0,this.scale=void 0,this.id=a,this.data=this.getData(t),this.params={width:n,height:.6*n},this.scale=this.getScale(),this.styleSvg=this.styleSvg.bind(this)}return Object(it.a)(e,[{key:"getData",value:function(e){var t=e.map((function(e){return e.count}));return{data:e,words:e.map((function(e){return e.word})),counts:t,maxCount:Math.max.apply(Math,t)}}},{key:"getScale",value:function(){return ct.l().domain([0,this.data.maxCount]).range([10,this.params.width>=1e3?100:this.params.width>=800?70:36])}},{key:"draw",value:function(){var e=this;$t()().size([this.params.width,this.params.height]).timeInterval(20).words(this.data.data.map((function(t){return{text:t.word,size:e.scale(t.count)}}))).fontSize((function(e){return e.size})).rotate((function(){return 90*~~(2*Math.random())})).font("Anton").on("end",this.styleSvg).start()}},{key:"styleSvg",value:function(e){var t=this;ct.n("#".concat(this.id)).append("svg").attr("width",this.params.width).attr("height",this.params.height).append("g").attr("transform","translate("+[this.params.width>>1,this.params.height>>1]+")").selectAll("text").data(e).enter().append("text").style("font-size",(function(e){return e.size+"px"})).style("font-family","Anton").style("fill",(function(){return t.colors[Math.floor(Math.random()*t.colors.length)]})).attr("text-anchor","middle").attr("transform",(function(e){return"translate("+[e.x,e.y]+")rotate("+e.rotate+")"})).text((function(e){return e.text}))}},{key:"main",value:function(){this.draw()}}]),e}(),tn=(Se()((function(e){return{}})),function(e){var t=e.isLoaded,n=e.data,a=e.width,c=Object(r.useRef)(null),o=(J(c,.5),Object(r.useState)(null)),s=Object(N.a)(o,2),l=s[0],u=s[1];return Object(r.useEffect)((function(){if(t&&n&&a&&null===l){var e=new en(n,a,"analytics-documents-word-cloud");e.main(),u(e)}}),[t,n,a]),i.a.createElement(i.a.Fragment,null,i.a.createElement(_t,{value:"Word it out"}),i.a.createElement(Pt,{value:"The power of words."}),i.a.createElement("div",{id:"analytics-documents-word-cloud",ref:c}))}),nn=Se()((function(e){return{root:{position:"relative",width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},fixedWrapper:{position:"relative",overflow:"hidden",width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",willChange:"transform"},children:{width:"100%",position:"absolute",minHeight:800,willChange:"transform"},childrenSize:{width:"100%"},placeholder:{position:"relative"}}})),an=function(e){var t=e.children,n=nn(),a=Object(r.useRef)(null),c=Object(r.useRef)(null),o=Object(r.useRef)(null),s=Object(r.useRef)(null),l=Object(r.useState)({isSet:!1,width:"0",height:"0",left:"0"}),u=Object(N.a)(l,2),h=u[0],d=u[1],f=Object(r.useState)({isSet:!1,start:0,end:0}),m=Object(N.a)(f,2),p=m[0],g=m[1],v=Object(r.useState)(!1),y=Object(N.a)(v,2),x=y[0],E=y[1],b=function(){if(s.current&&o.current&&c.current){var e=window.scrollY+window.innerHeight<p.start,t=window.scrollY>p.end;if(e||t){if(e){if(!x)return;s.current.style.top="".concat(window.scrollY+o.current.getBoundingClientRect().top,"px"),E(!0)}else if(t){if(!x)return;s.current.style.top="".concat(window.scrollY+o.current.getBoundingClientRect().bottom,"px"),E(!0)}}else{var n=o.current.getBoundingClientRect().top;c.current.style.top="".concat(n,"px"),s.current.style.top="".concat(n,"px"),x&&E(!1)}}};Object(r.useEffect)((function(){c.current&&!h.isSet&&(d({isSet:!0,width:"".concat(c.current.getBoundingClientRect().width,"px"),height:"".concat(c.current.getBoundingClientRect().height,"px"),left:"".concat(c.current.getBoundingClientRect().left,"px")}),b())}),[h]),Object(r.useEffect)((function(){if(o.current&&h.isSet&&!p.isSet){var e=o.current.getBoundingClientRect();g({isSet:!0,start:window.scrollY+e.top,end:window.scrollY+e.top+e.height})}}),[h,p]),Object(r.useEffect)((function(){return document.addEventListener("scroll",b),function(){return document.removeEventListener("scroll",b)}}),[p,x]);var w={left:h.left,height:h.height,width:h.width,position:"fixed"};return i.a.createElement("div",{className:n.root,ref:a},i.a.createElement("div",{className:n.fixedWrapper,ref:s,style:h.isSet?w:{}},i.a.createElement("div",{className:n.children,ref:c},t)),i.a.createElement("div",{className:n.placeholder,ref:o,style:{width:h.width,height:h.height}}))},rn=Se()((function(e){return{root:Object(C.a)({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",paddingBottom:"200px",position:"relative"},e.breakpoints.down("sm"),{paddingBottom:"250px"}),widthWrapper:Object(C.a)({width:"1000px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},e.breakpoints.down("sm"),{width:"100%"})}})),cn=function(){var e,t=rn(),n=Object(r.useRef)(null),a=Tt(),c=a.status,o=a.summaryStatisticsData,s=Object(r.useRef)(null),l=Object(r.useState)(!1),u=Object(N.a)(l,2),h=u[0],d=u[1],f=function(){if(s.current){var e=s.current.getBoundingClientRect().top-100;e<=0&&h?(d(!1),document.body.style.backgroundColor=""):e>0&&!h&&(d(!0),document.body.style.backgroundColor="black")}};Object(r.useEffect)((function(){return f(),document.addEventListener("scroll",f),function(){document.removeEventListener("scroll",f)}}),[c,h]),Object(r.useEffect)((function(){return function(){document.body.style.backgroundColor=""}}),[]);var m=c===kt.loaded,p=null===n||void 0===n?void 0:null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().width;return i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.widthWrapper,ref:n},c===kt.loading&&i.a.createElement(Nt,null,i.a.createElement(Rt.a,{color:"secondary"})),c===kt.loaded&&o&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Kt,{totalDocuments:o.totalDocuments,earliestDocumentDate:o.earliestDocumentDate,latestDocumentDate:o.latestDocumentDate,ref:s}),i.a.createElement(et.a,{in:!h,timeout:2e3},i.a.createElement(Nt,null,i.a.createElement(zt,{isLoaded:m,data:o.documentsCountByCategory.map((function(e){return{title:e.category,value:e.count}})),animate:!h,width:p}))),i.a.createElement(Zt,null,i.a.createElement(Nt,null,i.a.createElement(Ut,{isLoaded:m,data:o.documentsCountByDay,width:p}))),i.a.createElement(an,null,i.a.createElement(Nt,null,i.a.createElement(tn,{isLoaded:m,data:o.wordCloud,width:p})))),c===kt.error&&i.a.createElement(G.a,{variant:"body2",component:"h1"},i.a.createElement(H.a,{fontWeight:700},"Server error, please try again later"))))},on=n(327),sn=n(328),ln=n(333),un=n(329);!function(e){e.FIXED="FIXED",e.RELATIVE="RELATIVE"}(Dt||(Dt={}));var hn=function(e){return Object(F.a)({},{FIXED:{position:"fixed",top:0,left:0,width:"100%"},RELATIVE:{position:"relative",width:"100%"}}[e])};var dn=function(e){var t=Object(r.useState)(Dt.RELATIVE),n=Object(N.a)(t,2),a=n[0],i=n[1],c=ee(10);function o(){var t=window.scrollY;if(0!==t||a===Dt.RELATIVE){if(e.current){var n=e.current.offsetTop+e.current.offsetHeight;c()&&(t>=n&&a!==Dt.FIXED?i(Dt.FIXED):t<n&&a!==Dt.RELATIVE&&i(Dt.RELATIVE))}}else i(Dt.RELATIVE)}return Object(r.useEffect)((function(){return document.addEventListener("scroll",o),function(){document.removeEventListener("scroll",o)}}),[a,e]),{style:hn(a),isFixed:a===Dt.FIXED}},fn=function(e){var t=dn(e.anchorRef),n=t.style,a=t.isFixed,c=Object(r.useRef)(null);return i.a.createElement(i.a.Fragment,null,a&&c.current&&i.a.createElement("div",{style:{width:"".concat(c.current.offsetWidth,"px"),height:"".concat(c.current.offsetHeight,"px")}}),i.a.createElement("div",{style:Object(F.a)({},n,{zIndex:e.zIndex?e.zIndex:"auto"}),ref:c},e.children))},mn=n(153),pn=n.n(mn),gn=n(152),vn=n.n(gn),yn=n(151),xn=n.n(yn),En=n(344),bn=n(343),wn=n(326),On=n(325),Sn=n(324),An=Se()((function(e){return{dialog:{minWidth:"50vw"}}})),jn=function(e){var t=e.goToSearch,n=(An(),Object(r.useState)(!1)),a=Object(N.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)(""),l=Object(N.a)(s,2),u=l[0],h=l[1],d=Object(r.useState)(!1),f=Object(N.a)(d,2),m=f[0],p=f[1],g=function(){h(""),o(!1)};return i.a.createElement("div",null,i.a.createElement($e.a,{title:"Search",TransitionComponent:V.a},i.a.createElement(xe.a,{"aria-label":"search",color:"inherit",onClick:function(){o(!0)}},i.a.createElement(xn.a,null))),i.a.createElement(bn.a,{open:c,onClose:g,fullWidth:!0,maxWidth:"sm"},i.a.createElement("form",{action:"/",onSubmit:function(e){e.preventDefault(),u.length?(t(u),g()):p(!0)}},i.a.createElement(Sn.a,null,"Search from archived news"),i.a.createElement(On.a,null,i.a.createElement(En.a,{error:m,autoFocus:!0,margin:"dense",label:"Keywords",type:"news keyword",fullWidth:!0,value:u,onChange:function(e){m&&p(!1),h(e.target.value)},helperText:m?"Keyword cannot be empty.":" "})),i.a.createElement(wn.a,null,i.a.createElement(_.a,{onClick:g,color:"primary","aria-label":"cancel"},"Cancel"),i.a.createElement(_.a,{type:"submit",color:"primary","aria-label":"submit search"},"Search")))))},kn=n(82),Cn=n.n(kn),Dn=Object(L.a)((function(e){return{tab:{flexShrink:0,flexGrow:1,color:e.palette.primary.contrastText},heading:{textTransform:"uppercase",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap"},appBarNoBoxShadow:{boxShadow:"none"},appBarBottomBoxShadow:{boxShadow:"0px 4px 4px -1px rgba(0,0,0,0.2), 0px 5px 5px 0px rgba(0,0,0,0.14), 0px 10px 10px 0px rgba(0,0,0,0.12)"},trendIcon:{color:"#FFF"}}})),Tn=function(e){var t=e.headers,n=e.category,a=e.goToSearch,c=e.goToAnalytics,o=e.setCategory,s=e.goToTopic,l=Dn(),u=Object(r.useRef)(null),d=Cn()();return i.a.createElement(i.a.Fragment,null,i.a.createElement(on.a,{color:"primary",position:"static",ref:u,className:l.appBarNoBoxShadow},i.a.createElement(sn.a,null,i.a.createElement(z.a,{container:!0},i.a.createElement(z.a,{item:!0,xs:1,md:3}),i.a.createElement(z.a,{item:!0,xs:5,md:6},i.a.createElement(G.a,{align:"center",className:l.heading,variant:"h1",component:"h1"},"News Canada")),i.a.createElement(z.a,{item:!0,xs:6,md:3},i.a.createElement(z.a,{container:!0,alignItems:"center",justify:"flex-end"},i.a.createElement(z.a,{item:!0},i.a.createElement(jn,{goToSearch:a})),i.a.createElement(z.a,{item:!0},i.a.createElement($e.a,{title:"Topic: COVID-19",TransitionComponent:V.a},i.a.createElement(xe.a,{"aria-label":"Topic: COVID-19",color:"inherit",onClick:s},i.a.createElement(vn.a,null)))),i.a.createElement(z.a,{item:!0},i.a.createElement($e.a,{title:"Analytics",TransitionComponent:V.a},i.a.createElement(xe.a,{"aria-label":"news trend",color:"inherit",onClick:c},i.a.createElement(pn.a,null))))))))),i.a.createElement(fn,{anchorRef:u,zIndex:d.zIndex.appBar},i.a.createElement(on.a,{color:"primary",position:"static",className:l.appBarBottomBoxShadow},i.a.createElement(ln.a,{value:-1!==t.indexOf(n)&&t.indexOf(n),indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto"},t.map((function(e,t){return i.a.createElement(un.a,{label:e,key:t,className:l.tab,onClick:function(){return o(h[e])}})}))))))};var Rn=Object(s.b)((function(e){return{headers:m,category:e.category}}),(function(e){return{goToSearch:function(t){e(function(e){return{type:E.SET_KEYWORD,keyword:e}}(t)),e({type:f.SET_CATEGORY,category:h.SEARCH})},goToAnalytics:function(){e({type:f.SET_CATEGORY,category:h.ANALYTICS})},goToTopic:function(){e({type:f.SET_CATEGORY,category:h.TOPIC})},setCategory:function(t){e(function(e){return function(t,n){n().category!==e&&t(p(e))}}(t))}}}))(Tn),In=function(){function e(t,n,a){Object(rt.a)(this,e),this.id=void 0,this.dimension=void 0,this.themeColor=void 0,this.data=void 0,this.id=t,this.dimension=this.getDimension(n),this.themeColor=a,this.data={map:null}}return Object(it.a)(e,[{key:"getDimension",value:function(e){var t=e,n=Math.min(e/2,.7*window.innerHeight),a={t:0,r:10,b:0,l:10};return{svgWidth:t,svgHeight:n,m:a,mapX:a.l,mapY:a.t,mapWidth:t-a.l-a.r,mapHeight:n-a.t-a.b}}},{key:"getData",value:function(){var e=this;n.e(3).then(n.bind(null,345)).then((function(t){var n=t.default;e.data={map:n},console.log(n);var a=ct.n("#".concat(e.id)).append("svg").attr("width",e.dimension.svgWidth).attr("height",e.dimension.svgHeight),r=ct.f().fitExtent([[e.dimension.mapX,e.dimension.mapY],[e.dimension.mapWidth,e.dimension.mapHeight]],n);a.append("g").selectAll("path").data(n.features).enter().append("path").attr("fill",e.themeColor).attr("d",ct.g().projection(r)).style("stroke","#fff")}))}},{key:"main",value:function(){this.getData()}}]),e}(),Nn=Se()((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"}}})),Ln=function(){var e=Nn(),t=Cn()(),n=Object(r.useRef)(null);return Object(r.useEffect)((function(){n.current&&new In("topic-covid19-map",n.current.getBoundingClientRect().width,t.palette.secondary.main).main()}),[]),i.a.createElement("div",{className:e.root,ref:n},i.a.createElement("div",{id:"topic-covid19-map"}," "))},Hn=Se()((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",margin:e.spacing(5,0)},widthWrapper:Object(C.a)({width:"1000px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},e.breakpoints.down("sm"),{width:"100%"})}})),Fn=function(){var e=Hn();return i.a.createElement("div",{className:e.root},i.a.createElement(Ln,null),i.a.createElement("div",{className:e.widthWrapper}))},Mn=Object(L.a)((function(e){return{root:{width:"100vw",maxWidth:"100%",position:"relative"},attribution:{position:"absolute",zIndex:e.zIndex.appBar,left:10,bottom:10}}}));var Bn=Object(s.b)((function(e){return{category:e.category,articles:e.articles}}),(function(e){return{fetchArticlesAfterMount:function(){return e(d(h.HEADLINE))}}}))((function(e){var t=Mn(),n=Object(r.useState)(window.innerHeight),a=Object(N.a)(n,2),c=a[0];return a[1],Object(r.useEffect)((function(){e.fetchArticlesAfterMount()}),[]),i.a.createElement(H.a,{className:t.root,style:{minHeight:"".concat(c,"px")}},i.a.createElement(Rn,null),function(){var t;switch(e.category){case h.ANALYTICS:t=i.a.createElement(cn,null);break;case h.SEARCH:t=i.a.createElement(Ct,null);break;case h.TOPIC:t=i.a.createElement(Fn,null);break;default:t=i.a.createElement(fe,{articles:e.articles})}return t}(),i.a.createElement("div",{className:t.attribution},i.a.createElement(ge,null)),i.a.createElement(Ce,null))})),Yn=Object(l.d)(O,S,Object(l.a)(u.a));var _n=function(){return i.a.createElement(s.a,{store:Yn},i.a.createElement(k.a,{theme:I},i.a.createElement(j.a,null),i.a.createElement(Bn,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(_n,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[232,1,2]]]);
//# sourceMappingURL=main.4d6f4599.chunk.js.map