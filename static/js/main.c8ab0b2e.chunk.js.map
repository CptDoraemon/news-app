{"version":3,"sources":["redux/actions/articles.ts","redux/actions/category.ts","redux/state.ts","redux/reducers/category.ts","redux/reducers/articles.ts","redux/actions/copy-link-snackbar.ts","redux/reducers/copy-link-snackbar.ts","redux/actions/search-keyword.ts","redux/reducers/search-keyword.ts","redux/reducers/root-reducers.ts","redux/configureStore.ts","theme.tsx","tools/use-lazy-load.ts","tools/copy-to-clipboard.ts","tools/use-debounce.ts","tools/use-swipeable.ts","components/utility-components/swipeable.tsx","components/articles/articles.tsx","tools/get-publish-time.ts","containers/articles-container.tsx","components/attribution.tsx","components/copy-link-snackbar.tsx","containers/copy-link-snackbar-container.tsx","components/articles/searched-articles/filters/sort-types.ts","components/articles/searched-articles/utilities/status.tsx","components/articles/searched-articles/requests/request-search-news.ts","components/articles/searched-articles/requests/use-search-news.tsx","components/articles/searched-articles/utilities/get-date-string.tsx","components/articles/searched-articles/message-components/result-count-message.tsx","components/articles/searched-articles/message-components/loading-message.tsx","components/articles/searched-articles/message-components/load-more-message.tsx","components/articles/searched-articles/message-components/generic-message.tsx","components/articles/searched-articles/highlighted-content.tsx","components/articles/searched-articles/searched-article-card.tsx","components/articles/searched-articles/utilities/scroll-to-top-button.tsx","components/articles/searched-articles/frequency-chart/frequency-chart-d3.ts","components/articles/searched-articles/frequency-chart/keyword-frequency.tsx","components/articles/searched-articles/filters/sort-panel.tsx","components/articles/searched-articles/filters/filter-by-date.tsx","components/articles/searched-articles/filters/filters.tsx","styles/styles.ts","components/articles/searched-articles/searched-articles.tsx","containers/searched-articles-container.tsx","components/analytics/use-get-analytics.tsx","tools/use-sticky.ts","components/analytics/number-section.tsx","components/analytics/date-section.tsx","components/analytics/analytics.tsx","components/utility-components/sticky-component.tsx","components/header/header-search.tsx","components/header/header.tsx","containers/header-container.tsx","inner-app.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["ArticleActionsTypes","Category","fetchArticles","category","QUERY","dispatch","type","REQUEST_ARTICLES","fetch","encodeURIComponent","then","res","json","errors","IS_ERROR","articles","RECEIVE_ARTICLES","slice","receiveArticles","data","getNews","CategoryActionsType","categories","HEADLINE","BUSINESS","ENTERTAINMENT","HEALTH","SCIENCE","SPORTS","TECHNOLOGY","setCategoryAndFetchArticles","SET_CATEGORY","setCategory","initState","isError","isFetching","copyLinkSnackBar","isActive","searchKeyword","state","action","CopyLinkSnackbarActionsTypes","actions","Object","assign","copyLinkSnackbar","SearchKeywordTypes","CLOSE_SNACKBAR","OPEN_SNACKBAR","SET_KEYWORD","keyword","rootReducers","combineReducers","preloadedState","theme","createMuiTheme","palette","primary","main","contrastText","secondary","responsiveFontSizes","typography","h1","fontFamily","join","fontWeight","fontSize","breakpoints","up","useLazyLoad","ref","useState","isVisible","setIsVisible","scrollHandlerLastCalledAt","Date","now","checkIsVisible","calledAt","current","rect","getBoundingClientRect","isBefore","top","height","isAfter","window","innerHeight","useEffect","document","addEventListener","removeEventListener","copyToClipboard","string","el","createElement","value","setAttribute","style","position","left","body","appendChild","select","execCommand","removeChild","useDebounce","UseSwipeableDirections","UserAction","debounceInterval","lastExecuted","DEBOUNCER","useSwipeable","threshholdPx","x1","setX1","y1","setY1","NULL","userAction","setUserAction","direction","setDirection","dragDistance","setDragDistance","shouldBeExecuted","touchStartHandler","e","changedTouches","clientX","clientY","touchMoveHandler","currentX","currentY","cancelable","preventDefault","Math","abs","SWIPE","SCROLL","touchEndHandler","RIGHT","LEFT","currentElement","resetSwipeStatus","SwipeableContainer","connect","goPrevious","getState","currentCategory","currentIndex","indexOf","length","goNext","isLast","props","containerRef","useRef","width","transform","children","useStyles","makeStyles","createStyles","wrapper","margin","down","calcHeight","lines","variant","lineHeight","ellipsis","root","content","bottom","right","backgroundImage","zIndex","overFlowHidden","overflow","usePrimaryCardStyles","media","skeleton","title","source","articleContent","buttons","useSecondaryCardStyles","Buttons","CardActions","className","Link","href","url","target","rel","underline","Button","size","color","onClick","openCopyLinkSnackBar","Article","isMounted","setIsMounted","isTransitionAnimationNeeded","useMediaQuery","useTheme","isPrimaryCard","id","cardPrimaryClasses","cardSecondaryClasses","cardClasses","setTimeout","Grid","item","xs","md","Card","raised","urlToImage","CardMedia","component","alt","image","Skeleton","CardContent","Typography","gutterBottom","Box","author","date","timePast","getTime","minutes","floor","hours","days","months","years","getPublishTime","publishedAt","replace","Zoom","in","LoadedArticles","map","article","i","key","ArticlesContainer","classes","scrollTo","minHeight","Array","from","_","maxWidth","container","alignContent","justify","spacing","Attribution","mt","mb","mx","Chip","avatar","Avatar","label","clickable","successSnackBar","backgroundColor","green","CopyLinkSnackbar","closeHandlder","closeCopyLinkSnackBar","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","SnackbarContent","message","IconButton","aria-label","SortTypes","CopyLinkSnackBarContainer","Status","requestSearchNews","skip","frequency","sort","Promise","resolve","reject","dateComponent","relevance","status","console","log","catch","useSearchNews","LOADING","setStatus","setData","sortType","setSortType","totalCount","setTotalCount","frequencyData","setFrequencyData","pendingDateFilter","_setPendingDateFilter","dateFilter","_setDateFilter","setLoadedStatus","updatedDataLength","LOADED_NO_MORE","LOADED_EMPTY","LOADED_NORMAL","a","async","ERROR","newSearch","toggleSort","loadMore","prevData","setPendingDateFilter","setDateFilter","getDateString","num","getFullYear","getMonth","getDate","ResultsCountMessage","count","currentLength","dateFilterMessage","textAlign","LoadingMessage","animation","LoadMoreMessage","disableElevation","GenericMessage","divider","Divider","highlight","light","HighlightedContent","re","RegExp","contentArray","split","cardRoot","cardActionArea","display","flexDirection","alignItems","justifyContent","textDecoration","cursor","cardMedia","cardContent","SearchedArticleCard","cardHeight","setCardHeight","heightRef","useGetHeight","CardActionArea","toDateString","smoothscroll","polyfill","transition","transitions","create","ScrollToTopButton","setIsActive","handleScroll","scrollY","useActivateByScrollY","Fade","Tooltip","scroll","behavior","FrequencyChartD3","bin","selector","dataArray","auxArray","params","dimension","scales","svg","references","axis","this","binDate","getBinDateArray","barTransitionDelay","getBarTransitionDelayArray","lightColor","darkColor","dark","primaryColor","TRANSITION_DELAY","BAR_TRANSITION_DURATION","maxFrequency","max","apply","binLength","argWidth","getDimensions","d3","append","bars","selectAll","enter","axisX","axisY","axisXHoverDate","axisXHoverFrequency","axisYHover","hoverDetection","x","domain","toString","range","chartWidth","y","chartHeight","xHoverDate","xHoverFrequency","yHover","setHoverDetectionEventHandlers","bind","binArray","transitionDelay","frequencyDataArray","array","delay","push","svgWidth","svgHeight","min","round","m","t","r","b","l","chartX","chartY","attr","barWidth","bandwidth","barHeight","d","duration","ease","tickSizeOuter","tickFormat","parseInt","tickValues","tickSize","tickPadding","tickSizeInner","on","remove","gridTextBox","node","getBBox","insert","hoverDateTextBox","filter","index","setDate","setSvg","setBars","setAxisX","setAxisY","setAxisXHoverDate","setAxisXHoverFrequency","setAxisYHover","setHoverDetection","draw","KeywordFrequency","wrapperRef","chart","obj","ms","bindSetDate","capitalizeString","lowercase","toLowerCase","charAt","toUpperCase","minWidth","resetFontSize","SortPanel","FormControl","InputLabel","htmlFor","Select","onChange","newType","inputProps","name","MenuItem","borderRadius","cancelIcon","FilterByDate","chip","onDelete","deleteIcon","disabled","shrink","itemWrapper","padding","Filters","pageRoot","page1000WidthWrapper","widthWrapper","SearchedArticles","hasData","notFoundMessage","showChartAndFilters","foundDataOnKeyword","setFoundDataOnKeyword","useShowChartAndFilters","_id","AnalyticsPageStatus","SearchedArticlesContainer","Style","useGetAnalytics","loading","summaryStatisticsData","setSummaryStatisticsData","error","summaryStatistics","loaded","NumberSection","text","number","timeout","end","start","DateComponent","DateSection","getUTCFullYear","getUTCMonth","getUTCDate","section","Analytics","CircularProgress","totalDocuments","earliestDocumentDate","latestDocumentDate","getStyle","styleName","FIXED","RELATIVE","useSticky","fixedStartHeight","setStyle","isFixed","setIsFixed","scrollHandler","scrolled","StickyComponent","childrenRef","visibility","dialog","HeaderSearch","goToSearch","setOpen","input","setInput","isEmpty","setIsEmpty","handleClose","TransitionComponent","Dialog","fullWidth","onSubmit","DialogTitle","DialogContent","TextField","autoFocus","helperText","DialogActions","tab","flexShrink","flexGrow","heading","textTransform","appBarNoBoxShadow","boxShadow","appBarBottomBoxShadow","trendIcon","Header","headers","goToAnalytics","appBarRef","AppBar","Toolbar","align","offsetTop","offsetHeight","Tabs","indicatorColor","textColor","scrollButtons","Tab","HeaderContainer","setSearchKeyword","SEARCH","ANALYTICS","setCategoryIfNeeded","overflowX","paddingBottom","attribution","InnerAppContainer","fetchArticlesAfterMount","store","createStore","applyMiddleware","thunkMiddleware","App","ThemeProvider","CssBaseline","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c8ab0b2e.chunk.js","sourcesContent":["import {Action, ActionCreator, AnyAction} from \"redux\";\nimport { Category } from './category';\nimport {State} from \"../state\";\nimport {ThunkDispatch} from \"redux-thunk\";\n\nexport interface Article {\n    source: string,\n    author: string,\n    title: string,\n    description: string,\n    url: string,\n    urlToImage: string,\n    publishedAt: string,\n    content: string\n}\n\n\nexport enum ArticleActionsTypes {\n    IS_ERROR = 'IS_ERROR',\n    REQUEST_ARTICLES = 'REQUEST_ARTICLES',\n    RECEIVE_ARTICLES = 'RECEIVE_ARTICLES'\n}\n\nexport interface ArticlesRequestFailedAction {\n    type: ArticleActionsTypes.IS_ERROR\n}\n\nconst requestArticlesFailed: ActionCreator<ArticlesRequestFailedAction> = () => {\n    return {\n        type: ArticleActionsTypes.IS_ERROR\n    }\n};\n\nexport interface ArticlesRequestAction {\n    type: ArticleActionsTypes.REQUEST_ARTICLES\n}\n\nconst requestArticles: ActionCreator<ArticlesRequestAction> = () => {\n    return {\n        type: ArticleActionsTypes.REQUEST_ARTICLES\n    }\n};\n\nexport interface ArticlesReceiveAction {\n    type: ArticleActionsTypes.RECEIVE_ARTICLES,\n    articles: Array<Article>\n}\n\nconst receiveArticles: ActionCreator<ArticlesReceiveAction> = (articles: Array<Article>) => {\n    return {\n        type: ArticleActionsTypes.RECEIVE_ARTICLES,\n        articles: articles.slice()\n    }\n};\n\nconst NEWS_API = 'https://www.xiaoxihome.com/api/news?query=';\n\nexport const fetchArticles = (category: Category) => {\n    const QUERY = `\n        {\n            getNews(category: ${category}) {\n                source,\n                author,\n                title,\n                description,\n                url,\n                urlToImage,\n                publishedAt,\n                content\n            }\n        }\n    `;\n\n    return (dispatch: ThunkDispatch<State, null, AnyAction>) => {\n        dispatch(requestArticles());\n        return fetch(NEWS_API + encodeURIComponent(QUERY))\n            .then(res => res.json())\n            .then(json => {\n                if (json.errors) {\n                    dispatch(requestArticlesFailed())\n                } else {\n                    dispatch(receiveArticles(json.data.getNews))\n                }\n            })\n    }\n};\n\nexport type ArticlesActions =  ArticlesRequestAction | ArticlesRequestFailedAction | ArticlesReceiveAction;","import {fetchArticles} from \"./articles\";\nimport {ActionCreator, AnyAction} from \"redux\";\nimport {ThunkDispatch} from \"redux-thunk\";\nimport {State} from \"../state\";\n\nexport enum Category {\n    HEADLINE= `HEADLINE`,\n    BUSINESS= `BUSINESS`,\n    ENTERTAINMENT= `ENTERTAINMENT`,\n    HEALTH= `HEALTH`,\n    SCIENCE= `SCIENCE`,\n    SPORTS= `SPORTS`,\n    TECHNOLOGY= `TECHNOLOGY`,\n    SEARCH=`SEARCH`,\n    ANALYTICS='ANALYTICS'\n}\n\nexport type Categories = Array<Category>;\n\nexport const categories: Categories = [\n    Category.HEADLINE, Category.BUSINESS, Category.ENTERTAINMENT, Category.HEALTH, Category.SCIENCE, Category.SPORTS, Category.TECHNOLOGY\n];\n\nexport enum CategoryActionsType {\n    SET_CATEGORY = 'SET_CATEGORY'\n}\n\nexport interface CategoryActions {\n    type: CategoryActionsType,\n    category: Category\n}\n\nconst setCategory: ActionCreator<CategoryActions> = (category: Category) => {\n    return {\n        type: CategoryActionsType.SET_CATEGORY,\n        category\n    }\n};\n\nexport function goToSearchPanel() {\n    return {\n        type: CategoryActionsType.SET_CATEGORY,\n        category: Category.SEARCH\n    }\n}\n\nexport function goToAnalyticsPanel() {\n    return {\n        type: CategoryActionsType.SET_CATEGORY,\n        category: Category.ANALYTICS\n    }\n}\n\nconst setCategoryAndFetchArticles = (category: Category) => {\n    return (dispatch: ThunkDispatch<State, null, AnyAction>) => {\n        dispatch(setCategory(category));\n        dispatch(fetchArticles(category));\n    };\n};\n\nexport function setNextCategory() {\n    return (dispatch: ThunkDispatch<State, null, AnyAction>, getState: () => State) => {\n        const currentCategory = getState().category;\n        const currentIndex = categories.indexOf(currentCategory);\n        const isLast = currentIndex === categories.length - 1;\n        if (isLast) {\n            dispatch(setCategoryAndFetchArticles(Category[categories[0]]));\n        } else {\n            dispatch(setCategoryAndFetchArticles(Category[categories[currentIndex + 1]]));\n        }\n    };\n}\n\nexport function setPreviousCategory() {\n    return (dispatch: ThunkDispatch<State, null, AnyAction>, getState: () => State) => {\n        const currentCategory = getState().category;\n        const currentIndex = categories.indexOf(currentCategory);\n        const isFirst = currentIndex === 0;\n        if (isFirst) {\n            dispatch(setCategoryAndFetchArticles(Category[categories[categories.length - 1]]));\n        } else {\n            dispatch(setCategoryAndFetchArticles(Category[categories[currentIndex - 1]]));\n        }\n    };\n}\n\nexport function setCategoryIfNeeded(category: Category) {\n    return (dispatch: ThunkDispatch<State, null, AnyAction>, getState: () => State) => {\n        if (getState().category === category) return;\n        dispatch(setCategoryAndFetchArticles(category));\n    };\n}\n","import {Category} from \"./actions/category\";\nimport {Article} from \"./actions/articles\";\n\nexport interface State {\n    category: Category,\n    articles: {\n        isError: boolean,\n        isFetching: boolean,\n        articles: Array<Article>\n    },\n    copyLinkSnackBar: {\n        isActive: boolean\n    },\n    searchKeyword: string\n}\n\nexport const initState: State = {\n    category: Category.HEADLINE,\n    articles: {\n        isError: false,\n        isFetching: true,\n        articles: []\n    },\n    copyLinkSnackBar: {\n        isActive: false\n    },\n    searchKeyword: ''\n};","import {initState, State} from \"../state\";\nimport {Category, CategoryActions, CategoryActionsType} from \"../actions/category\";\n\nfunction category(state = initState.category, action: CategoryActions): State['category'] {\n    switch (action.type) {\n        case CategoryActionsType.SET_CATEGORY:\n            return Category[action.category];\n        default:\n            return state\n    }\n}\n\nexport default category;","import {initState, State} from \"../state\";\nimport {ArticleActionsTypes, ArticlesActions} from \"../actions/articles\";\n\nfunction articles(state = initState.articles, actions: ArticlesActions): State['articles'] {\n    switch(actions.type) {\n        case ArticleActionsTypes.IS_ERROR:\n            return Object.assign({}, state, {isError: true});\n        case ArticleActionsTypes.REQUEST_ARTICLES:\n            return Object.assign({}, state, {\n                isError: false,\n                isFetching: true\n            });\n        case ArticleActionsTypes.RECEIVE_ARTICLES:\n            return Object.assign({}, {\n                isError: false,\n                isFetching: false,\n                articles: actions.articles.slice()\n            });\n        default:\n            return state\n    }\n}\n\nexport default articles;","export enum CopyLinkSnackbarActionsTypes {\n    CLOSE_SNACKBAR = 'CLOSE_SNACKBAR',\n    OPEN_SNACKBAR = 'OPEN_SNACKBAR'\n}\n\nexport interface CopyLinkSnackBarActions {\n    type: CopyLinkSnackbarActionsTypes\n}\n\nexport function closeCopyLinkSnackBar() {\n    return {\n        type: CopyLinkSnackbarActionsTypes.CLOSE_SNACKBAR\n    }\n}\n\nexport function openCopyLinkSnackBar() {\n    return {\n        type: CopyLinkSnackbarActionsTypes.OPEN_SNACKBAR\n    }\n}","import {CopyLinkSnackBarActions, CopyLinkSnackbarActionsTypes} from \"../actions/copy-link-snackbar\";\nimport {State, initState} from \"../state\";\n\nfunction copyLinkSnackbar(state = initState.copyLinkSnackBar, actions: CopyLinkSnackBarActions): State['copyLinkSnackBar'] {\n    switch(actions.type) {\n        case CopyLinkSnackbarActionsTypes.CLOSE_SNACKBAR:\n            return {\n                isActive: false\n            };\n        case CopyLinkSnackbarActionsTypes.OPEN_SNACKBAR:\n            return {\n                isActive: true\n            };\n        default:\n            return state\n    }\n}\n\nexport default copyLinkSnackbar","export enum SearchKeywordTypes {\n    SET_KEYWORD = 'SET_KEYWORD'\n}\n\nexport interface SearchKeywordActions {\n    type: SearchKeywordTypes,\n    keyword: string\n}\n\nexport function setSearchKeyword(keyword: string) {\n    return {\n        type: SearchKeywordTypes.SET_KEYWORD,\n        keyword\n    }\n}","import {CopyLinkSnackBarActions, CopyLinkSnackbarActionsTypes} from \"../actions/copy-link-snackbar\";\nimport {State, initState} from \"../state\";\nimport {SearchKeywordActions, SearchKeywordTypes} from \"../actions/search-keyword\";\n\nfunction searchKeyword(state = initState.searchKeyword, actions: SearchKeywordActions): State['searchKeyword'] {\n    switch(actions.type) {\n        case SearchKeywordTypes.SET_KEYWORD:\n            return actions.keyword;\n        default:\n            return state\n    }\n}\n\nexport default searchKeyword","import {combineReducers} from \"redux\";\nimport category from \"./category\";\nimport articles from \"./articles\";\nimport copyLinkSnackBar from \"./copy-link-snackbar\";\nimport searchKeyword from \"./search-keyword\";\n\nconst rootReducers = combineReducers({\n    category,\n    articles,\n    copyLinkSnackBar,\n    searchKeyword\n});\n\nexport default rootReducers;","import { createStore, applyMiddleware } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport {initState} from \"./state\";\nimport rootReducers from \"./reducers/root-reducers\";\n\n// import { createLogger } from 'redux-logger'\n// const loggerMiddleware = createLogger();\n\nconst preloadedState = initState;\nexport default function configureStore() {\n    return createStore(\n        rootReducers,\n        preloadedState,\n        applyMiddleware(thunkMiddleware)\n        // applyMiddleware(thunkMiddleware, loggerMiddleware)\n    )\n}","import {createMuiTheme, responsiveFontSizes} from \"@material-ui/core/styles\";\n\nlet theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#333333',\n            contrastText: '#fff',\n        },\n        secondary: {\n            main: '#1EB980',\n            contrastText: '#fff',\n        },\n    },\n});\ntheme = responsiveFontSizes(theme);\ntheme.typography.h1 = {\n    fontFamily: [\n        'Anton',\n        'sans-serif',\n    ].join(','),\n    fontWeight: 400,\n    fontSize: '2rem',\n    [theme.breakpoints.up('md')]: {\n        fontSize: '2.5rem',\n    },\n    fontStyle: \"normal\",\n    color: \"inherit\"\n};\n\nexport default theme;","import React, {useEffect, useState} from \"react\";\n\nexport default function useLazyLoad(ref: React.RefObject<HTMLDivElement>) {\n    const [isVisible, setIsVisible] = useState(false);\n    let scrollHandlerLastCalledAt = Date.now() - 1000;\n\n    function checkIsVisible() {\n        const calledAt = Date.now();\n        if (calledAt - scrollHandlerLastCalledAt < 20) {\n            return\n        } else {\n            scrollHandlerLastCalledAt = calledAt\n        }\n        if (!ref.current) return;\n\n        const rect = ref.current.getBoundingClientRect();\n        const isBefore = rect.top + rect.height < 0;\n        const isAfter = rect.top > window.innerHeight;\n        if (!isBefore && !isAfter) setIsVisible(true);\n    }\n\n    useEffect(() => {\n        if (isVisible) return;\n        checkIsVisible();\n        document.addEventListener('scroll', checkIsVisible);\n        return () => {\n            document.removeEventListener('scroll', checkIsVisible);\n        }\n    });\n\n    return isVisible\n}","function copyToClipboard(string: string) {\n    const el = document.createElement('textarea');\n    el.value = string;\n    el.setAttribute('readonly', '');\n    el.style.position = 'absolute';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n}\n\nexport default copyToClipboard;","function useDebounce(debounceInterval: number) {\n    let lastExecuted = Date.now();\n\n    function shouldBeExecuted() {\n        const now = Date.now();\n        if (now - lastExecuted > debounceInterval) {\n            lastExecuted = now;\n            return true\n        } else {\n            return false\n        }\n    }\n\n    return shouldBeExecuted;\n}\n\nexport default useDebounce;","import {RefObject, useEffect, useState} from \"react\";\nimport useDebounce from \"./use-debounce\";\n\nexport enum UseSwipeableDirections {\n    NULL= 'NULL',\n    LEFT = 'LEFT',\n    RIGHT = 'RIGHT'\n}\n\nenum UserAction {\n    NULL = 'NULL',\n    SWIPE = 'SWIPE',\n    SCROLL = 'SCROLL'\n}\n\nconst DEBOUNCER = 10;\n\nfunction useSwipeable(ref: RefObject<HTMLInputElement>, threshholdPx: number) {\n    const [x1, setX1] = useState(0);\n    const [y1, setY1] = useState(0);\n    const [userAction, setUserAction] = useState(UserAction.NULL);\n    const [direction, setDirection] = useState(UseSwipeableDirections.NULL);\n    const [dragDistance, setDragDistance] = useState(0);\n    const shouldBeExecuted = useDebounce(DEBOUNCER);\n\n    function touchStartHandler(e: TouchEvent) {\n        setX1(e.changedTouches[0].clientX);\n        setY1(e.changedTouches[0].clientY)\n    }\n\n    function touchMoveHandler(e: TouchEvent) {\n        if (!shouldBeExecuted()) return;\n        const currentX = e.changedTouches[0].clientX;\n        const currentY = e.changedTouches[0].clientY;\n\n        if (userAction === 'SWIPE') {\n            if (e.cancelable) e.preventDefault();\n            setDragDistance(e.changedTouches[0].clientX - x1);\n        } else if (userAction === 'NULL' && Math.abs(currentX - x1) > Math.abs(currentY - y1)) {\n            setUserAction(UserAction.SWIPE)\n        } else if (userAction === 'NULL' && Math.abs(currentX - x1) <= Math.abs(currentY - y1)) {\n            setUserAction(UserAction.SCROLL)\n        }\n\n    }\n\n    function touchEndHandler(e: TouchEvent) {\n        const currentX = e.changedTouches[0].clientX;\n        const currentY = e.changedTouches[0].clientY;\n        if (\n            Math.abs(currentX - x1) > Math.abs(currentY - y1) &&\n            Math.abs(currentX - x1) > threshholdPx &&\n            userAction === UserAction.SWIPE\n        ) {\n            setDirection(currentX > x1 ? UseSwipeableDirections.RIGHT : UseSwipeableDirections.LEFT);\n        }\n        setDragDistance(0);\n        setUserAction(UserAction.NULL)\n    }\n\n    function resetSwipeStatus() {\n        setDirection(UseSwipeableDirections.NULL);\n    }\n\n    useEffect(() => {\n        const currentElement = ref.current;\n        if (!currentElement) return;\n        currentElement.addEventListener('touchstart', touchStartHandler);\n\n        return () => {\n            currentElement.removeEventListener('touchstart', touchStartHandler);\n        }\n    }, [ref]);\n\n    useEffect(() => {\n        const currentElement = ref.current;\n        if (!currentElement) return;\n        currentElement.addEventListener('touchmove', touchMoveHandler);\n\n        return () => {\n            currentElement.removeEventListener('touchmove', touchMoveHandler);\n        }\n    }, [y1, userAction, ref]);\n\n    useEffect(() => {\n        const currentElement = ref.current;\n        if (!currentElement) return;\n        currentElement.addEventListener('touchend', touchEndHandler);\n\n        return () => {\n            currentElement.removeEventListener('touchend', touchEndHandler);\n        }\n    }, [y1, userAction, ref]);\n\n    return {\n        direction,\n        dragDistance,\n        resetSwipeStatus\n    }\n}\n\nexport default useSwipeable","import React, {useEffect, useRef} from \"react\";\nimport useSwipeable, {UseSwipeableDirections} from \"../../tools/use-swipeable\";\nimport {connect} from \"react-redux\";\nimport {setNextCategory, setPreviousCategory} from \"../../redux/actions/category\";\n\ninterface SwipeableProps {\n    goPrevious: () => void,\n    goNext: () => void,\n}\n\nconst Swipeable: React.FC<SwipeableProps> = (props) => {\n    const containerRef = useRef(null);\n    const {\n        direction,\n        dragDistance,\n        resetSwipeStatus\n    } = useSwipeable(containerRef, 50);\n\n    useEffect(() => {\n        if (direction === UseSwipeableDirections.RIGHT) {\n            props.goPrevious()\n        } else if (direction === UseSwipeableDirections.LEFT) {\n            props.goNext()\n        }\n        return () => {\n            resetSwipeStatus();\n        }\n    }, [direction]);\n\n    return (\n        <div\n            style={{\n                width: '100%',\n                transform: `translateX(${dragDistance}px)`,\n                // it affects snackbar fixed behavior\n                // left: `${dragDistance}px`,\n                // position: 'relative'\n            }}\n            ref={containerRef}\n        >\n            { props.children }\n        </div>\n    )\n};\n\nfunction mapDispatchToProps(dispatch: any) {\n    return {\n        goPrevious: () => dispatch(setPreviousCategory()),\n        goNext: () => dispatch(setNextCategory())\n    }\n}\n\nconst SwipeableContainer = connect(\n    null,\n    mapDispatchToProps\n)(Swipeable);\n\nexport default SwipeableContainer","import React, {CSSProperties, useEffect, useRef, useState} from \"react\";\nimport {\n    Box,\n    Button,\n    Card,\n    CardActions,\n    CardContent,\n    CardMedia,\n    createStyles,\n    Grid,\n    Link,\n    makeStyles,\n    Theme,\n    Typography,\n    useMediaQuery,\n    useTheme,\n    Zoom,\n} from \"@material-ui/core\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useLazyLoad from \"../../tools/use-lazy-load\";\nimport getPublishTime from \"../../tools/get-publish-time\";\nimport copyToClipboard from \"../../tools/copy-to-clipboard\";\nimport {ThemeStyle} from \"@material-ui/core/styles/createTypography\";\nimport Swipeable from '../utility-components/swipeable';\nimport { Article as ArticleType} from \"../../redux/actions/articles\";\nimport {State} from \"../../redux/state\";\n\nconst useStyles = makeStyles((theme) => createStyles({\n    wrapper: {\n        width: 'calc(100% - 40px)',\n        margin: '20px 20px 150px 20px',\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n        wrapper: {\n            width: 'calc(100% - 16px)',\n            margin: '8px 8px 150px 8px'\n        },\n    },\n}));\n\nfunction calcHeight(lines: number, variant: ThemeStyle, theme: Theme): CSSProperties['height'] {\n    return `calc(${lines} * ${theme.typography[variant].fontSize} * ${theme.typography[variant].lineHeight})`;\n}\n\nfunction ellipsis(variant: ThemeStyle, theme: Theme) {\n    return createStyles({\n        root: {\n            position: 'relative',\n            '&:after': {\n                content: \"''\",\n                position: 'absolute',\n                bottom: 0,\n                right: 0,\n                width: '20%',\n                height: calcHeight(1, variant, theme),\n                backgroundImage: 'linear-gradient(to right, rgba(255, 255, 255, 0) , rgba(255, 255, 255, 1))',\n                zIndex: 10\n            },\n        }\n    })\n}\n\nconst overFlowHidden: CSSProperties = {\n    width: '100%',\n    overflow: 'hidden',\n    position: 'relative'\n};\n\nconst usePrimaryCardStyles = makeStyles((theme) => createStyles({\n    media: {\n        height: '550px',\n        ...overFlowHidden,\n    },\n    skeleton: {\n        height: '550px',\n        ...overFlowHidden,\n    },\n    title: {\n        height: calcHeight(1, 'body1', theme),\n        ...ellipsis('body1', theme).root,\n        ...overFlowHidden,\n    },\n    source: {\n        height: calcHeight(1, 'body2', theme),\n        ...overFlowHidden,\n    },\n    articleContent: {\n        height: calcHeight(2, 'body2', theme),\n        ...ellipsis('body2', theme).root,\n        ...overFlowHidden,\n    },\n    buttons: {\n        ...overFlowHidden,\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n        media: {\n            height: '200px',\n        },\n        skeleton: {\n            height: '200px',\n        },\n    }\n}));\n\n\n\nconst useSecondaryCardStyles = makeStyles((theme) => createStyles({\n    media: {\n        height: '200px',\n        ...overFlowHidden,\n    },\n    skeleton: {\n        height: '200px',\n        ...overFlowHidden,\n    },\n    title: {\n        height: calcHeight(2, 'body1', theme),\n        ...ellipsis('body1', theme).root,\n        ...overFlowHidden,\n    },\n    source: {\n        height: calcHeight(1, 'body2', theme),\n        ...overFlowHidden,\n    },\n    articleContent: {\n        height: calcHeight(3, 'body2', theme),\n        ...ellipsis('body2', theme).root,\n        ...overFlowHidden,\n    },\n    buttons: {\n        ...overFlowHidden,\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n\n    }\n}));\n\ninterface ButtonsProps {\n    url: string,\n    className: string,\n    openCopyLinkSnackBar: () => void\n}\n\n\nfunction Buttons(props: ButtonsProps) {\n\n    function copyLinkHandler() {\n        copyToClipboard(props.url);\n        props.openCopyLinkSnackBar();\n    }\n\n    return (\n        <CardActions className={props.className}>\n            <Link href={props.url} target={'_blank'} rel=\"noopener\" underline={\"none\"}>\n                <Button size=\"small\" color=\"primary\">\n                    Learn more\n                </Button>\n            </Link>\n            <Button size=\"small\" color=\"primary\" onClick={copyLinkHandler}>Share</Button>\n        </CardActions>\n    )\n}\n\ninterface ArticleProps extends ArticleType {\n    id: number,\n    openCopyLinkSnackBar: () => void\n}\n\nfunction Article(props: ArticleProps) {\n    const ref = useRef(null);\n    const isVisible = useLazyLoad(ref);\n    const [isMounted, setIsMounted] = useState(false);\n    const isTransitionAnimationNeeded = !useMediaQuery(useTheme().breakpoints.down('sm'));\n\n    const isPrimaryCard = props.id === 0 || props.id === 1;\n    const cardPrimaryClasses = usePrimaryCardStyles();\n    const cardSecondaryClasses = useSecondaryCardStyles();\n    const cardClasses = isPrimaryCard ? cardPrimaryClasses : cardSecondaryClasses;\n\n    useEffect(() => {\n        if (isTransitionAnimationNeeded) {\n            setTimeout(() =>setIsMounted(true), 225)\n            // Zoom transition 225ms\n        }\n    }, []);\n\n    const content = (\n        <Grid\n            item\n            xs={12}\n            md={isPrimaryCard ? 6 : 3}\n            ref={ref}\n        >\n            <Card raised>\n                {\n                    isVisible && props.urlToImage?\n                        <CardMedia\n                            component=\"img\"\n                            alt={props.title}\n                            className={cardClasses.media}\n                            image={props.urlToImage}\n                            title={props.title}\n                        /> :\n                        <Skeleton variant={\"rect\"} className={cardClasses.skeleton} />\n                }\n\n                <CardContent>\n                    <Typography gutterBottom variant=\"body1\" component=\"h2\" className={cardClasses.title}>\n                        <Box fontWeight={700}>\n                            { props.title }\n                        </Box>\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={cardClasses.source}>\n                        <Box component={'span'} fontWeight={700}>\n                            { props.source ? props.source + ' - ' : props.author ? props.author + ' - ' : '' }\n                            { getPublishTime(new Date(props.publishedAt)) }\n                        </Box>\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={cardClasses.articleContent}>\n                        { props.content && props.content.replace(/\\[\\+[0-9]+\\schars\\]/ig, '') }\n                    </Typography>\n                </CardContent>\n                <Buttons url={props.url} className={cardClasses.buttons} openCopyLinkSnackBar={props.openCopyLinkSnackBar} />\n            </Card>\n        </Grid>\n    );\n\n    return isTransitionAnimationNeeded ? (\n        <Zoom in={!isMounted ? true : isVisible}>\n            { content }\n        </Zoom>\n    ) : content;\n}\n\ninterface LoadedArticlesProps {\n    articles: Array<ArticleType>,\n    openCopyLinkSnackBar: () => void\n}\n\nfunction LoadedArticles(props: LoadedArticlesProps) {\n    return (\n        <>\n            {\n                props.articles.map((article, i) => {\n                    return (\n                        <Article {...article} key={i} id={i} openCopyLinkSnackBar={props.openCopyLinkSnackBar}/>\n                    )\n                })\n            }\n        </>\n    )\n}\n\ninterface ArticlesProps extends Pick<State, 'articles'> {\n    openCopyLinkSnackBar: () => void\n}\n\nfunction Articles(props: ArticlesProps) {\n    const classes = useStyles();\n\n    // scroll to top after is category changed\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    });\n\n    let content;\n    if (props.articles.isError) {\n        content = (\n            <div style={{\n                width: '100%',\n                minHeight: '100vh'\n            }}>\n                error\n            </div>\n        )\n    } else if (props.articles.isFetching) {\n        content = (\n            <>\n                {\n                    Array.from(Array(10), (_, i) => {\n                        return (\n                            <Grid item key={i}>\n                                <Box width={500} height={300} maxWidth={'100%'}>\n                                    <Skeleton variant={\"rect\"} width={500} height={200}/>\n                                    <Skeleton width={500}/>\n                                    <Skeleton width={500}/>\n                                </Box>\n                            </Grid>\n                        )\n                    })\n                }\n            </>\n        )\n    } else {\n        content = <LoadedArticles articles={props.articles.articles} openCopyLinkSnackBar={props.openCopyLinkSnackBar}/>\n    }\n\n    return (\n        <Swipeable>\n            <Box className={classes.wrapper}>\n                <Grid container direction={\"row\"} alignContent={\"center\"} justify={\"center\"} spacing={2}>\n                    { content }\n                </Grid>\n            </Box>\n        </Swipeable>\n    )\n}\n\nexport {Article, Articles as default}","export default function getPublishTime(date: Date): string{\n    const timePast = Date.now() - date.getTime();\n    if (timePast < 0) {\n        return 'now'\n    }\n    const minutes = Math.floor(timePast / (60 * 1000));\n    if (minutes <= 59) {\n        return `${minutes} ${minutes === 1 ? 'minute' : 'minutes'} ago`\n    }\n    const hours = Math.floor(timePast / (60 * 60 * 1000));\n    if (hours <= 23) {\n        return `${hours} ${hours === 1 ? 'hour' : 'hours'} ago`\n    }\n    const days = Math.floor(timePast / (24 * 60 * 60 * 1000));\n    if (days <= 30) {\n        return `${days} ${days === 1 ? 'day' : 'days'} ago`\n    }\n    const months = Math.floor(timePast / (30 * 24 * 60 * 60 * 1000));\n    if (months <= 12) {\n        return `${months} ${months === 1 ? 'month' : 'months'} ago`\n    }\n    const years = Math.floor(timePast / (365 * 24 * 60 * 60 * 1000));\n    return `${years} ${years === 1 ? 'year' : 'years'} ago`\n}","import {openCopyLinkSnackBar} from \"../redux/actions/copy-link-snackbar\";\nimport {connect} from \"react-redux\";\nimport Articles from \"../components/articles/articles\";\nimport {Dispatch} from \"redux\";\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n    return {\n        openCopyLinkSnackBar: () => dispatch(openCopyLinkSnackBar())\n    }\n}\n\nconst ArticlesContainer = connect(\n    null,\n    mapDispatchToProps\n)(Articles);\n\nexport default ArticlesContainer;\n","import React from \"react\";\nimport {Avatar, Box, Chip, Grid, Link} from \"@material-ui/core\";\n\nfunction Attribution() {\n    return (\n        <Box mt={10} mb={2} mx={2}>\n            <Grid container direction={'row'} spacing={2}>\n                <Grid item>\n                    <Link href={'https://www.xiaoxihome.com/'} target={'_blank'} rel=\"noopener\" underline={\"none\"}>\n                        <Chip\n                            avatar={<Avatar>X</Avatar>}\n                            label=\"🔧 with ❤️ by XiaoxiHome\"\n                            color=\"primary\"\n                            clickable\n                        />\n                    </Link>\n                </Grid>\n                <Grid item>\n                    <Link href={'https://newsapi.org/'} target={'_blank'} rel=\"noopener\" underline={\"none\"}>\n                        <Chip\n                            avatar={<Avatar>N</Avatar>}\n                            label=\"News data courtesy of NewsAPI.org\"\n                            color=\"secondary\"\n                            clickable\n                        />\n                    </Link>\n                </Grid>\n            </Grid>\n        </Box>\n    )\n}\n\nexport default Attribution;","import React from \"react\";\nimport {\n    createStyles,\n    IconButton,\n    Snackbar,\n    SnackbarContent,\n} from \"@material-ui/core\";\nimport Close from '@material-ui/icons/Close';\nimport {green} from '@material-ui/core/colors';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nconst useStyles = makeStyles(() => createStyles({\n    successSnackBar: {\n        backgroundColor: green[600]\n    },\n}));\n\ninterface CopyLinkSnackbarProps {\n    isActive: boolean,\n    closeCopyLinkSnackBar: () => void\n}\n\nfunction CopyLinkSnackbar(props: CopyLinkSnackbarProps) {\n    const classes = useStyles();\n\n    function closeHandlder() {\n        props.closeCopyLinkSnackBar()\n    }\n\n    return (\n        <Snackbar\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'center',\n            }}\n            open={props.isActive}\n            autoHideDuration={3000}\n            onClose={closeHandlder}\n        >\n            <SnackbarContent\n                className={classes.successSnackBar}\n                message={\n                    <span id=\"client-snackbar\">\n                        Link copied to clipboard\n                    </span>\n                }\n                action={[\n                        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={closeHandlder}>\n                    <Close/>\n                    </IconButton>,\n            ]}\n            />\n    </Snackbar>\n    )\n}\n\nexport default CopyLinkSnackbar;","import {State} from \"../redux/state\";\nimport {closeCopyLinkSnackBar} from \"../redux/actions/copy-link-snackbar\";\nimport {connect} from \"react-redux\";\nimport CopyLinkSnackbar from \"../components/copy-link-snackbar\";\nimport {Dispatch} from \"redux\";\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n    return {\n        closeCopyLinkSnackBar: () => dispatch(closeCopyLinkSnackBar())\n    }\n}\n\nfunction mapStateToProps(state: State) {\n    return {\n        isActive: state.copyLinkSnackBar.isActive\n    }\n}\n\nconst CopyLinkSnackBarContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(CopyLinkSnackbar);\n\nexport default CopyLinkSnackBarContainer;","enum SortTypes {\n    relevance='relevance',\n    date='date'\n}\n\nexport default SortTypes","enum Status {\n    LOADING='LOADING',\n    LOADED_NORMAL='LOADED_NORMAL',\n    LOADED_EMPTY='LOADED_EMPTY',\n    LOADED_NO_MORE='LOADED_NO_MORE',\n    ERROR='ERROR',\n}\n\nexport default Status","import SortTypes from \"../filters/sort-types\";\nimport {IResponse} from \"./response-types\";\n\nconst baseUrl = 'https://www.xiaoxihome.com/api/search-news';\n\nconst requestSearchNews = (\n    keyword: string,\n    skip: number,\n    frequency: boolean,\n    sort?: SortTypes,\n    date?: number\n) => {\n    return new Promise<IResponse>((resolve, reject) => {\n        const dateComponent = date ? `&date=${date}` : '';\n        sort = sort || SortTypes.relevance;\n        const url = `${baseUrl}?keyword=${keyword}&frequency=${frequency}&skip=${skip}&sort=${sort}${dateComponent}`;\n\n        fetch(url)\n            .then(res => res.json())\n            .then(json => {\n                if (json.status === 'ok') {\n                    resolve(json);\n                } else {\n                    console.log(json);\n                    reject(json);\n                }\n            })\n            .catch(e => {\n                console.log(e);\n                reject(e)\n            })\n    });\n};\n\nexport default requestSearchNews","import {useEffect, useState} from \"react\";\nimport requestSearchNews from \"./request-search-news\";\nimport Status from \"../utilities/status\";\nimport SortTypes from \"../filters/sort-types\";\nimport {IFrequencyData, ISearchedArticle, IResponse} from \"./response-types\";\n\nconst useSearchNews = (keyword: string) => {\n\n    const [status, setStatus] = useState(Status.LOADING);\n    const [data, setData] = useState<ISearchedArticle[]>([]);\n    const [sortType, setSortType] = useState(SortTypes.relevance);\n    const [totalCount, setTotalCount] = useState(0);\n    const [frequencyData, setFrequencyData] = useState<IFrequencyData | null>(null);\n    const [pendingDateFilter, _setPendingDateFilter] = useState<number>(0);\n    const [dateFilter, _setDateFilter] = useState<number>(0);\n\n    const newSearch = async () => {\n        try {\n            setData([]);\n            setFrequencyData(null);\n            setTotalCount(0);\n            setSortType(SortTypes.relevance);\n            _setPendingDateFilter(0);\n            _setDateFilter(0);\n\n\n            setStatus(Status.LOADING);\n            const json: IResponse = await requestSearchNews(keyword, 0, true);\n            setData(json.data);\n            setFrequencyData(json.frequency);\n            setTotalCount(json.totalCount);\n            setLoadedStatus(json.data.length, json.totalCount);\n        } catch (e) {\n            setStatus(Status.ERROR)\n        }\n    };\n\n    const loadMore = async () => {\n        try {\n            if (status === Status.LOADING) return;\n\n            setStatus(Status.LOADING);\n            const json: IResponse = await requestSearchNews(keyword, data.length, false, sortType, dateFilter);\n\n            let updatedDataLength = 0;\n            setData((prevData) => {\n                updatedDataLength = prevData.length + json.data.length;\n                return [...prevData, ...json.data]\n            });\n            setLoadedStatus(updatedDataLength, json.totalCount)\n        } catch (e) {\n            setStatus(Status.ERROR)\n        }\n    };\n\n    const toggleSort = async (type: SortTypes) => {\n        try {\n            if (status === Status.LOADING) return;\n            if (type === sortType) return;\n            // reset\n            setData([]);\n            setSortType(type);\n\n            //\n            setStatus(Status.LOADING);\n            const json: IResponse = await requestSearchNews(keyword, 0, false, type, dateFilter);\n            setData(json.data);\n            setLoadedStatus(json.data.length, json.totalCount)\n        } catch (e) {\n            setStatus(Status.ERROR)\n        }\n    };\n\n    const setPendingDateFilter = (date: number) => {\n        _setPendingDateFilter(date);\n    };\n\n    const setDateFilter = async (date: number) => {\n        try {\n            if (status === Status.LOADING) return;\n            if (date === dateFilter) return;\n            // reset\n            setData([]);\n            setTotalCount(0);\n            _setPendingDateFilter(0);\n            _setDateFilter(date);\n\n            //\n            setStatus(Status.LOADING);\n            const json: IResponse = await requestSearchNews(keyword, 0, false, sortType, date);\n            setData(json.data);\n            setTotalCount(json.totalCount);\n            setLoadedStatus(json.data.length, json.totalCount)\n        } catch (e) {\n            setStatus(Status.ERROR)\n        }\n    };\n\n    const setLoadedStatus = (updatedDataLength: number, totalCount: number) => {\n        if (updatedDataLength === totalCount && totalCount !== 0) {\n            setStatus(Status.LOADED_NO_MORE)\n        } else if (totalCount === 0) {\n            setStatus(Status.LOADED_EMPTY)\n        } else {\n            setStatus((Status.LOADED_NORMAL))\n        }\n    };\n\n    useEffect(() => {\n        newSearch();\n    }, [keyword]);\n\n    return {\n        status,\n        data,\n        frequencyData,\n        sortType,\n        totalCount,\n        pendingDateFilter,\n        dateFilter,\n        toggleSort,\n        loadMore,\n        setPendingDateFilter,\n        setDateFilter,\n    };\n};\n\nexport default useSearchNews","export default function getDateString(num: number) {\n    const date = new Date(num);\n    return `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`\n}","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Box} from \"@material-ui/core\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport getDateString from \"../utilities/get-date-string\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(1, 0)\n    }\n}));\n\ninterface ResultsCountMessageProps {\n    count: number,\n    keyword: string,\n    currentLength: number,\n    dateFilter: number\n}\n\nconst ResultsCountMessage: React.FC<ResultsCountMessageProps> = ({count, keyword, currentLength, dateFilter}) => {\n    const article = count === 1 ? 'article' : 'articles';\n    const classes = useStyles();\n\n    const dateFilterMessage = dateFilter ? ` on ${getDateString(dateFilter)}` : '';\n\n    return (\n        <Typography variant=\"body1\" component=\"div\" className={classes.root}>\n            <Box fontWeight={700} textAlign={'center'}>\n                {`${count} news ${article} found related to \"${keyword}\"${dateFilterMessage}, displaying 1 - ${currentLength}`}\n            </Box>\n        </Typography>\n    )\n};\n\nexport default ResultsCountMessage","import React from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\n\ninterface LoadingMessageProps {\n\n}\n\nconst LoadingMessage: React.FC<LoadingMessageProps> = () => {\n    return (\n        <Skeleton variant=\"rect\" width={'100%'} height={200} animation=\"wave\"/>\n    )\n};\n\nexport default LoadingMessage","import Typography from \"@material-ui/core/Typography\";\nimport {Box} from \"@material-ui/core\";\nimport React from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Button from \"@material-ui/core/Button\";\n\ninterface LoadMoreMessageProps {\n    onClick: () => void\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(5, 0),\n        width: 300\n    }\n}));\n\nconst LoadMoreMessage: React.FC<LoadMoreMessageProps> = ({onClick}) => {\n    const classes = useStyles();\n\n    return (\n        <Button variant=\"contained\" disableElevation color=\"secondary\" onClick={onClick} className={classes.root}>\n            Load more\n        </Button>\n    )\n};\n\nexport default LoadMoreMessage","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Box} from \"@material-ui/core\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Divider from \"@material-ui/core/Divider\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(2, 0)\n    }\n}));\n\ninterface GenericMessageProps {\n    message: string,\n    divider?: boolean\n}\n\nconst GenericMessage: React.FC<GenericMessageProps> = ({message, divider}) => {\n    const classes = useStyles();\n\n    return (\n        <>\n            <Typography variant=\"body1\" component=\"div\" className={classes.root}>\n                <Box fontWeight={700} textAlign={'center'}>\n                    {message}\n                </Box>\n            </Typography>\n            { divider && <Divider style={{width: '100%'}}/> }\n        </>\n    )\n};\n\nexport default GenericMessage","import React from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {createStyles} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => createStyles({\n    highlight: {\n        backgroundColor: theme.palette.secondary.light,\n    }\n}));\n\ninterface HighlightedContentProps {\n    content: string,\n    keyword: string\n}\n\nconst HighlightedContent: React.FC<HighlightedContentProps> = ({content, keyword}) => {\n    const re= new RegExp('('+keyword+')', 'gi');\n    const contentArray = content.split(re);\n\n    const classes = useStyles();\n\n    return (\n        <>\n            {contentArray.map((content, i) => {\n                const isKeyword = i % 2 === 1;\n                return isKeyword ?\n                    <span className={classes.highlight} key={i}>{ content }</span> :\n                    <span key={i}>{ content }</span>\n            })}\n        </>\n    )\n};\n\nexport default HighlightedContent","import React, {RefObject, useEffect, useRef, useState} from \"react\";\nimport {Box, makeStyles} from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport HighlightedContent from \"./highlighted-content\";\nimport {Skeleton} from \"@material-ui/lab\";\nimport {ISearchedArticle} from \"./requests/response-types\";\n\nconst useGetHeight = () => {\n    const [cardHeight, setCardHeight] = useState(0);\n    const heightRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (heightRef.current) {\n            const cardHeight = heightRef.current.getBoundingClientRect().height;\n            setCardHeight(cardHeight)\n        }\n    }, [heightRef]);\n\n    return {\n        cardHeight,\n        heightRef\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    cardRoot: {\n        width: '100%',\n        margin: theme.spacing(2, 0),\n    },\n    cardActionArea: {\n        width: '100%',\n        height: '100%',\n        '& a': {\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'center',\n            '&:visited, &:link': {\n                textDecoration: 'inherit',\n                color: 'inherit',\n                cursor: 'pointer'\n            }\n        }\n    },\n    cardMedia: {\n        width: '20%',\n        height: '100%'\n    },\n    cardContent: {\n        width: '80%',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n}));\n\ninterface SearchedArticleCardProps {\n    article: ISearchedArticle,\n    keyword: string\n}\n\nconst SearchedArticleCard: React.FC<SearchedArticleCardProps> = ({article, keyword}) => {\n    const classes = useStyles();\n    \n    const {cardHeight, heightRef} = useGetHeight();\n    \n    return (\n        <Card className={classes.cardRoot} style={{height: cardHeight ? `${cardHeight}px` : 'auto'}}>\n            <CardActionArea className={classes.cardActionArea}>\n                <a href={article.url} target='_blank' rel=\"noopener noreferrer\">\n                    {\n                        article.urlToImage ?\n                            <CardMedia\n                                component=\"img\"\n                                alt={article.title}\n                                className={classes.cardMedia}\n                                image={article.urlToImage}\n                                title={article.title}\n                            /> :\n                            <Skeleton variant=\"rect\" className={classes.cardMedia}/>\n                    }\n                    <CardContent className={classes.cardContent} ref={heightRef}>\n                        <Typography variant=\"body1\" component=\"h2\">\n                            <Box fontWeight={700}>\n                                <HighlightedContent content={article.title} keyword={keyword}/>\n                            </Box>\n                        </Typography>\n                        <Typography variant=\"body2\" component=\"div\" color=\"textSecondary\">\n                            <Box fontWeight={700}>\n                                {\n                                    new Date(article.publishedAt).toDateString()\n                                }\n                            </Box>\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                            <HighlightedContent content={article.content.replace(/\\[\\+[0-9]+\\schars\\]/ig, '')} keyword={keyword}/>\n                        </Typography>\n                    </CardContent>\n                </a>\n            </CardActionArea>\n        </Card>\n    )\n};\n\nexport default SearchedArticleCard","import React, {useEffect, useState} from \"react\";\nimport {IconButton} from \"@material-ui/core\";\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Fade from \"@material-ui/core/Fade\";\n// @ts-ignore\nimport  smoothscroll from 'smoothscroll-polyfill';\n\n// kick off the polyfill!\nsmoothscroll.polyfill();\n\nconst useActivateByScrollY = () => {\n    const [isActive, setIsActive] = useState(false);\n\n    const handleScroll = () => {\n        if (window.scrollY > window.innerHeight && !isActive) {\n            setIsActive(true);\n        } else if (window.scrollY < window.innerHeight && isActive) {\n            setIsActive(false);\n        }\n    };\n\n    useEffect(() => {\n        document.addEventListener('scroll', handleScroll);\n\n        return () => {\n            document.removeEventListener('scroll', handleScroll);\n        }\n    }, [isActive]);\n\n    return isActive\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'fixed',\n        bottom: '50px',\n        right: '50px',\n        backgroundColor: theme.palette.secondary.main,\n        color: '#FFF',\n        transition: theme.transitions.create('background-color opacity'),\n        transform: 'rotate(-90deg)',\n        '&:hover': {\n            backgroundColor: theme.palette.secondary.light,\n        },\n        [theme.breakpoints.down('md')]: {\n            bottom: '15px',\n            right: '15px',\n        }\n    }\n}));\n\ninterface ScrollToTopButtonProps {\n\n}\n\nconst ScrollToTopButton: React.FC<ScrollToTopButtonProps> = () => {\n\n    const classes = useStyles();\n\n    const isActive = useActivateByScrollY();\n    const scrollToTop = () => {\n        window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n    };\n\n    return (\n        <Fade in={isActive}>\n            <Tooltip title=\"Scroll to Top\" className={classes.root}>\n                <IconButton aria-label=\"Scroll to Top\" onClick={scrollToTop}>\n                    <PlayArrowIcon />\n                </IconButton>\n            </Tooltip>\n        </Fade>\n    )\n};\n\nexport default ScrollToTopButton","import {Theme} from \"@material-ui/core\";\nimport * as d3 from \"d3\";\nimport getDateString from \"../utilities/get-date-string\";\n\nclass FrequencyChartD3 {\n    dataArray: {\n        bin: number[],\n        frequency: number[]\n    };\n\n    auxArray: {\n        binDate: string[],\n        barTransitionDelay: number[]\n    };\n\n    params: {\n        lightColor: string,\n        darkColor: string,\n        primaryColor: string,\n        backgroundColor: string,\n        TRANSITION_DELAY: number,\n        BAR_TRANSITION_DURATION: number,\n        maxFrequency: number,\n        binLength: number,\n        argWidth: number,\n        selector: string\n    };\n\n    dimension: {\n        svgWidth: number,\n        svgHeight: number,\n        m: {t: number, r: number, b: number, l: number},\n        chartWidth: number,\n        chartHeight: number,\n        chartX: number,\n        chartY: number\n    };\n\n    scales: {\n        x: d3.ScaleBand<string>,\n        y: d3.ScaleLinear<number, number>\n    };\n\n    svg: d3.Selection<SVGSVGElement, unknown, HTMLElement, any>;\n\n    references: {\n        svg: d3.Selection<SVGSVGElement, unknown, HTMLElement, any>,\n        bars: d3.Selection<SVGRectElement, number, SVGGElement, unknown>,\n        axisX: d3.Selection<SVGGElement, unknown, HTMLElement, any>,\n        axisY: d3.Selection<SVGGElement, unknown, HTMLElement, any>,\n        axisXHoverDate: d3.Selection<SVGGElement, unknown, HTMLElement, any>,\n        axisXHoverFrequency: d3.Selection<SVGGElement, unknown, HTMLElement, any>,\n        axisYHover: d3.Selection<SVGGElement, unknown, HTMLElement, any>,\n        hoverDetection: d3.Selection<SVGRectElement, number, SVGGElement, unknown>,\n    };\n\n    axis: {\n        x: d3.Axis<string>,\n        y: d3.Axis<number | {valueOf(): number;}>,\n        xHoverDate: d3.Axis<string>,\n        xHoverFrequency: d3.Axis<string>,\n        yHover: d3.Axis<number | {valueOf(): number;}>,\n    };\n\n    constructor(theme: Theme, bin: number[], frequency: number[], width: number, selector: string) {\n        this.dataArray = {\n            bin,\n            frequency\n        };\n        this.auxArray = {\n            binDate: this.getBinDateArray(bin),\n            barTransitionDelay: this.getBarTransitionDelayArray(500, frequency)\n        };\n        this.params = {\n            lightColor: theme.palette.secondary.light,\n            darkColor: theme.palette.secondary.dark,\n            primaryColor: theme.palette.primary.light,\n            backgroundColor: '#EEE',\n            TRANSITION_DELAY: 500,\n            BAR_TRANSITION_DURATION: 2000,\n            maxFrequency: Math.max.apply(Math, this.dataArray.frequency),\n            binLength: this.dataArray.bin.length,\n            argWidth: width,\n            selector\n        };\n        this.dimension = this.getDimensions(width);\n        this.svg = d3.select(`#${this.params.selector}`).append('svg');\n        this.references = {\n            svg: this.svg,\n            bars: this.svg\n                .append('g')\n                .selectAll('rect').data(this.dataArray.frequency)\n                .enter().append('rect'),\n            axisX: this.svg.append('g'),\n            axisY: this.svg.append('g'),\n            axisXHoverDate: this.svg.append('g'),\n            axisXHoverFrequency: this.svg.append('g'),\n            axisYHover: this.svg.append('g'),\n            hoverDetection: this.svg\n                .append('g')\n                .selectAll('rect').data(this.dataArray.frequency)\n                .enter().append('rect'),\n        };\n        this.scales = {\n            x: d3.scaleBand()\n                .domain(this.dataArray.frequency.map((_, i) => i.toString()))\n                .range([0, this.dimension.chartWidth]),\n            y: d3.scaleLinear()\n                .domain([0, this.params.maxFrequency])\n                .range([this.dimension.chartHeight, 0])\n        };\n        this.axis = {\n            x: d3.axisBottom(this.scales.x),\n            y: d3.axisLeft(this.scales.y),\n            xHoverDate: d3.axisBottom(this.scales.x),\n            xHoverFrequency: d3.axisBottom(this.scales.x),\n            yHover: d3.axisLeft(this.scales.y)\n        };\n        this.setHoverDetectionEventHandlers = this.setHoverDetectionEventHandlers.bind(this);\n    }\n\n    getBinDateArray(binArray: number[]) {\n        return binArray.map(getDateString)\n    }\n\n    getBarTransitionDelayArray(transitionDelay: number, frequencyDataArray: number[]) {\n        const array = [];\n        let delay = transitionDelay;\n        let step = 20;\n        for (let i=0; i<frequencyDataArray.length; i++) {\n            if (frequencyDataArray[i] === 0) {\n                array.push(delay)\n            } else {\n                array.push(delay+=step);\n            }\n        }\n        return array\n    }\n\n    getDimensions(width: number) {\n        const svgWidth = width;\n        const svgHeight = Math.min(Math.round(svgWidth / 3), 200);\n        const m = {t: 10, r: 30, b: 30, l: 30}; // margin\n        const chartWidth = svgWidth - m.l - m.r;\n        const chartHeight = svgHeight - m.t - m.b;\n        const chartX = m.l;\n        const chartY = m.t;\n\n        return {\n            svgWidth,\n            svgHeight,\n            m,\n            chartWidth,\n            chartHeight,\n            chartX,\n            chartY\n        }\n    }\n\n    setSvg() {\n        this.references.svg\n            .attr('width', this.dimension.svgWidth)\n            .attr('height', this.dimension.svgHeight)\n            .style('background', this.params.backgroundColor);\n\n    }\n\n    setBars() {\n        const barWidth = this.scales.x.bandwidth();\n        const barHeight = (d: number) => this.dimension.chartHeight - this.scales.y(d);\n        const barX = (d: number, i: number) => this.dimension.chartX + (this.scales.x(i.toString()) || 0);\n        const barY = (d: number) => this.dimension.chartY + this.dimension.chartHeight - barHeight(d);\n\n        this.references.bars\n            .style('fill', this.params.lightColor)\n            .style('opacity', 0.8)\n            .attr('width', barWidth)\n            .attr('height', 0)\n            .attr('x', barX)\n            .attr('y', this.dimension.chartY + this.dimension.chartHeight);\n\n        this.references.bars\n            .transition()\n            .attr('height', barHeight)\n            .attr('y', barY)\n            .delay((d: number, i: number) => this.auxArray.barTransitionDelay[i])\n            .duration(this.params.BAR_TRANSITION_DURATION)\n            .ease(d3.easeElastic);\n    }\n\n    setAxisX() {\n        this.axis.x\n            .tickSizeOuter(0)\n            .tickFormat((d, i) => this.auxArray.binDate[parseInt(d)])\n            .tickValues([0, Math.floor(this.params.binLength * 0.25), Math.floor(this.params.binLength * 0.5), Math.floor(this.params.binLength * 0.75), this.params.binLength - 1].map(_=>`${_}`));\n        this.references.axisX\n            .style('transform', `translate(${-0.5*this.dimension.svgWidth}px, ${this.dimension.svgHeight + this.dimension.chartY}px)`)\n            .style('opacity', 0)\n            .style('color', this.params.darkColor);\n\n        this.references.axisX.transition()\n            .style('opacity', 1)\n            .style('transform', `translate(${this.dimension.chartX}px, ${this.dimension.chartHeight + this.dimension.chartY}px)`)\n            .delay(this.params.TRANSITION_DELAY)\n            .duration(1000)\n            .ease(d3.easeElastic);\n\n        this.axis.x(this.references.axisX);\n    }\n\n    setAxisY() {\n        this.axis.y\n            .tickSizeOuter(0)\n            .tickFormat(d3.format(\"d\"))\n            .tickValues([0, Math.floor(this.params.maxFrequency * 0.5), this.params.maxFrequency]);\n        this.references.axisY\n            .style('transform', `translate(${this.dimension.chartX}px, ${this.dimension.chartHeight}px)`)\n            .style('opacity', 0)\n            .style('color', this.params.darkColor);\n\n        this.references.axisY.transition()\n            .style('opacity', 1)\n            .style('transform', `translate(${this.dimension.chartX}px, ${this.dimension.chartY}px)`)\n            .delay(this.params.TRANSITION_DELAY)\n            .duration(1000)\n            .ease(d3.easeElastic);\n\n        this.axis.y(this.references.axisY);\n    }\n\n    setAxisXHoverDate() {\n        this.references.axisXHoverDate.style('opacity', 0)\n            .style('transform', `translate(${this.dimension.chartX}px, ${this.dimension.chartHeight + this.dimension.chartY}px)`);\n        this.axis.xHoverDate\n            .tickFormat((d) => this.auxArray.binDate[parseInt(d)]);\n    }\n\n    setAxisXHoverFrequency() {\n        this.references.axisXHoverFrequency.style('opacity', 0);\n        this.axis.xHoverFrequency\n            .tickFormat((d) => `${this.dataArray.frequency[parseInt(d)]}`)\n            .tickSize(0)\n            .tickPadding(-9);\n    }\n\n    setAxisYHover() {\n        this.references.axisYHover.style('opacity', 0)\n            .style('transform', `translate(${this.dimension.chartX}px, ${this.dimension.chartY}px)`);\n        this.axis.yHover\n            .tickFormat(d3.format(\"d\"))\n            .tickSizeInner(-this.dimension.chartWidth-6)\n            .tickSizeOuter(0)\n            .tickPadding(9);\n    }\n\n    setHoverDetection() {\n        const barWidth = this.scales.x.bandwidth();\n        const barX = (d: number, i: number) => this.dimension.chartX + (this.scales.x(i.toString()) || 0);\n\n        this.references.hoverDetection\n            .style('opacity', 0)\n            .attr('width', barWidth)\n            .attr('height', this.dimension.svgHeight)\n            .attr('x', barX)\n            .attr('y', 0);\n\n        this.setHoverDetectionEventHandlers()\n    }\n\n    setHoverDetectionEventHandlers() {\n        this.references.hoverDetection\n            .on('mouseover', (d, i) => {\n                this.axis.yHover.tickValues([d]);\n                this.axis.yHover(this.references.axisYHover);\n\n                this.references.axisYHover\n                    .selectAll(\".tick line\")\n                    .style('transform', `translate(-6px, 0)`)\n                    .style('color', this.params.primaryColor);\n                this.references.axisYHover.selectAll(\".domain\").remove();\n                this.references.axisYHover.style('opacity', 1);\n\n                const gridTextBox = this.references.axisYHover.select<SVGTextElement>('text').node()?.getBBox();\n                if (gridTextBox) {\n                    this.references.axisYHover.selectAll('g.tick').insert('rect',\n                        ':first-child')\n                        .attr('width', gridTextBox.width)\n                        .attr('height', gridTextBox.height)\n                        .attr('x', gridTextBox.x)\n                        .attr('y', gridTextBox.y)\n                        .style('fill', this.params.backgroundColor);\n                }\n\n                this.axis.xHoverDate\n                    .tickValues([`${i}`]);\n                this.axis.xHoverDate(this.references.axisXHoverDate);\n                this.references.axisXHoverDate.selectAll(\".domain\").remove();\n                this.references.axisXHoverDate.style('opacity', 1);\n\n                const hoverDateTextBox = this.references.axisXHoverDate.select<SVGTextElement>('text').node()?.getBBox();\n                if (hoverDateTextBox) {\n                    this.references.axisXHoverDate.selectAll('g.tick').insert('rect',\n                        ':first-child')\n                        .attr('width', hoverDateTextBox.width*1.2)\n                        .attr('height', hoverDateTextBox.height)\n                        .attr('x', hoverDateTextBox.x-0.1*hoverDateTextBox.width)\n                        .attr('y', hoverDateTextBox.y)\n                        .style('fill', this.params.backgroundColor);\n                }\n\n                this.axis.xHoverFrequency\n                    .tickValues([`${i}`]);\n                this.axis.xHoverFrequency(this.references.axisXHoverFrequency);\n                this.references.axisXHoverFrequency.selectAll(\".domain\").remove();\n                this.references.axisXHoverFrequency\n                    .style('transform', `translate(${this.dimension.chartX}px, ${this.scales.y(d) + this.dimension.chartY}px)`)\n                    .style('opacity', 1);\n\n                const bar = this.references.bars.filter((d, index) => index === i);\n                bar.style('fill', this.params.primaryColor);\n            })\n            .on('mouseout', (d, i) => {\n                this.references.axisYHover.style('opacity', 0);\n                this.references.axisXHoverFrequency.style('opacity', 0);\n                this.references.axisXHoverDate.style('opacity', 0);\n\n                this.references.bars.filter((d, index) => index === i)\n                    .style('fill', this.params.lightColor);\n\n            })\n    }\n\n    bindSetDate(setDate: (date: number) => void) {\n        this.references.hoverDetection\n            .on('click', (d, i) => {\n                setDate(this.dataArray.bin[i])\n            })\n    }\n\n    draw() {\n        this.setSvg();\n        this.setBars();\n        this.setAxisX();\n        this.setAxisY();\n        this.setAxisXHoverDate();\n        this.setAxisXHoverFrequency();\n        this.setAxisYHover();\n        this.setHoverDetection();\n    }\n\n    main() {\n        this.draw();\n    }\n}\n\nexport default FrequencyChartD3","import React, {Dispatch, SetStateAction, useEffect, useMemo, useRef} from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport { useTheme } from '@material-ui/core/styles';\nimport FrequencyChartD3 from \"./frequency-chart-d3\";\nimport {IFrequencyData} from \"../requests/response-types\";\n\nconst id = 'keyword-frequency-chart';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%'\n    }\n}));\n\ninterface KeywordFrequencyProps {\n    bin: IFrequencyData['bin'],\n    frequency: IFrequencyData['frequency'],\n    setDate: (date: number) => void,\n}\n\nconst KeywordFrequency: React.FC<KeywordFrequencyProps> = ({bin, frequency, setDate}) => {\n    const wrapperRef = useRef<HTMLDivElement>(null);\n    const classes = useStyles();\n    const theme = useTheme();\n\n    useEffect(() => {\n\n        if (!wrapperRef.current) return;\n\n        const chart = new FrequencyChartD3(\n            theme,\n            bin.map(obj => obj.ms),\n            frequency.slice(),\n            wrapperRef.current.getBoundingClientRect().width,\n            id\n        );\n        chart.main();\n        chart.bindSetDate(setDate);\n\n    }, [wrapperRef, bin, frequency]);\n\n    return (\n        <div ref={wrapperRef} className={classes.root} id={id}>\n\n        </div>\n    )\n};\n\nexport default KeywordFrequency","import React, {useState} from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport SortTypes from \"./sort-types\";\nimport {MenuItem} from \"@material-ui/core\";\n\nconst capitalizeString = (string: string) => {\n    const lowercase = string.toLowerCase();\n    return lowercase.charAt(0).toUpperCase() + lowercase.slice(1);\n\n};\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        minWidth: 200\n    },\n    resetFontSize: {\n        fontSize: theme.typography.fontSize\n    }\n}));\n\nexport interface SortPanelProps{\n    toggleSort: (sortType: SortTypes) => void,\n    sortType: SortTypes\n}\n\nconst SortPanel: React.FC<SortPanelProps> = ({toggleSort, sortType}) => {\n    const classes = useStyles();\n\n    const handleChange = (e: any) => {\n        const newType = e.target.value;\n        if (newType === sortType) return;\n\n        toggleSort(newType);\n    };\n\n    return (\n        <FormControl className={classes.root} color={\"secondary\"}>\n            <InputLabel htmlFor=\"searched-article-sort\">Sort by</InputLabel>\n            <Select\n                value={sortType}\n                onChange={handleChange}\n                inputProps={{\n                    name: 'sort',\n                    id: 'searched-article-sort',\n                }}\n                className={classes.resetFontSize}\n            >\n                <MenuItem value={SortTypes.relevance} className={classes.resetFontSize}>{capitalizeString(SortTypes.relevance)}</MenuItem>\n                <MenuItem value={SortTypes.date} className={classes.resetFontSize}>{capitalizeString(SortTypes.date)}</MenuItem>\n            </Select>\n        </FormControl>\n    )\n};\n\nexport default SortPanel","import React from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {Chip} from \"@material-ui/core\";\nimport getDateString from \"../utilities/get-date-string\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport CancelIcon from '@material-ui/icons/Cancel';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        minWidth: 200,\n        borderRadius: 0,\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        position: 'relative'\n    },\n    cancelIcon: {\n        position: 'absolute',\n        right: 5\n    }\n}));\n\nexport interface FilterByDateProps{\n    pendingDateFilter: number\n    dateFilter: number,\n    setDateFilter: (date: number) => void,\n}\n\nconst FilterByDate: React.FC<FilterByDateProps> = ({pendingDateFilter, dateFilter, setDateFilter}) => {\n    const classes = useStyles();\n\n    let chip;\n    if (dateFilter) {\n        chip = (\n            <Chip\n                label={`${getDateString(dateFilter)}`}\n                onDelete={() => setDateFilter(0)}\n                classes={{\n                    root: classes.root,\n                }}\n                color={\"secondary\"}\n                deleteIcon={<CancelIcon className={classes.cancelIcon}/>}\n            />\n        )\n    } else if (pendingDateFilter) {\n        chip = (\n            <Chip\n                label={`${getDateString(pendingDateFilter)}`}\n                onClick={() => setDateFilter(pendingDateFilter)}\n                className={classes.root}\n                variant=\"outlined\"\n                color={\"secondary\"}\n            />\n        )\n    } else {\n        chip = (\n            <Chip\n                label={'Use chart to set date'}\n                variant=\"outlined\"\n                disabled\n                className={classes.root}\n            />\n        )\n    }\n\n    return (\n        <>\n            <InputLabel shrink>Filter by date:</InputLabel>\n            {chip}\n        </>\n    )\n};\n\nexport default FilterByDate","import React from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport SortPanel, {SortPanelProps} from \"./sort-panel\";\nimport FilterByDate, {FilterByDateProps} from \"./filter-by-date\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'flex-end',\n        justifyContent: 'center',\n        [theme.breakpoints.down('md')]: {\n            flexDirection: 'column',\n            alignItems: 'center',\n        }\n    },\n    itemWrapper: {\n        padding: theme.spacing(2),\n        [theme.breakpoints.down('md')]: {\n            padding: theme.spacing(1),\n        }\n    }\n}));\n\ninterface FiltersProps extends SortPanelProps, FilterByDateProps {\n\n}\n\nconst Filters: React.FC<FiltersProps> = ({toggleSort, sortType, pendingDateFilter, dateFilter, setDateFilter}) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.itemWrapper}>\n                <SortPanel toggleSort={toggleSort} sortType={sortType}/>\n            </div>\n            <div className={classes.itemWrapper}>\n                <FilterByDate pendingDateFilter={pendingDateFilter} dateFilter={dateFilter} setDateFilter={setDateFilter} />\n            </div>\n        </div>\n    )\n};\n\nexport default Filters","import {Theme} from \"@material-ui/core\";\nimport {CSSProperties} from \"react\";\n\nexport const pageRoot = (theme: Theme): CSSProperties => ({\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    margin: theme.spacing(2, 0, 15, 0)\n});\n\nexport const page1000WidthWrapper = (theme: Theme): CSSProperties => ({\n    width: '1000px',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    padding: theme.spacing(2),\n    [theme.breakpoints.down('md')]: {\n        width: '100%'\n    }\n});","import React, {useEffect, useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport useSearchNews from \"./requests/use-search-news\";\nimport Status from \"./utilities/status\";\nimport ResultsCountMessage from \"./message-components/result-count-message\";\nimport LoadingMessage from \"./message-components/loading-message\";\nimport LoadMoreMessage from \"./message-components/load-more-message\";\nimport GenericMessage from \"./message-components/generic-message\";\nimport SearchedArticleCard from \"./searched-article-card\";\nimport ScrollToTopButton from \"./utilities/scroll-to-top-button\";\nimport KeywordFrequency from \"./frequency-chart/keyword-frequency\";\nimport Filters from \"./filters/filters\";\nimport getDateString from \"./utilities/get-date-string\";\nimport {ISearchedArticle, IFrequencyData} from \"./requests/response-types\";\nimport {page1000WidthWrapper, pageRoot} from \"../../../styles/styles\";\n\nconst useShowChartAndFilters = (data: ISearchedArticle[], frequencyData: IFrequencyData | null, keyword: string) => {\n    // reset when new keyword is searched\n    // show chart and filter if initial search found some data\n    // sequential searches on same keyword caused by applied filters\n    // keep chart and filter visible after initial search is made\n\n    const [foundDataOnKeyword, setFoundDataOnKeyword] = useState(false);\n\n    useEffect(() => {\n        if (data.length > 0 && frequencyData) {\n            setFoundDataOnKeyword(true)\n        }\n    }, [data, frequencyData]);\n\n    useEffect(() => {\n        setFoundDataOnKeyword(false)\n    }, [keyword]);\n\n    return foundDataOnKeyword\n};\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        ...pageRoot(theme)\n    },\n    widthWrapper: {\n        ...page1000WidthWrapper(theme)\n    },\n    cardRoot: {\n        width: '100%',\n        margin: theme.spacing(2, 0),\n    },\n    cardActionArea: {\n        width: '100%',\n        height: '100%',\n        '& a': {\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'center',\n            '&:visited, &:link': {\n                textDecoration: 'inherit',\n                color: 'inherit',\n                cursor: 'pointer'\n            }\n        }\n    },\n    cardMedia: {\n        width: '20%',\n        height: '100%'\n    },\n    cardContent: {\n        width: '80%',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n}));\n\ninterface SearchedArticlesProps {\n    keyword: string\n}\n\nconst SearchedArticles: React.FC<SearchedArticlesProps> = ({keyword}) => {\n\n    const {\n        data,\n        frequencyData,\n        status,\n        sortType,\n        totalCount,\n        pendingDateFilter,\n        dateFilter,\n        setPendingDateFilter,\n        setDateFilter,\n        loadMore,\n        toggleSort\n    } = useSearchNews(keyword);\n    const classes = useStyles();\n\n    const hasData = data.length > 0;\n\n    const notFoundMessage =`No news article related to \"${keyword}\"${dateFilter ? ' on ' + getDateString(dateFilter) : ''} was found`;\n    const endOfResultMessage = 'End of results';\n    const errorMessage = 'Server error please try later';\n\n    const showChartAndFilters = useShowChartAndFilters(data, frequencyData, keyword);\n\n    return (\n        <div className={classes.root} key={keyword}>\n            <div className={classes.widthWrapper}>\n                { showChartAndFilters && frequencyData && <KeywordFrequency bin={frequencyData.bin} frequency={frequencyData.frequency} setDate={setPendingDateFilter}/>}\n                { showChartAndFilters && <Filters sortType={sortType} toggleSort={toggleSort} pendingDateFilter={pendingDateFilter} dateFilter={dateFilter} setDateFilter={setDateFilter}/> }\n                { hasData && <ResultsCountMessage count={totalCount} keyword={keyword} currentLength={data.length} dateFilter={dateFilter}/> }\n                { status === Status.LOADED_EMPTY && <GenericMessage message={notFoundMessage}/>}\n                { status === Status.ERROR && <GenericMessage message={errorMessage}/>}\n                {\n                    hasData &&\n                        data.map((article) =>\n                            <SearchedArticleCard article={article} keyword={keyword} key={article._id}/>\n                        )\n                }\n                { status === Status.LOADING && <LoadingMessage/> }\n                { status === Status.LOADED_NORMAL && <LoadMoreMessage onClick={loadMore}/> }\n                { status === Status.LOADED_NO_MORE && <GenericMessage message={endOfResultMessage} divider/>}\n            </div>\n\n            <ScrollToTopButton />\n        </div>\n    )\n};\n\nexport default SearchedArticles","import {connect} from \"react-redux\";\nimport SearchedArticles from \"../components/articles/searched-articles/searched-articles\";\nimport {State} from \"../redux/state\";\n\nfunction mapStateToProps(state: State) {\n    return {\n        keyword: state.searchKeyword\n    }\n}\n\nconst SearchedArticlesContainer = connect(\n    mapStateToProps,\n)(SearchedArticles);\n\nexport default SearchedArticlesContainer;","import React, {useEffect, useState} from \"react\";\n\nexport enum AnalyticsPageStatus {\n    loading='loading',\n    loaded='loaded',\n    error='error'\n}\n\ninterface summaryStatisticsData {\n    totalDocuments: number,\n    earliestDocumentDate: number,\n    latestDocumentDate: number,\n    documentsCountByDay: any,\n    documentsCountByCategory: Array<{\n        count: number,\n        category: string\n    }>\n}\n\nconst useGetAnalytics = () => {\n    const [status, setStatus] = useState(AnalyticsPageStatus.loading);\n    const [summaryStatisticsData, setSummaryStatisticsData] = useState<summaryStatisticsData | null>(null);\n\n    useEffect(() => {\n        fetch('https://www.xiaoxihome.com/api/news-analytics')\n            .then(res => res.json())\n            .then(json => {\n                if (json.status !== 'ok') {\n                    console.log(json);\n                    setStatus(AnalyticsPageStatus.error)\n                } else {\n                    setSummaryStatisticsData(json.summaryStatistics as summaryStatisticsData);\n                    setStatus(AnalyticsPageStatus.loaded)\n                }\n            })\n            .catch(e => {\n                console.log(e);\n                setStatus(AnalyticsPageStatus.error)\n            })\n    }, []);\n\n    return {status, summaryStatisticsData}\n};\n\nexport default useGetAnalytics","import {useState, CSSProperties, useEffect} from \"react\";\nimport useDebounce from \"./use-debounce\";\n\n\nenum Style {\n    FIXED = 'FIXED',\n    RELATIVE = 'RELATIVE'\n}\n\nconst getStyle = (styleName: Style) => {\n    const style = {\n        FIXED: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: \"100%\"\n        } as CSSProperties,\n        RELATIVE: {\n            position: \"relative\",\n            width: \"100%\"\n        } as CSSProperties,\n    };\n\n    return {...style[styleName]};\n};\n\nfunction useSticky(fixedStartHeight: number) {\n    const [style, setStyle] = useState(Style.RELATIVE);\n    const [isFixed, setIsFixed] = useState(false);\n    const shouldBeExecuted = useDebounce(10);\n\n    function scrollHandler() {\n        const scrolled = window.scrollY;\n        if (scrolled === 0 && style !== Style.RELATIVE) {\n            // don't debounce when fast scrolling to top\n            setStyle(Style.RELATIVE);\n            setIsFixed(false);\n            return;\n        }\n\n        if (!shouldBeExecuted()) return;\n        if (scrolled >= fixedStartHeight && style !== Style.FIXED) {\n            setStyle(Style.FIXED);\n            setIsFixed(true);\n        } else if (scrolled < fixedStartHeight && style !== Style.RELATIVE) {\n            setStyle(Style.RELATIVE);\n            setIsFixed(false);\n        }\n    }\n\n    useEffect(() => {\n        document.addEventListener('scroll', scrollHandler);\n\n        return () => {\n            document.removeEventListener('scroll', scrollHandler);\n        }\n    }, [style]);\n\n    return {\n        style: getStyle(style),\n        isFixed\n    };\n}\n\nexport default useSticky;","import React, {useRef} from \"react\";\nimport CountUp from 'react-countup';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {Typography} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\nimport Fade from \"@material-ui/core/Fade\";\nimport useLazyLoad from \"../../tools/use-lazy-load\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n    }\n}));\n\ninterface RollingNumberSection {\n    text: string,\n    number: number\n}\n\nconst NumberSection: React.FC<RollingNumberSection> = ({text, number}) => {\n    const classes = useStyles();\n    const containerRef = useRef<HTMLDivElement>(null);\n    const isVisible = useLazyLoad(containerRef);\n\n    return (\n        <Fade in={isVisible} timeout={2000}>\n        <div className={classes.root} ref={containerRef}>\n            <Typography variant={'body2'} component={'h2'}>\n                <Box>{ text }</Box>\n            </Typography>\n            <Typography variant={'h2'} component={'p'}>\n                {\n                    isVisible ?\n                        <CountUp end={number} start={Math.floor(number * 0.85)} duration={5} delay={0}/> :\n                        <CountUp end={number} start={number} duration={0}/>\n                }\n            </Typography>\n        </div>\n        </Fade>\n    )\n};\n\nexport default NumberSection","import React, {useRef} from \"react\";\nimport CountUp from 'react-countup';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {Typography} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\nimport useLazyLoad from \"../../tools/use-lazy-load\";\nimport Fade from \"@material-ui/core/Fade\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n    }\n}));\n\ninterface RollingNumberSection {\n    text: string,\n    number: number\n}\n\nconst DateSection: React.FC<RollingNumberSection> = ({text, number}) => {\n    const classes = useStyles();\n    const containerRef = useRef<HTMLDivElement>(null);\n    const isVisible = useLazyLoad(containerRef);\n\n    const date = new Date(number);\n\n    return (\n        <Fade in={isVisible} timeout={2000}>\n            <div className={classes.root} ref={containerRef}>\n                <Typography variant={'body2'} component={'h2'}>\n                    <Box>{ text }</Box>\n                </Typography>\n                <Typography variant={'h2'} component={'p'}>\n                    <DateComponent isVisible={isVisible} number={date.getUTCFullYear()} start={2000}/>\n                    -\n                    <DateComponent isVisible={isVisible} number={date.getUTCMonth() + 1}/>\n                    -\n                    <DateComponent isVisible={isVisible} number={date.getUTCDate()}/>\n                </Typography>\n            </div>\n        </Fade>\n    )\n};\n\ninterface DateComponentProps {\n    isVisible: boolean,\n    number: number,\n    start?: number\n}\n\nconst DateComponent: React.FC<DateComponentProps> = ({isVisible, number, start}) => {\n    return (\n        <span>\n            {\n                isVisible ?\n                    <CountUp end={number} start={start || 0} duration={5} delay={0}/> :\n                    <CountUp end={number} start={number} duration={0}/>\n            }\n        </span>\n    )\n};\n\nexport default DateSection","import React from \"react\";\nimport useGetAnalytics, {AnalyticsPageStatus} from \"./use-get-analytics\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {page1000WidthWrapper, pageRoot} from \"../../styles/styles\";\nimport {CircularProgress} from \"@material-ui/core\";\nimport NumberSection from \"./number-section\";\nimport DateSection from \"./date-section\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        ...pageRoot(theme),\n        margin: theme.spacing(10, 0, 15, 0)\n    },\n    widthWrapper: {\n        ...page1000WidthWrapper(theme)\n    },\n    section: {\n        margin: theme.spacing(4)\n    }\n}));\n\ninterface AnalyticsProps {\n\n}\n\nconst Analytics: React.FC<AnalyticsProps> = () => {\n    const classes = useStyles();\n\n    const {\n        status,\n        summaryStatisticsData\n    } = useGetAnalytics();\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.widthWrapper}>\n                {\n                    status === AnalyticsPageStatus.loading && <CircularProgress color={\"secondary\"}/>\n                }\n                {\n                    status === AnalyticsPageStatus.loaded &&\n                    summaryStatisticsData &&\n                    <>\n                        <div className={classes.section}>\n                            <NumberSection text={'Total news achieved'} number={summaryStatisticsData.totalDocuments}/>\n                        </div>\n                        <div className={classes.section}>\n                            <DateSection text={'First news achieved'} number={summaryStatisticsData.earliestDocumentDate}/>\n                        </div>\n                        <div className={classes.section}>\n                            <DateSection text={'Most recent news'} number={summaryStatisticsData.latestDocumentDate}/>\n                        </div>\n                    </>\n                }\n            </div>\n        </div>\n    )\n};\n\nexport default Analytics","import React, {useRef} from \"react\";\nimport useSticky from \"../../tools/use-sticky\";\n\ninterface StickyComponentProps {\n    fixedStartHeight: number,\n    zIndex?: number,\n}\n\nconst StickyComponent: React.FC<StickyComponentProps> = (props) => {\n    const {\n        style,\n        isFixed\n    } = useSticky(props.fixedStartHeight);\n    const childrenRef = useRef(document.createElement('div'));\n\n    return (\n        <>\n            { isFixed &&\n            <div style={{visibility: 'hidden'}}>\n                { props.children }\n            </div> }\n            <div style={{...style, zIndex: props.zIndex ? props.zIndex : 'auto'}} ref={childrenRef}>\n                { props.children }\n            </div>\n        </>\n    )\n};\n\nexport default StickyComponent;","import React, {FormEvent, useEffect, useState} from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {Tooltip} from \"@material-ui/core\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\nconst useStyles = makeStyles(theme => ({\n    dialog: {\n        minWidth: '50vw'\n    }\n}));\n\ninterface HeaderSearchProps {\n    goToSearch: (keyword: string) => void\n}\n\nconst HeaderSearch: React.FC<HeaderSearchProps> = ({goToSearch}) => {\n\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(false);\n    const [input, setInput] = useState('');\n    const [isEmpty, setIsEmpty] = useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setInput('');\n        setOpen(false);\n    };\n\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (isEmpty) setIsEmpty(false);\n        setInput(e.target.value)\n    };\n\n    const handleSubmit = (e: FormEvent) => {\n        e.preventDefault();\n        if (!input.length) {\n            setIsEmpty(true);\n        } else {\n            goToSearch(input);\n            handleClose();\n        }\n    };\n\n    return (\n        <div>\n            <Tooltip title=\"Search\" TransitionComponent={Zoom}>\n                <IconButton aria-label=\"search\" color={\"inherit\"} onClick={handleClickOpen}>\n                    <SearchIcon/>\n                </IconButton>\n            </Tooltip>\n            <Dialog open={open} onClose={handleClose} fullWidth maxWidth='sm'>\n                <form action='/' onSubmit={handleSubmit}>\n                    <DialogTitle>Search from archived news</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            error={isEmpty}\n                            autoFocus\n                            margin=\"dense\"\n                            label=\"Keywords\"\n                            type=\"news keyword\"\n                            fullWidth\n                            value={input}\n                            onChange={handleInputChange}\n                            helperText={isEmpty ? 'Keyword cannot be empty.' : ' '}\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={handleClose} color=\"primary\" aria-label='cancel'>\n                            Cancel\n                        </Button>\n                        <Button type=\"submit\" color=\"primary\" aria-label='submit search'>\n                            Search\n                        </Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n        </div>\n    )\n};\n\nexport default HeaderSearch","import React, {useRef} from \"react\";\nimport {AppBar, Grid, Tab, Tabs, Theme, Toolbar, Tooltip, Typography,} from \"@material-ui/core\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport {Categories, Category} from \"../../redux/actions/category\";\nimport StickyComponent from \"../utility-components/sticky-component\";\nimport IconButton from '@material-ui/core/IconButton';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport Zoom from \"@material-ui/core/Zoom\";\nimport HeaderSearch from \"./header-search\";\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    tab: {\n        flexShrink: 0,\n        flexGrow: 1,\n        color: theme.palette.primary.contrastText\n    },\n    heading: {\n        textTransform: 'uppercase',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center'\n    },\n    appBarNoBoxShadow: {\n        boxShadow: 'none'\n    },\n    appBarBottomBoxShadow: {\n        boxShadow: '0px 4px 4px -1px rgba(0,0,0,0.2), 0px 5px 5px 0px rgba(0,0,0,0.14), 0px 10px 10px 0px rgba(0,0,0,0.12)'\n    },\n    trendIcon: {\n        color: '#FFF'\n    }\n}));\n\ninterface HeaderProps {\n    headers: Categories,\n    category: Category,\n    goToSearch: (keyword: string) => void,\n    goToAnalytics: () => void,\n    setCategory: (category: Category) => void\n}\n\nconst Header: React.FC<HeaderProps> = ({headers, category, goToSearch, goToAnalytics, setCategory}) => {\n    const classes = useStyles();\n    const appBarRef = useRef(document.createElement('div'));\n\n    return (\n        <>\n        <AppBar color=\"primary\" position={'static'} ref={appBarRef} className={classes.appBarNoBoxShadow}>\n            <Toolbar>\n                <Grid container>\n                    <Grid item xs={1} md={3}>\n\n                    </Grid>\n                    <Grid item xs={7} md={6}>\n                        <Typography align={\"center\"} className={classes.heading} variant={\"h1\"} component={'h1'}>\n                            News Canada\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={4} md={3}>\n                        <Grid container alignItems={'center'} justify={\"flex-end\"}>\n                            <Grid item>\n                                <HeaderSearch goToSearch={goToSearch}/>\n                            </Grid>\n                            <Grid item>\n                                <Tooltip title=\"Analytics\" TransitionComponent={Zoom}>\n                                    <IconButton aria-label=\"news trend\" color={\"inherit\"} onClick={goToAnalytics}>\n                                        <AssessmentIcon/>\n                                    </IconButton>\n                                </Tooltip>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Toolbar>\n        </AppBar>\n        <StickyComponent\n            fixedStartHeight={appBarRef !== null ? appBarRef.current.offsetTop + appBarRef.current.offsetHeight : 50}\n            zIndex={1100}>\n            <AppBar color=\"primary\" position={'static'} className={classes.appBarBottomBoxShadow}>\n                <Tabs\n                    value={headers.indexOf(category) === -1 ? false : headers.indexOf(category)}\n                    indicatorColor=\"secondary\"\n                    textColor=\"secondary\"\n                    variant=\"scrollable\"\n                    scrollButtons=\"auto\"\n                >\n                    {\n                        headers.map((_, i) => <Tab label={_} key={i} className={classes.tab} onClick={() => setCategory(Category[_])}/>)\n                    }\n                </Tabs>\n            </AppBar>\n        </StickyComponent>\n        </>\n    )\n}\n\nexport default Header;","import {connect} from \"react-redux\";\nimport {Dispatch} from \"redux\";\nimport {\n    categories,\n    Category,\n    goToAnalyticsPanel,\n    goToSearchPanel,\n    setCategoryIfNeeded\n} from \"../redux/actions/category\";\nimport {setSearchKeyword} from \"../redux/actions/search-keyword\";\nimport Header from \"../components/header/header\";\nimport {State} from \"../redux/state\";\n\nfunction mapStateToProps(state: State) {\n    return {\n        headers: categories,\n        category: state.category,\n    }\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n    return {\n        goToSearch: (keyword: string) => {\n            dispatch(setSearchKeyword(keyword));\n            dispatch(goToSearchPanel())\n        },\n        goToAnalytics: () => {\n            dispatch(goToAnalyticsPanel())\n        },\n        setCategory: (category: Category) => {\n            // @ts-ignore\n            dispatch(setCategoryIfNeeded(category));\n        }\n    }\n}\n\nconst HeaderContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Header);\n\nexport default HeaderContainer;","import {State} from \"./redux/state\";\nimport React, {useEffect} from \"react\";\nimport {Box, makeStyles} from \"@material-ui/core\";\nimport Header from \"./components/header/header\";\nimport {categories, Category} from \"./redux/actions/category\";\nimport ArticlesContainer from \"./containers/articles-container\";\nimport Attribution from \"./components/attribution\";\nimport CopyLinkSnackBarContainer from \"./containers/copy-link-snackbar-container\";\nimport {fetchArticles} from \"./redux/actions/articles\";\nimport {connect} from \"react-redux\";\nimport SearchedArticlesContainer from \"./containers/searched-articles-container\";\nimport Analytics from \"./components/analytics/analytics\";\nimport HeaderContainer from \"./containers/header-container\";\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        width: '100vw',\n        maxWidth: '100%',\n        minHeight: '100vh',\n        overflowX: 'hidden',\n        paddingBottom: '10px',\n        // overflowX is causing y-axis scroll problem, pb do the hack,\n        position: 'relative'\n    },\n    attribution: {\n        position: 'absolute',\n        left: 10,\n        bottom: 10\n    }\n}));\n\ninterface InnerAppProps extends Pick<State, 'category' | 'articles'> {\n    fetchArticlesAfterMount: () => void,\n}\n\nfunction InnerApp(props: InnerAppProps) {\n    const classes = useStyles();\n    useEffect(() => {\n        props.fetchArticlesAfterMount()\n    }, []);\n\n    const main = () => {\n        let component;\n        switch (props.category) {\n            case Category.ANALYTICS:\n                component = <Analytics />;\n                break;\n            case Category.SEARCH:\n                component = <SearchedArticlesContainer/>;\n                break;\n            default:\n                component = <ArticlesContainer articles={props.articles} />;\n        }\n\n        return component\n    };\n\n    return (\n        <Box className={classes.root}>\n            <HeaderContainer/>\n            {\n                main()\n            }\n            <div className={classes.attribution}>\n                <Attribution />\n            </div>\n            <CopyLinkSnackBarContainer />\n        </Box>\n    )\n}\nfunction mapStateToProps(state: State) {\n    return {\n        category: state.category,\n        articles: state.articles,\n    }\n}\nfunction mapDispatchToProps(dispatch: any) {\n    return {\n        fetchArticlesAfterMount: () => dispatch(fetchArticles(Category.HEADLINE))\n    }\n}\nconst InnerAppContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(InnerApp);\n\nexport default InnerAppContainer;","import React from 'react';\nimport { Provider } from 'react-redux';\nimport configureStore from \"./redux/configureStore\";\nimport { CssBaseline } from \"@material-ui/core\";\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme';\nimport InnerAppContainer from \"./inner-app\";\n\n\nconst store = configureStore();\n\nfunction App() {\n    return (\n        <Provider store={store}>\n            <ThemeProvider theme={theme}>\n                <CssBaseline />\n                <InnerAppContainer />\n            </ThemeProvider>\n        </Provider>\n    )\n}\n\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}