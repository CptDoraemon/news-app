(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{118:function(e,t,a){e.exports=a(150)},123:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(11),i=a.n(o),l=(a(123),a(17)),u=a(39),s=a(91);!function(e){e.IS_ERROR="IS_ERROR",e.REQUEST_ARTICLES="REQUEST_ARTICLES",e.RECEIVE_ARTICLES="RECEIVE_ARTICLES"}(n||(n={}));var E,m=function(e){var t="\n        {\n            getNews(category: ".concat(e,") {\n                source,\n                author,\n                title,\n                description,\n                url,\n                urlToImage,\n                publishedAt,\n                content\n            }\n        }\n    ");return function(e){return e({type:n.REQUEST_ARTICLES}),fetch("https://www.xiaoxihome.com/api/news?query="+encodeURIComponent(t)).then((function(e){return e.json()})).then((function(t){t.errors?e({type:n.IS_ERROR}):e(function(e){return{type:n.RECEIVE_ARTICLES,articles:e.slice()}}(t.data.getNews))}))}};!function(e){e.HEADLINE="HEADLINE",e.BUSINESS="BUSINESS",e.ENTERTAINMENT="ENTERTAINMENT",e.HEALTH="HEALTH",e.SCIENCE="SCIENCE",e.SPORTS="SPORTS",e.TECHNOLOGY="TECHNOLOGY",e.SEARCH="SEARCH"}(E||(E={}));var d,f=["HEADLINE","BUSINESS","ENTERTAINMENT","HEALTH","SCIENCE","SPORTS","TECHNOLOGY"];!function(e){e.SET_CATEGORY="SET_CATEGORY"}(d||(d={}));var h=function(e){return function(t){t(function(e){return{type:d.SET_CATEGORY,category:e}}(e)),t(m(e))}};var p={category:E.HEADLINE,articles:{isError:!1,isFetching:!0,articles:[]},copyLinkSnackBar:{isActive:!1},searchKeyword:""};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.category,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_CATEGORY:return E[t.category];default:return e}};var b,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.articles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.IS_ERROR:return Object.assign({},e,{isError:!0});case n.REQUEST_ARTICLES:return Object.assign({},e,{isError:!1,isFetching:!0});case n.RECEIVE_ARTICLES:return Object.assign({},{isError:!1,isFetching:!1,articles:t.articles.slice()});default:return e}};!function(e){e.CLOSE_SNACKBAR="CLOSE_SNACKBAR",e.OPEN_SNACKBAR="OPEN_SNACKBAR"}(b||(b={}));var y,O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.copyLinkSnackBar;switch((arguments.length>1?arguments[1]:void 0).type){case b.CLOSE_SNACKBAR:return{isActive:!1};case b.OPEN_SNACKBAR:return{isActive:!0};default:return e}};!function(e){e.SET_KEYWORD="SET_KEYWORD"}(y||(y={}));var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.searchKeyword,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.SET_KEYWORD:return t.keyword;default:return e}},w=Object(u.c)({category:g,articles:v,copyLinkSnackBar:O,searchKeyword:S}),L=p;var R,A=a(207),j=a(182),N=a(6),C=a(99),T=a(212),x=Object(C.a)({palette:{primary:{main:"#333333",contrastText:"#fff"},secondary:{main:"#1EB980",contrastText:"#fff"}}});(x=Object(T.a)(x)).typography.h1=(R={fontFamily:["Anton","sans-serif"].join(","),fontWeight:400,fontSize:"2rem"},Object(N.a)(R,x.breakpoints.up("md"),{fontSize:"2.5rem"}),Object(N.a)(R,"fontStyle","normal"),Object(N.a)(R,"color","inherit"),R);var k=x,I=a(96),D=a(208),B=a(192),_=a(193),H=a(194),M=a(101),F=a(210),W=a(195),P=a(16),Y=a(12);var U,V=function(e){var t=Date.now();return function(){var a=Date.now();return a-t>e&&(t=a,!0)}};!function(e){e.FIXED="FIXED",e.RELATIVE="RELATIVE"}(U||(U={}));var K=function(e){return Object(P.a)({},{FIXED:{position:"fixed",top:0,left:0,width:"100%"},RELATIVE:{position:"relative",width:"100%"}}[e])};var G=function(e){var t=Object(r.useState)(U.RELATIVE),a=Object(Y.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(!1),i=Object(Y.a)(o,2),l=i[0],u=i[1],s=V(10);function E(){var t=window.scrollY;if(0===t&&n!==U.RELATIVE)return c(U.RELATIVE),void u(!1);s()&&(t>=e&&n!==U.FIXED?(c(U.FIXED),u(!0)):t<e&&n!==U.RELATIVE&&(c(U.RELATIVE),u(!1)))}return Object(r.useEffect)((function(){return document.addEventListener("scroll",E),function(){document.removeEventListener("scroll",E)}}),[n]),{style:K(n),isFixed:l}},X=function(e){var t=G(e.fixedStartHeight),a=t.style,n=t.isFixed,o=Object(r.useRef)(document.createElement("div"));return c.a.createElement(c.a.Fragment,null,n&&c.a.createElement("div",{style:{visibility:"hidden"}},e.children),c.a.createElement("div",{style:Object(P.a)({},a,{zIndex:e.zIndex?e.zIndex:"auto"}),ref:o},e.children))},z=a(183),Q=a(97),J=a.n(Q),q=a(95),$=a.n(q),Z=a(214),ee=a(213),te=a(190),ae=a(185),ne=a(184),re=a(191),ce=a(20),oe=a.n(ce),ie=oe()((function(e){return{dialog:{minWidth:"50vw"}}})),le=function(e){var t=e.search,a=(ie(),Object(r.useState)(!1)),n=Object(Y.a)(a,2),o=n[0],i=n[1],l=Object(r.useState)(""),u=Object(Y.a)(l,2),s=u[0],E=u[1],m=Object(r.useState)(!1),d=Object(Y.a)(m,2),f=d[0],h=d[1],p=function(){E(""),i(!1)};return c.a.createElement("div",null,c.a.createElement(z.a,{"aria-label":"search",color:"inherit",onClick:function(){i(!0)}},c.a.createElement($.a,null)),c.a.createElement(ee.a,{open:o,onClose:p,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm"},c.a.createElement("form",{action:"/",onSubmit:function(e){e.preventDefault(),s.length?(t(s),p()):h(!0)}},c.a.createElement(ne.a,null,"Search from archived news"),c.a.createElement(ae.a,null,c.a.createElement(Z.a,{error:f,autoFocus:!0,margin:"dense",label:"Keywords",type:"news keyword",fullWidth:!0,value:s,onChange:function(e){f&&h(!1),E(e.target.value)},helperText:f?"Keyword cannot be empty.":" "})),c.a.createElement(te.a,null,c.a.createElement(re.a,{onClick:p,color:"primary"},"Cancel"),c.a.createElement(re.a,{type:"submit",color:"primary"},"Search")))))};var ue=Object(l.b)(null,(function(e){return{search:function(t){e(function(e){return{type:y.SET_KEYWORD,keyword:e}}(t)),e({type:d.SET_CATEGORY,category:E.SEARCH})}}}))(le),se=Object(I.a)((function(e){return{tab:{flexShrink:0,flexGrow:1,color:e.palette.primary.contrastText},heading:{textTransform:"uppercase",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},appBarNoBoxShadow:{boxShadow:"none"},appBarBottomBoxShadow:{boxShadow:"0px 4px 4px -1px rgba(0,0,0,0.2), 0px 5px 5px 0px rgba(0,0,0,0.14), 0px 10px 10px 0px rgba(0,0,0,0.12)"},trendIcon:{color:"#FFF"}}}));var Ee=function(e){var t=se(),a=Object(l.c)(),n=Object(r.useRef)(document.createElement("div")),o=function(e){a(function(e){return function(t,a){a().category!==e&&t(h(e))}}(e))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,{color:"primary",position:"static",ref:n,className:t.appBarNoBoxShadow},c.a.createElement(_.a,null,c.a.createElement(H.a,{container:!0},c.a.createElement(H.a,{item:!0,xs:1,md:3}),c.a.createElement(H.a,{item:!0,xs:7,md:6},c.a.createElement(M.a,{align:"center",className:t.heading,variant:"h1",component:"h1"},"News Canada")),c.a.createElement(H.a,{item:!0,xs:4,md:3},c.a.createElement(H.a,{container:!0,alignItems:"center",justify:"flex-end"},c.a.createElement(H.a,{item:!0},c.a.createElement(ue,null)),c.a.createElement(H.a,{item:!0},c.a.createElement(z.a,{"aria-label":"news trend",color:"inherit"},c.a.createElement(J.a,null)))))))),c.a.createElement(X,{fixedStartHeight:null!==n?n.current.offsetTop+n.current.offsetHeight:50,zIndex:1100},c.a.createElement(B.a,{color:"primary",position:"static",className:t.appBarBottomBoxShadow},c.a.createElement(F.a,{value:-1!==e.headers.indexOf(e.category)&&e.headers.indexOf(e.category),indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto"},e.headers.map((function(e,a){return c.a.createElement(W.a,{label:e,key:a,className:t.tab,onClick:function(){return o(E[e])}})}))))))},me=a(196),de=a(197),fe=a(198),he=a(199),pe=a(23),ge=a(200),be=a(201),ve=a(203),ye=a(204),Oe=a(202);var Se,we,Le=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};!function(e){e.NULL="NULL",e.LEFT="LEFT",e.RIGHT="RIGHT"}(Se||(Se={})),function(e){e.NULL="NULL",e.SWIPE="SWIPE",e.SCROLL="SCROLL"}(we||(we={}));var Re=10;var Ae=function(e,t){var a=Object(r.useState)(0),n=Object(Y.a)(a,2),c=n[0],o=n[1],i=Object(r.useState)(0),l=Object(Y.a)(i,2),u=l[0],s=l[1],E=Object(r.useState)(we.NULL),m=Object(Y.a)(E,2),d=m[0],f=m[1],h=Object(r.useState)(Se.NULL),p=Object(Y.a)(h,2),g=p[0],b=p[1],v=Object(r.useState)(0),y=Object(Y.a)(v,2),O=y[0],S=y[1],w=V(Re);function L(e){o(e.changedTouches[0].clientX),s(e.changedTouches[0].clientY)}function R(e){if(w()){var t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY;"SWIPE"===d?(e.cancelable&&e.preventDefault(),S(e.changedTouches[0].clientX-c)):"NULL"===d&&Math.abs(t-c)>Math.abs(a-u)?f(we.SWIPE):"NULL"===d&&Math.abs(t-c)<=Math.abs(a-u)&&f(we.SCROLL)}}function A(e){var a=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;Math.abs(a-c)>Math.abs(n-u)&&Math.abs(a-c)>t&&d===we.SWIPE&&b(a>c?Se.RIGHT:Se.LEFT),S(0),f(we.NULL)}return Object(r.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("touchstart",L),function(){t.removeEventListener("touchstart",L)}}),[e]),Object(r.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("touchmove",R),function(){t.removeEventListener("touchmove",R)}}),[u,d,e]),Object(r.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("touchend",A),function(){t.removeEventListener("touchend",A)}}),[u,d,e]),{direction:g,dragDistance:O,resetSwipeStatus:function(){b(Se.NULL)}}};var je=Object(l.b)(null,(function(e){return{goPrevious:function(){return e((function(e,t){var a=t().category,n=f.indexOf(a);e(h(0===n?E[f[f.length-1]]:E[f[n-1]]))}))},goNext:function(){return e((function(e,t){var a=t().category,n=f.indexOf(a),r=n===f.length-1;e(h(r?E[f[0]]:E[f[n+1]]))}))}}}))((function(e){var t=Object(r.useRef)(null),a=Ae(t,50),n=a.direction,o=a.dragDistance,i=a.resetSwipeStatus;return Object(r.useEffect)((function(){return n===Se.RIGHT?e.goPrevious():n===Se.LEFT&&e.goNext(),function(){i()}}),[n]),c.a.createElement("div",{style:{width:"100%",transform:"translateX(".concat(o,"px)")},ref:t},e.children)})),Ne=Object(I.a)((function(e){return Object(me.a)(Object(N.a)({wrapper:{width:"calc(100% - 40px)",margin:"20px"}},e.breakpoints.down("sm"),{wrapper:{width:"calc(100% - 16px)",margin:"8px"}}))}));function Ce(e,t,a){return"calc(".concat(e," * ").concat(a.typography[t].fontSize," * ").concat(a.typography[t].lineHeight,")")}function Te(e,t){return Object(me.a)({root:{position:"relative","&:after":{content:"''",position:"absolute",bottom:0,right:0,width:"20%",height:Ce(1,e,t),backgroundImage:"linear-gradient(to right, rgba(255, 255, 255, 0) , rgba(255, 255, 255, 1))",zIndex:10}}})}var xe={width:"100%",overflow:"hidden",position:"relative"},ke=Object(I.a)((function(e){return Object(me.a)(Object(N.a)({media:Object(P.a)({height:"550px"},xe),skeleton:Object(P.a)({height:"550px"},xe),title:Object(P.a)({height:Ce(1,"body1",e)},Te("body1",e).root,{},xe),source:Object(P.a)({height:Ce(1,"body2",e)},xe),articleContent:Object(P.a)({height:Ce(2,"body2",e)},Te("body2",e).root,{},xe),buttons:Object(P.a)({},xe)},e.breakpoints.down("sm"),{media:{height:"200px"},skeleton:{height:"200px"}}))})),Ie=Object(I.a)((function(e){return Object(me.a)(Object(N.a)({media:Object(P.a)({height:"200px"},xe),skeleton:Object(P.a)({height:"200px"},xe),title:Object(P.a)({height:Ce(2,"body1",e)},Te("body1",e).root,{},xe),source:Object(P.a)({height:Ce(1,"body2",e)},xe),articleContent:Object(P.a)({height:Ce(3,"body2",e)},Te("body2",e).root,{},xe),buttons:Object(P.a)({},xe)},e.breakpoints.down("sm"),{}))}));function De(e){return c.a.createElement(de.a,{className:e.className},c.a.createElement(fe.a,{href:e.url,target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(re.a,{size:"small",color:"primary"},"Learn more")),c.a.createElement(re.a,{size:"small",color:"primary",onClick:function(){Le(e.url),e.openCopyLinkSnackBar()}},"Share"))}function Be(e){var t=Object(r.useRef)(null),a=function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],c=a[1],o=Date.now()-1e3;function i(){var t=Date.now();if(!(t-o<20)&&(o=t,e.current)){var a=e.current.getBoundingClientRect(),n=a.top+a.height<0,r=a.top>window.innerHeight;n||r||c(!0)}}return Object(r.useEffect)((function(){if(!n)return i(),document.addEventListener("scroll",i),function(){document.removeEventListener("scroll",i)}})),n}(t),n=Object(r.useState)(!1),o=Object(Y.a)(n,2),i=o[0],l=o[1],u=!Object(he.a)(Object(pe.a)().breakpoints.down("sm")),s=0===e.id||1===e.id,E=ke(),m=Ie(),d=s?E:m;Object(r.useEffect)((function(){u&&setTimeout((function(){return l(!0)}),225)}),[]);var f=c.a.createElement(H.a,{item:!0,xs:12,md:s?6:3,ref:t},c.a.createElement(ge.a,{raised:!0},a&&e.urlToImage?c.a.createElement(be.a,{component:"img",alt:e.title,className:d.media,image:e.urlToImage,title:e.title}):c.a.createElement(Oe.a,{variant:"rect",className:d.skeleton}),c.a.createElement(ve.a,null,c.a.createElement(M.a,{gutterBottom:!0,variant:"body1",component:"h2",className:d.title},c.a.createElement(D.a,{fontWeight:700},e.title)),c.a.createElement(M.a,{variant:"body2",color:"textSecondary",component:"p",className:d.source},c.a.createElement(D.a,{component:"span",fontWeight:700},e.source?e.source+" - ":e.author?e.author+" - ":"",function(e){var t=Date.now()-e.getTime();if(t<0)return"now";var a=Math.floor(t/6e4);if(a<=59)return"".concat(a," ").concat(1===a?"minute":"minutes"," ago");var n=Math.floor(t/36e5);if(n<=23)return"".concat(n," ").concat(1===n?"hour":"hours"," ago");var r=Math.floor(t/864e5);if(r<=30)return"".concat(r," ").concat(1===r?"day":"days"," ago");var c=Math.floor(t/2592e6);if(c<=12)return"".concat(c," ").concat(1===c?"month":"months"," ago");var o=Math.floor(t/31536e6);return"".concat(o," ").concat(1===o?"year":"years"," ago")}(new Date(e.publishedAt)))),c.a.createElement(M.a,{variant:"body2",color:"textSecondary",component:"p",className:d.articleContent},e.content&&e.content.replace(/\[\+[0-9]+\schars\]/gi,""))),c.a.createElement(De,{url:e.url,className:d.buttons,openCopyLinkSnackBar:e.openCopyLinkSnackBar})));return u?c.a.createElement(ye.a,{in:!i||a},f):f}function _e(e){return c.a.createElement(c.a.Fragment,null,e.articles.map((function(t,a){return c.a.createElement(Be,Object.assign({},t,{key:a,id:a,openCopyLinkSnackBar:e.openCopyLinkSnackBar}))})))}var He=Object(l.b)(null,(function(e){return{openCopyLinkSnackBar:function(){return e({type:b.OPEN_SNACKBAR})}}}))((function(e){var t,a=Ne();return Object(r.useEffect)((function(){window.scrollTo(0,0)})),t=e.articles.isError?c.a.createElement("div",{style:{width:"100%",minHeight:"100vh"}},"error"):e.articles.isFetching?c.a.createElement(c.a.Fragment,null,Array.from(Array(10),(function(e,t){return c.a.createElement(H.a,{item:!0,key:t},c.a.createElement(D.a,{width:500,height:300,maxWidth:"100%"},c.a.createElement(Oe.a,{variant:"rect",width:500,height:200}),c.a.createElement(Oe.a,{width:500}),c.a.createElement(Oe.a,{width:500})))}))):c.a.createElement(_e,{articles:e.articles.articles,openCopyLinkSnackBar:e.openCopyLinkSnackBar}),c.a.createElement(je,null,c.a.createElement(D.a,{className:a.wrapper},c.a.createElement(H.a,{container:!0,direction:"row",alignContent:"center",justify:"center",spacing:2},t)))})),Me=a(217),Fe=a(218);var We=function(){return c.a.createElement(D.a,{mt:10,mb:2,mx:2},c.a.createElement(H.a,{container:!0,direction:"row",spacing:2},c.a.createElement(H.a,{item:!0},c.a.createElement(fe.a,{href:"https://www.xiaoxihome.com/",target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(Me.a,{avatar:c.a.createElement(Fe.a,null,"X"),label:"\ud83d\udd27 with \u2764\ufe0f by XiaoxiHome",color:"primary",clickable:!0}))),c.a.createElement(H.a,{item:!0},c.a.createElement(fe.a,{href:"https://newsapi.org/",target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(Me.a,{avatar:c.a.createElement(Fe.a,null,"N"),label:"News data courtesy of NewsAPI.org",color:"secondary",clickable:!0})))))},Pe=a(219),Ye=a(205),Ue=a(98),Ve=a.n(Ue),Ke=a(67),Ge=oe()((function(){return Object(me.a)({successSnackBar:{backgroundColor:Ke.a[600]}})}));var Xe=function(e){var t=Ge();function a(){e.closeCopyLinkSnackBar()}return c.a.createElement(Pe.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:e.isActive,autoHideDuration:3e3,onClose:a},c.a.createElement(Ye.a,{className:t.successSnackBar,message:c.a.createElement("span",{id:"client-snackbar"},"Link copied to clipboard"),action:[c.a.createElement(z.a,{key:"close","aria-label":"close",color:"inherit",onClick:a},c.a.createElement(Ve.a,null))]}))};var ze,Qe=Object(l.b)((function(e){return{isActive:e.copyLinkSnackBar.isActive}}),(function(e){return{closeCopyLinkSnackBar:function(){return e({type:b.CLOSE_SNACKBAR})}}}))(Xe),Je=a(206),qe=a(19);!function(e){e.LOADING="LOADING",e.LOADED_NORMAL="LOADED_NORMAL",e.LOADED_EMPTY="LOADED_EMPTY",e.LOADED_NO_MORE="LOADED_NO_MORE",e.ERROR="ERROR"}(ze||(ze={}));var $e,Ze=ze,et="https://www.xiaoxihome.com/api/search-news",tt=function(e,t,a,n,r){var c=0===t?"".concat(et,"?keyword=").concat(e):"".concat(et,"?keyword=").concat(e,"&skip=").concat(t);fetch(c).then((function(e){return e.json()})).then((function(e){"error"===e.status?a(Ze.ERROR):e.resultsFound?(n((function(t){return[].concat(Object(qe.a)(t),Object(qe.a)(e.data))})),a(Ze.LOADED_NORMAL)):r.length>0?a(Ze.LOADED_NO_MORE):a(Ze.LOADED_EMPTY)})).catch((function(e){console.log(e),a(Ze.ERROR)}))};!function(e){e.RELEVANCE="RELEVANCE",e.DATE="DATE"}($e||($e={}));var at=$e,nt=function(e){var t=Object(r.useState)(Ze.LOADING),a=Object(Y.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)([]),i=Object(Y.a)(o,2),l=i[0],u=i[1],s=Object(r.useState)(at.RELEVANCE),E=Object(Y.a)(s,2),m=E[0],d=E[1];return Object(r.useEffect)((function(){u([]),tt(e,0,c,u,[])}),[e]),{status:n,setStatus:c,data:l,setData:u,sortType:m,sortByDate:function(){u((function(e){return e.sort((function(e,t){var a=new Date(e.publishedAt).getTime();return new Date(t.publishedAt).getTime()-a}))})),d(at.DATE)},sortByRelevance:function(){u((function(e){return e.sort((function(e,t){return t.score-e.score}))})),d(at.RELEVANCE)}}},rt=oe()((function(e){return{root:{margin:e.spacing(2,0)}}})),ct=function(e){var t=e.count,a=e.keyword,n=1===t?"article":"articles",r=rt();return c.a.createElement(M.a,{variant:"body1",component:"div",className:r.root},c.a.createElement(D.a,{fontWeight:700},"".concat(t," news ").concat(n,' found related to "').concat(a,'"')))},ot=function(){return c.a.createElement(Oe.a,{variant:"rect",width:"100%",height:200,animation:"wave"})},it=oe()((function(e){return{root:{margin:e.spacing(5,0),width:300}}})),lt=function(e){var t=e.onClick,a=it();return c.a.createElement(re.a,{variant:"contained",disableElevation:!0,color:"secondary",onClick:t,className:a.root},"Load more")},ut=oe()((function(e){return Object(me.a)({highlight:{backgroundColor:e.palette.secondary.light}})})),st=function(e){var t=e.content,a=e.keyword,n=new RegExp("("+a+")","gi"),r=t.split(n),o=ut();return c.a.createElement(c.a.Fragment,null,r.map((function(e,t){return t%2===1?c.a.createElement("span",{className:o.highlight,key:t},e):c.a.createElement("span",{key:t},e)})))},Et=a(216),mt=a(188),dt=a(209),ft=a(220),ht=function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},pt=oe()((function(e){return{root:{margin:e.spacing(2,0),minWidth:200}}})),gt=function(e){var t=e.sortByDate,a=e.sortByRelevance,n=e.sortType,r=pt();return c.a.createElement(mt.a,{className:r.root,color:"secondary"},c.a.createElement(Et.a,{htmlFor:"searched-article-sort"},"Sort By"),c.a.createElement(dt.a,{value:n,onChange:function(e){var r=e.target.value;if(r!==n)switch(r){case at.RELEVANCE:a();break;case at.DATE:t();break;default:a()}},inputProps:{name:"sort",id:"searched-article-sort"}},c.a.createElement(ft.a,{value:at.RELEVANCE},ht(at.RELEVANCE)),c.a.createElement(ft.a,{value:at.DATE},ht(at.DATE))))},bt=oe()((function(e){return{root:{margin:e.spacing(2,0)}}})),vt=function(e){var t=e.message,a=bt();return c.a.createElement(M.a,{variant:"body1",component:"div",className:a.root},c.a.createElement(D.a,{fontWeight:700},t))},yt=Object(I.a)((function(e){return{root:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},widthWrapper:Object(N.a)({width:"1000px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:e.spacing(2)},e.breakpoints.down("md"),{width:"100%"}),cardRoot:{width:"100%",margin:e.spacing(2,0)},cardActionArea:{width:"100%",height:"100%","& a":{width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center","&:visited, &:link":{textDecoration:"inherit",color:"inherit",cursor:"pointer"}}},cardMedia:{width:"20%",height:"100%"},cardContent:{width:"80%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),Ot=function(e){var t=e.keyword,a=nt(t),n=a.status,r=a.data,o=a.setStatus,i=a.setData,l=a.sortType,u=a.sortByRelevance,s=a.sortByDate,E=yt(),m=r.length;return c.a.createElement("div",{className:E.root},c.a.createElement("div",{className:E.widthWrapper},m>0&&c.a.createElement(ct,{count:m,keyword:t}),m>0&&c.a.createElement(gt,{sortType:l,sortByRelevance:u,sortByDate:s}),n===Ze.LOADED_EMPTY&&c.a.createElement(vt,{message:'No news article related to "'.concat(t,'" found')}),n===Ze.ERROR&&c.a.createElement(vt,{message:"Server error please try later"}),r.length>0&&r.map((function(e,a){return c.a.createElement(ge.a,{key:e._id,className:E.cardRoot},c.a.createElement(Je.a,{className:E.cardActionArea},c.a.createElement("a",{href:e.url,target:"_blank"},c.a.createElement(be.a,{component:"img",alt:e.title,className:E.cardMedia,image:e.urlToImage,title:e.title}),c.a.createElement(ve.a,{className:E.cardContent},c.a.createElement(M.a,{variant:"body1",component:"h2"},c.a.createElement(D.a,{fontWeight:700},c.a.createElement(st,{content:e.title,keyword:t}))),c.a.createElement(M.a,{variant:"body2",component:"div",color:"textSecondary"},c.a.createElement(D.a,{fontWeight:700},new Date(e.publishedAt).toDateString())),c.a.createElement(M.a,{variant:"body2",color:"textSecondary",component:"p"},c.a.createElement(st,{content:e.content.replace(/\[\+[0-9]+\schars\]/gi,""),keyword:t}))))))})),n===Ze.LOADING&&c.a.createElement(ot,null),n===Ze.LOADED_NORMAL&&c.a.createElement(lt,{onClick:function(){tt(t,r.length,o,i,r)}}),n===Ze.LOADED_NO_MORE&&c.a.createElement(vt,{message:"No more news found"})))};var St=Object(l.b)((function(e){return{keyword:e.searchKeyword}}))(Ot),wt=Object(I.a)((function(){return{root:{width:"100vw",maxWidth:"100%",minHeight:"100vh",overflowX:"hidden",paddingBottom:"10px"}}}));var Lt=Object(l.b)((function(e){var t=e.category===E.SEARCH;return{category:e.category,articles:e.articles,isSearching:t}}),(function(e){return{fetchArticlesAfterMount:function(){return e(m(E.HEADLINE))}}}))((function(e){var t=wt();return Object(r.useEffect)((function(){e.fetchArticlesAfterMount()}),[]),c.a.createElement(D.a,{className:t.root},c.a.createElement(Ee,{headers:f,category:e.category}),e.isSearching?c.a.createElement(St,null):c.a.createElement(He,{articles:e.articles}),c.a.createElement(We,null),c.a.createElement(Qe,null))})),Rt=Object(u.d)(w,L,Object(u.a)(s.a));var At=function(){return c.a.createElement(l.a,{store:Rt},c.a.createElement(j.a,{theme:k},c.a.createElement(A.a,null),c.a.createElement(Lt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(At,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[118,1,2]]]);
//# sourceMappingURL=main.550328e3.chunk.js.map