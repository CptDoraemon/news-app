(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{47:function(e,t,a){e.exports=a(59)},52:function(e,t,a){},53:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a.n(n),o=a(13),i=a.n(o),l=(a(52),a(53),a(30)),m=a(19),s=a(34),E=a(35);!function(e){e.HEADLINE="HEADLINE",e.BUSINESS="BUSINESS",e.ENTERTAINMENT="ENTERTAINMENT",e.HEALTH="HEALTH",e.SCIENCE="SCIENCE",e.SPORTS="SPORTS",e.TECHNOLOGY="TECHNOLOGY"}(r||(r={}));var u,h,d=["HEADLINE","BUSINESS","ENTERTAINMENT","HEALTH","SCIENCE","SPORTS","TECHNOLOGY"];!function(e){e.SET_CATEGORY="SET_CATEGORY"}(u||(u={})),function(e){e.IS_ERROR="IS_ERROR",e.REQUEST_ARTICLES="REQUEST_ARTICLES",e.RECEIVE_ARTICLES="RECEIVE_ARTICLES"}(h||(h={}));var p="https://www.xiaoxihome.com/api/news?query=";function g(e){var t="\n        {\n            getNews(category: ".concat(e,") {\n                source,\n                author,\n                title,\n                description,\n                url,\n                urlToImage,\n                publishedAt,\n                content\n            }\n        }\n    ");return function(e){return e({type:h.REQUEST_ARTICLES}),fetch(p+encodeURIComponent(t)).then((function(e){return e.json()})).then((function(t){t.errors?e({type:h.IS_ERROR}):e(function(e){return{type:h.RECEIVE_ARTICLES,articles:e.slice()}}(t.data.getNews))}))}}var f={category:r.HEADLINE,articles:{isError:!1,isFetching:!0,articles:[]}};var v=Object(m.c)({category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.category,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_CATEGORY:return t.category;default:return e}},articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.articles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.IS_ERROR:return Object.assign({},e,{isError:!0});case h.REQUEST_ARTICLES:return Object.assign({},e,{isError:!1,isFetching:!0});case h.RECEIVE_ARTICLES:return Object.assign({},{isError:!1,isFetching:!1,articles:t.articles.slice()});default:return e}}}),w=Object(E.createLogger)(),N=f;var y=a(90),S=a(89),b=a(20),T=(a(58),a(38)),R=a(77),C=a(78),x=a(79),I=a(60),O=a(91),A=a(80),L=Object(T.a)((function(e){return{tab:{flexShrink:0,flexGrow:1},toolbar:{textTransform:"uppercase"}}}));var j=function(e){var t=L(),a=Object(n.useState)(0),r=Object(b.a)(a,2),o=r[0],i=r[1];return c.a.createElement(R.a,{color:"default",position:"static"},c.a.createElement(C.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{align:"center",className:t.toolbar,color:"primary"},c.a.createElement(y.a,{fontWeight:700,fontSize:"h5.fontSize"},"News Canada")))),c.a.createElement(O.a,{value:o,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},e.headers.map((function(a,r){return c.a.createElement(A.a,{label:a,key:r,className:t.tab,onClick:function(){return function(t){t!==o&&(i(t),e.dispatcher(g(e.headers[t])))}(r)}})}))))},k=a(7),_=a(94),H=a(81),P=a(82),M=a(83),W=a(85),B=a(86),D=a(87),U=a(88),G=a(84);var F=Object(T.a)((function(e){return Object(_.a)(Object(k.a)({wrapper:{width:"calc(100% - 40px)",margin:"20px"},cardWrapperPrimary:{height:"800px"},cardMediaPrimary:{height:"550px"},skeletonPrimary:{height:"550px"},cardContentPrimary:{width:"100%",height:"200px",overflow:"hidden",position:"relative"},cardWrapperNormal:{height:"400px"},cardMediaNormal:{height:"150px"},skeletonNormal:{height:"150px"},cardContentNormal:{height:"200px",width:"100%",overflow:"hidden",position:"relative"}},e.breakpoints.down("md"),{wrapper:{width:"calc(100% - 16px)",margin:"8px"},cardWrapperPrimary:{height:"400px"},cardMediaPrimary:{height:"150px"},skeletonPrimary:{height:"150px"},cardContentPrimary:{height:"200px"},cardWrapperNormal:{height:"400px"},cardMediaNormal:{height:"150px"},skeletonNormal:{height:"150px"},cardContentNormal:{height:"200px"}}))}));function Y(e){var t=Object(n.useRef)(null),a=function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),r=a[0],c=a[1],o=Date.now()-1e3;function i(){if(e.current){var t=Date.now();if(!(t-o<20)){o=t;var a=e.current.getBoundingClientRect(),r=a.top+a.height<0,n=a.top>window.innerHeight;r||n||c(!0)}}}return Object(n.useEffect)((function(){if(!r)return i(),document.addEventListener("scroll",i),function(){document.removeEventListener("scroll",i)}}),[r]),r}(t),r=F(),o=0===e.id||1===e.id;return c.a.createElement(H.a,{item:!0,xs:12,md:o?6:3,ref:t},c.a.createElement(P.a,{raised:!0,className:o?r.cardWrapperPrimary:r.cardWrapperNormal},a&&e.urlToImage?c.a.createElement(M.a,{component:"img",alt:e.title,className:o?r.cardMediaPrimary:r.cardMediaNormal,image:e.urlToImage,title:e.title}):c.a.createElement(G.a,{variant:"rect",className:o?r.skeletonPrimary:r.skeletonNormal}),c.a.createElement(W.a,{className:o?r.cardContentPrimary:r.cardContentNormal},c.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.title),c.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},c.a.createElement(y.a,{component:"span",fontWeight:700},e.source?e.source+" - ":e.author?e.author+" - ":"",function(e){var t=Date.now()-e.getTime();if(t<0)return"now";var a=Math.floor(t/6e4);if(a<=59)return"".concat(a," ").concat(1===a?"minute":"minutes"," ago");var r=Math.floor(t/36e5);if(r<=23)return"".concat(r," ").concat(1===r?"hour":"hours"," ago");var n=Math.floor(t/864e5);if(n<=30)return"".concat(n," ").concat(1===n?"day":"days"," ago");var c=Math.floor(t/2592e6);if(c<=12)return"".concat(c," ").concat(1===c?"month":"months"," ago");var o=Math.floor(t/31536e6);return"".concat(o," ").concat(1===o?"year":"years"," ago")}(new Date(e.publishedAt)))),c.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.content)),c.a.createElement(B.a,null,c.a.createElement(D.a,{href:e.url,target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(U.a,{size:"small",color:"primary"},"Learn more")))))}function Q(e){return c.a.createElement(c.a.Fragment,null,e.articles.map((function(e,t){return c.a.createElement(Y,Object.assign({},e,{key:t,id:t}))})))}var V=function(e){var t,a=F();return t=e.articles.isError?c.a.createElement("div",null,"error"):e.articles.isFetching?c.a.createElement(c.a.Fragment,null,Array.from(Array(10),(function(e,t){return c.a.createElement(H.a,{item:!0,key:t},c.a.createElement(y.a,{width:500,height:300,maxWidth:"100%"},c.a.createElement(G.a,{variant:"rect",width:500,height:200}),c.a.createElement(G.a,{width:500}),c.a.createElement(G.a,{width:500})))}))):c.a.createElement(Q,{articles:e.articles.articles}),c.a.createElement(y.a,{className:a.wrapper},c.a.createElement(H.a,{container:!0,direction:"row",alignContent:"center",justify:"center",spacing:2},t))},z=a(93),J=a(92);var X=function(){return c.a.createElement(y.a,{mt:10,mx:2},c.a.createElement(H.a,{container:!0,direction:"row",spacing:2},c.a.createElement(H.a,{item:!0},c.a.createElement(D.a,{href:"https://www.xiaoxihome.com/",target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(z.a,{avatar:c.a.createElement(J.a,null,"X"),label:"\ud83d\udd27 with \u2764\ufe0f by XiaoxiHome",color:"primary",clickable:!0}))),c.a.createElement(H.a,{item:!0},c.a.createElement(D.a,{href:"https://newsapi.org/",target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(z.a,{avatar:c.a.createElement(J.a,null,"N"),label:"News Provided By NewsAPI.org",color:"secondary",clickable:!0})))))},q=Object(m.d)(v,N,Object(m.a)(s.a,w));var $=Object(l.b)((function(e){return e}))((function(e){return Object(n.useEffect)((function(){e.dispatch(g(r.HEADLINE))}),[]),c.a.createElement(y.a,{width:"100vw",minHeight:"100vh",maxWidth:"100%"},c.a.createElement(j,{headers:d,dispatcher:e.dispatch}),c.a.createElement(V,{articles:e.articles}),c.a.createElement(X,null))}));var K=function(){return c.a.createElement(l.a,{store:q},c.a.createElement(S.a,null),c.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.101d06b1.chunk.js.map