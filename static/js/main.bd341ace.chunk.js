(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{151:function(e,t,n){e.exports=n(182)},156:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(11),i=n.n(o),l=(n(156),n(18)),s=n(42),u=n(113);!function(e){e.IS_ERROR="IS_ERROR",e.REQUEST_ARTICLES="REQUEST_ARTICLES",e.RECEIVE_ARTICLES="RECEIVE_ARTICLES"}(a||(a={}));var m,d=function(e){var t="\n        {\n            getNews(category: ".concat(e,") {\n                source,\n                author,\n                title,\n                description,\n                url,\n                urlToImage,\n                publishedAt,\n                content\n            }\n        }\n    ");return function(e){return e({type:a.REQUEST_ARTICLES}),fetch("https://www.xiaoxihome.com/api/news?query="+encodeURIComponent(t)).then((function(e){return e.json()})).then((function(t){t.errors?e({type:a.IS_ERROR}):e(function(e){return{type:a.RECEIVE_ARTICLES,articles:e.slice()}}(t.data.getNews))}))}};!function(e){e.HEADLINE="HEADLINE",e.BUSINESS="BUSINESS",e.ENTERTAINMENT="ENTERTAINMENT",e.HEALTH="HEALTH",e.SCIENCE="SCIENCE",e.SPORTS="SPORTS",e.TECHNOLOGY="TECHNOLOGY",e.SEARCH="SEARCH"}(m||(m={}));var E,f=["HEADLINE","BUSINESS","ENTERTAINMENT","HEALTH","SCIENCE","SPORTS","TECHNOLOGY"];!function(e){e.SET_CATEGORY="SET_CATEGORY"}(E||(E={}));var h=function(e){return function(t){t(function(e){return{type:E.SET_CATEGORY,category:e}}(e)),t(d(e))}};var p={category:m.HEADLINE,articles:{isError:!1,isFetching:!0,articles:[]},copyLinkSnackBar:{isActive:!1},searchKeyword:""};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.category,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SET_CATEGORY:return m[t.category];default:return e}};var y,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.articles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.IS_ERROR:return Object.assign({},e,{isError:!0});case a.REQUEST_ARTICLES:return Object.assign({},e,{isError:!1,isFetching:!0});case a.RECEIVE_ARTICLES:return Object.assign({},{isError:!1,isFetching:!1,articles:t.articles.slice()});default:return e}};!function(e){e.CLOSE_SNACKBAR="CLOSE_SNACKBAR",e.OPEN_SNACKBAR="OPEN_SNACKBAR"}(y||(y={}));var v,O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.copyLinkSnackBar;switch((arguments.length>1?arguments[1]:void 0).type){case y.CLOSE_SNACKBAR:return{isActive:!1};case y.OPEN_SNACKBAR:return{isActive:!0};default:return e}};!function(e){e.SET_KEYWORD="SET_KEYWORD"}(v||(v={}));var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.searchKeyword,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SET_KEYWORD:return t.keyword;default:return e}},S=Object(s.c)({category:g,articles:b,copyLinkSnackBar:O,searchKeyword:w}),x=p;var j,A=n(245),L=n(217),R=n(6),k=n(123),C=n(250),N=Object(k.a)({palette:{primary:{main:"#333333",contrastText:"#fff"},secondary:{main:"#1EB980",contrastText:"#fff"}}});(N=Object(C.a)(N)).typography.h1=(j={fontFamily:["Anton","sans-serif"].join(","),fontWeight:400,fontSize:"2rem"},Object(R.a)(j,N.breakpoints.up("md"),{fontSize:"2.5rem"}),Object(R.a)(j,"fontStyle","normal"),Object(R.a)(j,"color","inherit"),j);var T=N,I=n(119),D=n(246),B=n(230),_=n(231),M=n(232),F=n(125),H=n(251),W=n(248),V=n(233),Y=n(16),P=n(12);var U,G=function(e){var t=Date.now();return function(){var n=Date.now();return n-t>e&&(t=n,!0)}};!function(e){e.FIXED="FIXED",e.RELATIVE="RELATIVE"}(U||(U={}));var K=function(e){return Object(Y.a)({},{FIXED:{position:"fixed",top:0,left:0,width:"100%"},RELATIVE:{position:"relative",width:"100%"}}[e])};var z=function(e){var t=Object(r.useState)(U.RELATIVE),n=Object(P.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),i=Object(P.a)(o,2),l=i[0],s=i[1],u=G(10);function m(){var t=window.scrollY;if(0===t&&a!==U.RELATIVE)return c(U.RELATIVE),void s(!1);u()&&(t>=e&&a!==U.FIXED?(c(U.FIXED),s(!0)):t<e&&a!==U.RELATIVE&&(c(U.RELATIVE),s(!1)))}return Object(r.useEffect)((function(){return document.addEventListener("scroll",m),function(){document.removeEventListener("scroll",m)}}),[a]),{style:K(a),isFixed:l}},q=function(e){var t=z(e.fixedStartHeight),n=t.style,a=t.isFixed,o=Object(r.useRef)(document.createElement("div"));return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement("div",{style:{visibility:"hidden"}},e.children),c.a.createElement("div",{style:Object(Y.a)({},n,{zIndex:e.zIndex?e.zIndex:"auto"}),ref:o},e.children))},X=n(221),Q=n(120),J=n.n(Q),$=n(118),Z=n.n($),ee=n(253),te=n(252),ne=n(228),ae=n(224),re=n(223),ce=n(229),oe=n(17),ie=n.n(oe),le=n(220),se=ie()((function(e){return{dialog:{minWidth:"50vw"}}})),ue=function(e){var t=e.search,n=(se(),Object(r.useState)(!1)),a=Object(P.a)(n,2),o=a[0],i=a[1],l=Object(r.useState)(""),s=Object(P.a)(l,2),u=s[0],m=s[1],d=Object(r.useState)(!1),E=Object(P.a)(d,2),f=E[0],h=E[1],p=function(){m(""),i(!1)};return c.a.createElement("div",null,c.a.createElement(H.a,{title:"Search",TransitionComponent:le.a},c.a.createElement(X.a,{"aria-label":"search",color:"inherit",onClick:function(){i(!0)}},c.a.createElement(Z.a,null))),c.a.createElement(te.a,{open:o,onClose:p,fullWidth:!0,maxWidth:"sm"},c.a.createElement("form",{action:"/",onSubmit:function(e){e.preventDefault(),u.length?(t(u),p()):h(!0)}},c.a.createElement(re.a,null,"Search from archived news"),c.a.createElement(ae.a,null,c.a.createElement(ee.a,{error:f,autoFocus:!0,margin:"dense",label:"Keywords",type:"news keyword",fullWidth:!0,value:u,onChange:function(e){f&&h(!1),m(e.target.value)},helperText:f?"Keyword cannot be empty.":" "})),c.a.createElement(ne.a,null,c.a.createElement(ce.a,{onClick:p,color:"primary","aria-label":"cancel"},"Cancel"),c.a.createElement(ce.a,{type:"submit",color:"primary","aria-label":"submit search"},"Search")))))};var me=Object(l.b)(null,(function(e){return{search:function(t){e(function(e){return{type:v.SET_KEYWORD,keyword:e}}(t)),e({type:E.SET_CATEGORY,category:m.SEARCH})}}}))(ue),de=Object(I.a)((function(e){return{tab:{flexShrink:0,flexGrow:1,color:e.palette.primary.contrastText},heading:{textTransform:"uppercase",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},appBarNoBoxShadow:{boxShadow:"none"},appBarBottomBoxShadow:{boxShadow:"0px 4px 4px -1px rgba(0,0,0,0.2), 0px 5px 5px 0px rgba(0,0,0,0.14), 0px 10px 10px 0px rgba(0,0,0,0.12)"},trendIcon:{color:"#FFF"}}}));var Ee=function(e){var t=de(),n=Object(l.c)(),a=Object(r.useRef)(document.createElement("div")),o=function(e){n(function(e){return function(t,n){n().category!==e&&t(h(e))}}(e))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,{color:"primary",position:"static",ref:a,className:t.appBarNoBoxShadow},c.a.createElement(_.a,null,c.a.createElement(M.a,{container:!0},c.a.createElement(M.a,{item:!0,xs:1,md:3}),c.a.createElement(M.a,{item:!0,xs:7,md:6},c.a.createElement(F.a,{align:"center",className:t.heading,variant:"h1",component:"h1"},"News Canada")),c.a.createElement(M.a,{item:!0,xs:4,md:3},c.a.createElement(M.a,{container:!0,alignItems:"center",justify:"flex-end"},c.a.createElement(M.a,{item:!0},c.a.createElement(me,null)),c.a.createElement(M.a,{item:!0},c.a.createElement(H.a,{title:"Analytics",TransitionComponent:le.a},c.a.createElement(X.a,{"aria-label":"news trend",color:"inherit"},c.a.createElement(J.a,null))))))))),c.a.createElement(q,{fixedStartHeight:null!==a?a.current.offsetTop+a.current.offsetHeight:50,zIndex:1100},c.a.createElement(B.a,{color:"primary",position:"static",className:t.appBarBottomBoxShadow},c.a.createElement(W.a,{value:-1!==e.headers.indexOf(e.category)&&e.headers.indexOf(e.category),indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto"},e.headers.map((function(e,n){return c.a.createElement(V.a,{label:e,key:n,className:t.tab,onClick:function(){return o(m[e])}})}))))))},fe=n(234),he=n(235),pe=n(236),ge=n(237),ye=n(23),be=n(238),ve=n(239),Oe=n(241),we=n(240);var Se,xe,je=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};!function(e){e.NULL="NULL",e.LEFT="LEFT",e.RIGHT="RIGHT"}(Se||(Se={})),function(e){e.NULL="NULL",e.SWIPE="SWIPE",e.SCROLL="SCROLL"}(xe||(xe={}));var Ae=10;var Le=function(e,t){var n=Object(r.useState)(0),a=Object(P.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(0),l=Object(P.a)(i,2),s=l[0],u=l[1],m=Object(r.useState)(xe.NULL),d=Object(P.a)(m,2),E=d[0],f=d[1],h=Object(r.useState)(Se.NULL),p=Object(P.a)(h,2),g=p[0],y=p[1],b=Object(r.useState)(0),v=Object(P.a)(b,2),O=v[0],w=v[1],S=G(Ae);function x(e){o(e.changedTouches[0].clientX),u(e.changedTouches[0].clientY)}function j(e){if(S()){var t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;"SWIPE"===E?(e.cancelable&&e.preventDefault(),w(e.changedTouches[0].clientX-c)):"NULL"===E&&Math.abs(t-c)>Math.abs(n-s)?f(xe.SWIPE):"NULL"===E&&Math.abs(t-c)<=Math.abs(n-s)&&f(xe.SCROLL)}}function A(e){var n=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY;Math.abs(n-c)>Math.abs(a-s)&&Math.abs(n-c)>t&&E===xe.SWIPE&&y(n>c?Se.RIGHT:Se.LEFT),w(0),f(xe.NULL)}return Object(r.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("touchstart",x),function(){t.removeEventListener("touchstart",x)}}),[e]),Object(r.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("touchmove",j),function(){t.removeEventListener("touchmove",j)}}),[s,E,e]),Object(r.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("touchend",A),function(){t.removeEventListener("touchend",A)}}),[s,E,e]),{direction:g,dragDistance:O,resetSwipeStatus:function(){y(Se.NULL)}}};var Re=Object(l.b)(null,(function(e){return{goPrevious:function(){return e((function(e,t){var n=t().category,a=f.indexOf(n);e(h(0===a?m[f[f.length-1]]:m[f[a-1]]))}))},goNext:function(){return e((function(e,t){var n=t().category,a=f.indexOf(n),r=a===f.length-1;e(h(r?m[f[0]]:m[f[a+1]]))}))}}}))((function(e){var t=Object(r.useRef)(null),n=Le(t,50),a=n.direction,o=n.dragDistance,i=n.resetSwipeStatus;return Object(r.useEffect)((function(){return a===Se.RIGHT?e.goPrevious():a===Se.LEFT&&e.goNext(),function(){i()}}),[a]),c.a.createElement("div",{style:{width:"100%",transform:"translateX(".concat(o,"px)")},ref:t},e.children)})),ke=Object(I.a)((function(e){return Object(fe.a)(Object(R.a)({wrapper:{width:"calc(100% - 40px)",margin:"20px"}},e.breakpoints.down("sm"),{wrapper:{width:"calc(100% - 16px)",margin:"8px"}}))}));function Ce(e,t,n){return"calc(".concat(e," * ").concat(n.typography[t].fontSize," * ").concat(n.typography[t].lineHeight,")")}function Ne(e,t){return Object(fe.a)({root:{position:"relative","&:after":{content:"''",position:"absolute",bottom:0,right:0,width:"20%",height:Ce(1,e,t),backgroundImage:"linear-gradient(to right, rgba(255, 255, 255, 0) , rgba(255, 255, 255, 1))",zIndex:10}}})}var Te={width:"100%",overflow:"hidden",position:"relative"},Ie=Object(I.a)((function(e){return Object(fe.a)(Object(R.a)({media:Object(Y.a)({height:"550px"},Te),skeleton:Object(Y.a)({height:"550px"},Te),title:Object(Y.a)({height:Ce(1,"body1",e)},Ne("body1",e).root,{},Te),source:Object(Y.a)({height:Ce(1,"body2",e)},Te),articleContent:Object(Y.a)({height:Ce(2,"body2",e)},Ne("body2",e).root,{},Te),buttons:Object(Y.a)({},Te)},e.breakpoints.down("sm"),{media:{height:"200px"},skeleton:{height:"200px"}}))})),De=Object(I.a)((function(e){return Object(fe.a)(Object(R.a)({media:Object(Y.a)({height:"200px"},Te),skeleton:Object(Y.a)({height:"200px"},Te),title:Object(Y.a)({height:Ce(2,"body1",e)},Ne("body1",e).root,{},Te),source:Object(Y.a)({height:Ce(1,"body2",e)},Te),articleContent:Object(Y.a)({height:Ce(3,"body2",e)},Ne("body2",e).root,{},Te),buttons:Object(Y.a)({},Te)},e.breakpoints.down("sm"),{}))}));function Be(e){return c.a.createElement(he.a,{className:e.className},c.a.createElement(pe.a,{href:e.url,target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(ce.a,{size:"small",color:"primary"},"Learn more")),c.a.createElement(ce.a,{size:"small",color:"primary",onClick:function(){je(e.url),e.openCopyLinkSnackBar()}},"Share"))}function _e(e){var t=Object(r.useRef)(null),n=function(e){var t=Object(r.useState)(!1),n=Object(P.a)(t,2),a=n[0],c=n[1],o=Date.now()-1e3;function i(){var t=Date.now();if(!(t-o<20)&&(o=t,e.current)){var n=e.current.getBoundingClientRect(),a=n.top+n.height<0,r=n.top>window.innerHeight;a||r||c(!0)}}return Object(r.useEffect)((function(){if(!a)return i(),document.addEventListener("scroll",i),function(){document.removeEventListener("scroll",i)}})),a}(t),a=Object(r.useState)(!1),o=Object(P.a)(a,2),i=o[0],l=o[1],s=!Object(ge.a)(Object(ye.a)().breakpoints.down("sm")),u=0===e.id||1===e.id,m=Ie(),d=De(),E=u?m:d;Object(r.useEffect)((function(){s&&setTimeout((function(){return l(!0)}),225)}),[]);var f=c.a.createElement(M.a,{item:!0,xs:12,md:u?6:3,ref:t},c.a.createElement(be.a,{raised:!0},n&&e.urlToImage?c.a.createElement(ve.a,{component:"img",alt:e.title,className:E.media,image:e.urlToImage,title:e.title}):c.a.createElement(we.a,{variant:"rect",className:E.skeleton}),c.a.createElement(Oe.a,null,c.a.createElement(F.a,{gutterBottom:!0,variant:"body1",component:"h2",className:E.title},c.a.createElement(D.a,{fontWeight:700},e.title)),c.a.createElement(F.a,{variant:"body2",color:"textSecondary",component:"p",className:E.source},c.a.createElement(D.a,{component:"span",fontWeight:700},e.source?e.source+" - ":e.author?e.author+" - ":"",function(e){var t=Date.now()-e.getTime();if(t<0)return"now";var n=Math.floor(t/6e4);if(n<=59)return"".concat(n," ").concat(1===n?"minute":"minutes"," ago");var a=Math.floor(t/36e5);if(a<=23)return"".concat(a," ").concat(1===a?"hour":"hours"," ago");var r=Math.floor(t/864e5);if(r<=30)return"".concat(r," ").concat(1===r?"day":"days"," ago");var c=Math.floor(t/2592e6);if(c<=12)return"".concat(c," ").concat(1===c?"month":"months"," ago");var o=Math.floor(t/31536e6);return"".concat(o," ").concat(1===o?"year":"years"," ago")}(new Date(e.publishedAt)))),c.a.createElement(F.a,{variant:"body2",color:"textSecondary",component:"p",className:E.articleContent},e.content&&e.content.replace(/\[\+[0-9]+\schars\]/gi,""))),c.a.createElement(Be,{url:e.url,className:E.buttons,openCopyLinkSnackBar:e.openCopyLinkSnackBar})));return s?c.a.createElement(le.a,{in:!i||n},f):f}function Me(e){return c.a.createElement(c.a.Fragment,null,e.articles.map((function(t,n){return c.a.createElement(_e,Object.assign({},t,{key:n,id:n,openCopyLinkSnackBar:e.openCopyLinkSnackBar}))})))}var Fe=Object(l.b)(null,(function(e){return{openCopyLinkSnackBar:function(){return e({type:y.OPEN_SNACKBAR})}}}))((function(e){var t,n=ke();return Object(r.useEffect)((function(){window.scrollTo(0,0)})),t=e.articles.isError?c.a.createElement("div",{style:{width:"100%",minHeight:"100vh"}},"error"):e.articles.isFetching?c.a.createElement(c.a.Fragment,null,Array.from(Array(10),(function(e,t){return c.a.createElement(M.a,{item:!0,key:t},c.a.createElement(D.a,{width:500,height:300,maxWidth:"100%"},c.a.createElement(we.a,{variant:"rect",width:500,height:200}),c.a.createElement(we.a,{width:500}),c.a.createElement(we.a,{width:500})))}))):c.a.createElement(Me,{articles:e.articles.articles,openCopyLinkSnackBar:e.openCopyLinkSnackBar}),c.a.createElement(Re,null,c.a.createElement(D.a,{className:n.wrapper},c.a.createElement(M.a,{container:!0,direction:"row",alignContent:"center",justify:"center",spacing:2},t)))})),He=n(256),We=n(257);var Ve=function(){return c.a.createElement(D.a,{mt:10,mb:2,mx:2},c.a.createElement(M.a,{container:!0,direction:"row",spacing:2},c.a.createElement(M.a,{item:!0},c.a.createElement(pe.a,{href:"https://www.xiaoxihome.com/",target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(He.a,{avatar:c.a.createElement(We.a,null,"X"),label:"\ud83d\udd27 with \u2764\ufe0f by XiaoxiHome",color:"primary",clickable:!0}))),c.a.createElement(M.a,{item:!0},c.a.createElement(pe.a,{href:"https://newsapi.org/",target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(He.a,{avatar:c.a.createElement(We.a,null,"N"),label:"News data courtesy of NewsAPI.org",color:"secondary",clickable:!0})))))},Ye=n(258),Pe=n(242),Ue=n(121),Ge=n.n(Ue),Ke=n(82),ze=ie()((function(){return Object(fe.a)({successSnackBar:{backgroundColor:Ke.a[600]}})}));var qe=function(e){var t=ze();function n(){e.closeCopyLinkSnackBar()}return c.a.createElement(Ye.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:e.isActive,autoHideDuration:3e3,onClose:n},c.a.createElement(Pe.a,{className:t.successSnackBar,message:c.a.createElement("span",{id:"client-snackbar"},"Link copied to clipboard"),action:[c.a.createElement(X.a,{key:"close","aria-label":"close",color:"inherit",onClick:n},c.a.createElement(Ge.a,null))]}))};var Xe,Qe=Object(l.b)((function(e){return{isActive:e.copyLinkSnackBar.isActive}}),(function(e){return{closeCopyLinkSnackBar:function(){return e({type:y.CLOSE_SNACKBAR})}}}))(qe),Je=n(20);!function(e){e.LOADING="LOADING",e.LOADED_NORMAL="LOADED_NORMAL",e.LOADED_EMPTY="LOADED_EMPTY",e.LOADED_NO_MORE="LOADED_NO_MORE",e.ERROR="ERROR"}(Xe||(Xe={}));var $e,Ze=Xe,et="https://www.xiaoxihome.com/api/search-news",tt=function(e,t,n,a,r,c,o){n(Ze.LOADING);var i=0===t?"".concat(et,"?keyword=").concat(e,"&frequency=true"):"".concat(et,"?keyword=").concat(e,"&skip=").concat(t);fetch(i).then((function(e){return e.json()})).then((function(e){"error"===e.status?n(Ze.ERROR):e.totalCount?(c(e.totalCount),a((function(t){return[].concat(Object(Je.a)(t),Object(Je.a)(e.data))})),e.frequency&&o&&o(Object.assign({},{bin:e.frequency.bin,frequency:e.frequency.frequency})),n(Ze.LOADED_NORMAL)):(c(0),n(Ze.LOADED_EMPTY))})).catch((function(e){console.log(e),n(Ze.ERROR)}))};!function(e){e.RELEVANCE="RELEVANCE",e.DATE="DATE"}($e||($e={}));var nt=$e,at=function(e){var t=Object(r.useState)(Ze.LOADING),n=Object(P.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)([]),i=Object(P.a)(o,2),l=i[0],s=i[1],u=Object(r.useState)(nt.RELEVANCE),m=Object(P.a)(u,2),d=m[0],E=m[1],f=Object(r.useState)(0),h=Object(P.a)(f,2),p=h[0],g=h[1],y=Object(r.useState)(null),b=Object(P.a)(y,2),v=b[0],O=b[1];return Object(r.useEffect)((function(){s([]),O(null),g(0),E(nt.RELEVANCE),tt(e,0,c,s,[],g,O)}),[e]),{status:a,setStatus:c,data:l,setData:s,sortType:d,sortByDate:function(){s((function(e){return e.sort((function(e,t){var n=new Date(e.publishedAt).getTime();return new Date(t.publishedAt).getTime()-n}))})),E(nt.DATE)},sortByRelevance:function(){s((function(e){return e.sort((function(e,t){return t.score-e.score}))})),E(nt.RELEVANCE)},totalCount:p,setTotalCount:g,frequencyData:v}},rt=ie()((function(e){return{root:{margin:e.spacing(2,0)}}})),ct=function(e){var t=e.count,n=e.keyword,a=e.currentLength,r=1===t?"article":"articles",o=rt();return c.a.createElement(F.a,{variant:"body1",component:"div",className:o.root},c.a.createElement(D.a,{fontWeight:700},"".concat(t," news ").concat(r,' found related to "').concat(n,'", displaying 1 - ').concat(a)))},ot=function(){return c.a.createElement(we.a,{variant:"rect",width:"100%",height:200,animation:"wave"})},it=ie()((function(e){return{root:{margin:e.spacing(5,0),width:300}}})),lt=function(e){var t=e.onClick,n=it();return c.a.createElement(ce.a,{variant:"contained",disableElevation:!0,color:"secondary",onClick:t,className:n.root},"Load more")},st=n(255),ut=n(227),mt=n(247),dt=n(259),Et=function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},ft=ie()((function(e){return{root:{margin:e.spacing(2,0),minWidth:200}}})),ht=function(e){var t=e.sortByDate,n=e.sortByRelevance,a=e.sortType,r=ft();return c.a.createElement(ut.a,{className:r.root,color:"secondary"},c.a.createElement(st.a,{htmlFor:"searched-article-sort"},"Sort By"),c.a.createElement(mt.a,{value:a,onChange:function(e){var r=e.target.value;if(r!==a)switch(r){case nt.RELEVANCE:n();break;case nt.DATE:t();break;default:n()}},inputProps:{name:"sort",id:"searched-article-sort"}},c.a.createElement(dt.a,{value:nt.RELEVANCE},Et(nt.RELEVANCE)),c.a.createElement(dt.a,{value:nt.DATE},Et(nt.DATE))))},pt=n(243),gt=ie()((function(e){return{root:{margin:e.spacing(2,0)}}})),yt=function(e){var t=e.message,n=e.divider,a=gt();return c.a.createElement(c.a.Fragment,null,c.a.createElement(F.a,{variant:"body1",component:"div",className:a.root},c.a.createElement(D.a,{fontWeight:700},t)),n&&c.a.createElement(pt.a,{style:{width:"100%"}}))},bt=n(244),vt=ie()((function(e){return Object(fe.a)({highlight:{backgroundColor:e.palette.secondary.light}})})),Ot=function(e){var t=e.content,n=e.keyword,a=new RegExp("("+n+")","gi"),r=t.split(a),o=vt();return c.a.createElement(c.a.Fragment,null,r.map((function(e,t){return t%2===1?c.a.createElement("span",{className:o.highlight,key:t},e):c.a.createElement("span",{key:t},e)})))},wt=Object(I.a)((function(e){return{cardRoot:{width:"100%",margin:e.spacing(2,0)},cardActionArea:{width:"100%",height:"100%","& a":{width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center","&:visited, &:link":{textDecoration:"inherit",color:"inherit",cursor:"pointer"}}},cardMedia:{width:"20%",height:"100%"},cardContent:{width:"80%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),St=function(e){var t=e.article,n=e.keyword,a=wt(),o=function(){var e=Object(r.useState)(0),t=Object(P.a)(e,2),n=t[0],a=t[1],c=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(c.current){var e=c.current.getBoundingClientRect().height;a(e)}}),[c]),{cardHeight:n,heightRef:c}}(),i=o.cardHeight,l=o.heightRef;return c.a.createElement(be.a,{className:a.cardRoot,style:{height:i?"".concat(i,"px"):"auto"}},c.a.createElement(bt.a,{className:a.cardActionArea},c.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.urlToImage?c.a.createElement(ve.a,{component:"img",alt:t.title,className:a.cardMedia,image:t.urlToImage,title:t.title}):c.a.createElement(we.a,{variant:"rect",className:a.cardMedia}),c.a.createElement(Oe.a,{className:a.cardContent,ref:l},c.a.createElement(F.a,{variant:"body1",component:"h2"},c.a.createElement(D.a,{fontWeight:700},c.a.createElement(Ot,{content:t.title,keyword:n}))),c.a.createElement(F.a,{variant:"body2",component:"div",color:"textSecondary"},c.a.createElement(D.a,{fontWeight:700},new Date(t.publishedAt).toDateString())),c.a.createElement(F.a,{variant:"body2",color:"textSecondary",component:"p"},c.a.createElement(Ot,{content:t.content.replace(/\[\+[0-9]+\schars\]/gi,""),keyword:n}))))))},xt=n(122),jt=n.n(xt),At=n(222),Lt=ie()((function(e){return{root:Object(R.a)({position:"fixed",bottom:"50px",right:"50px",backgroundColor:e.palette.secondary.main,color:"#FFF",transition:e.transitions.create("background-color opacity"),transform:"rotate(-90deg)","&:hover":{backgroundColor:e.palette.secondary.light}},e.breakpoints.down("md"),{bottom:"15px",right:"15px"})}})),Rt=function(){var e=Lt(),t=function(){var e=Object(r.useState)(!1),t=Object(P.a)(e,2),n=t[0],a=t[1],c=function(){window.scrollY>window.innerHeight&&!n?a(!0):window.scrollY<window.innerHeight&&n&&a(!1)};return Object(r.useEffect)((function(){return document.addEventListener("scroll",c),function(){document.removeEventListener("scroll",c)}}),[n]),n}();return c.a.createElement(At.a,{in:t},c.a.createElement(H.a,{title:"Scroll to Top",className:e.root},c.a.createElement(X.a,{"aria-label":"Scroll to Top",onClick:function(){window.scrollTo(0,0)}},c.a.createElement(jt.a,null))))},kt=n(21),Ct="keyword-frequency-chart",Nt=Object(I.a)((function(e){return{root:{width:"100%"}}})),Tt=function(e){var t=e.bin,n=e.frequency,a=Object(r.useRef)(null),o=Nt(),i=Object(ye.a)(),l=i.palette.secondary.light,s=i.palette.secondary.dark,u=i.palette.primary.light,m=Object(r.useMemo)((function(){return t.map((function(e){var t=new Date(e.ms);return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate())}))}),[t]);console.log(m);var d=Object(r.useMemo)((function(){for(var e=[],t=500,a=0;a<n.length;a++)0===n[a]?e.push(t):e.push(t+=20);return e}),[n]);return Object(r.useEffect)((function(){if(a.current){console.log(t,n);var e=Math.max.apply(Math,n),r=t.length,c=a.current.getBoundingClientRect().width,o=Math.min(Math.round(c/3),200),i=10,E=30,f=c-E-30,h=o-i-30,p=E,g=i,y=kt.e().domain(n.map((function(e,t){return t.toString()}))).range([0,f]),b=kt.f().domain([0,e]).range([0,h]),v=y.bandwidth(),O=function(e){return b(e)},w=function(e,t){return p+(y(t.toString())||0)},S=kt.g("#".concat(Ct)).append("svg"),x=S.append("g").selectAll("rect").data(n).enter().append("rect"),j=S.append("g").selectAll("rect").data(n).enter().append("rect");S.attr("width",c).attr("height",o).style("background","#EEE"),x.style("fill",l).style("opacity",.8).attr("width",v).attr("height",0).attr("x",w).attr("y",g+h),x.transition().attr("height",O).attr("y",(function(e){return g+h-O(e)})).delay((function(e,t){return d[t]})).duration(2e3).ease(kt.c),j.style("fill",l).style("opacity",0).attr("width",v).attr("height",o).attr("x",w).attr("y",0);var A=kt.f().domain([0,e]).range([h,0]),L=kt.b(A),R=S.append("g");L.tickSizeOuter(0).tickFormat(kt.d("d")).tickValues([0,Math.floor(.5*e),e]),R.style("transform","translate(".concat(p,"px, ").concat(o,"px)")).style("opacity",0).style("color",s);var k=S.append("g"),C=kt.a(y);C.tickSizeOuter(0).tickFormat((function(e,t){return m[parseInt(e)]})).tickValues([0,Math.floor(.25*r),Math.floor(.5*r),Math.floor(.75*r),r-1].map((function(e){return"".concat(e)}))),k.style("transform","translate(".concat(-.5*c,"px, ").concat(h+g,"px)")).style("opacity",0).style("color",s),R.transition().style("opacity",1).style("transform","translate(".concat(p,"px, ").concat(g,"px)")).delay(500).duration(1e3).ease(kt.c),k.transition().style("opacity",1).style("transform","translate(".concat(p,"px, ").concat(h+g,"px)")).delay(500).duration(1e3).ease(kt.c),L(R),C(k);var N=S.append("g"),T=kt.b(A);N.style("opacity",0).style("transform","translate(".concat(p,"px, ").concat(g,"px)")),T.tickFormat(kt.d("d")).tickSizeInner(-f-6).tickSizeOuter(0).tickPadding(9);var I=S.append("g"),D=kt.a(y);I.style("opacity",0).style("transform","translate(".concat(p,"px, ").concat(h+g,"px)")),D.tickFormat((function(e){return m[parseInt(e)]}));var B=S.append("g"),_=kt.a(y);B.style("opacity",0),_.tickFormat((function(e){return"".concat(n[parseInt(e)])})).tickSize(0).tickPadding(-9),j.on("mouseover",(function(e,t){var n,a;T.tickValues([e]),T(N),N.selectAll(".tick line").style("transform","translate(-6px, 0)").style("color",u),N.selectAll(".domain").remove(),N.style("opacity",1);var r=null===(n=N.select("text").node())||void 0===n?void 0:n.getBBox();r&&N.selectAll("g.tick").insert("rect",":first-child").attr("width",r.width).attr("height",r.height).attr("x",r.x).attr("y",r.y).style("fill","#EEE"),D.tickValues(["".concat(t)]),D(I),I.selectAll(".domain").remove(),I.style("opacity",1);var c=null===(a=I.select("text").node())||void 0===a?void 0:a.getBBox();c&&I.selectAll("g.tick").insert("rect",":first-child").attr("width",c.width).attr("height",c.height).attr("x",c.x).attr("y",c.y).style("fill","#EEE"),_.tickValues(["".concat(t)]),_(B),B.selectAll(".domain").remove(),B.style("transform","translate(".concat(p,"px, ").concat(A(e)+g,"px)")).style("opacity",1),x.filter((function(e,n){return n===t})).style("fill",u)})).on("mouseout",(function(e,t){N.style("opacity",0),I.style("opacity",0),B.style("opacity",0),x.filter((function(e,n){return n===t})).style("fill",l)}))}}),[a]),c.a.createElement("div",{ref:a,className:o.root,id:Ct})},It=Object(I.a)((function(e){return{root:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},widthWrapper:Object(R.a)({width:"1000px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:e.spacing(2)},e.breakpoints.down("md"),{width:"100%"}),cardRoot:{width:"100%",margin:e.spacing(2,0)},cardActionArea:{width:"100%",height:"100%","& a":{width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center","&:visited, &:link":{textDecoration:"inherit",color:"inherit",cursor:"pointer"}}},cardMedia:{width:"20%",height:"100%"},cardContent:{width:"80%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),Dt=function(e){var t=e.keyword,n=at(t),a=n.status,r=n.data,o=n.setStatus,i=n.setData,l=n.sortType,s=n.sortByRelevance,u=n.sortByDate,m=n.setTotalCount,d=n.totalCount,E=n.frequencyData,f=It(),h=r.length>0,p=r.length<d,g=r.length===d;return c.a.createElement("div",{className:f.root},c.a.createElement("div",{className:f.widthWrapper},h&&c.a.createElement(ct,{count:d,keyword:t,currentLength:r.length}),E&&h&&c.a.createElement(Tt,{bin:E.bin,frequency:E.frequency}),h&&c.a.createElement(ht,{sortType:l,sortByRelevance:s,sortByDate:u}),a===Ze.LOADED_EMPTY&&c.a.createElement(yt,{message:'No news article related to "'.concat(t,'" was found')}),a===Ze.ERROR&&c.a.createElement(yt,{message:"Server error please try later"}),h&&r.map((function(e){return c.a.createElement(St,{article:e,keyword:t,key:e._id})})),a===Ze.LOADING&&c.a.createElement(ot,null),a===Ze.LOADED_NORMAL&&p&&d>0&&c.a.createElement(lt,{onClick:function(){tt(t,r.length,o,i,r,m)}}),g&&d>0&&c.a.createElement(yt,{message:"End of results",divider:!0})),c.a.createElement(Rt,null))};var Bt=Object(l.b)((function(e){return{keyword:e.searchKeyword}}))(Dt),_t=Object(I.a)((function(){return{root:{width:"100vw",maxWidth:"100%",minHeight:"100vh",overflowX:"hidden",paddingBottom:"10px"}}}));var Mt=Object(l.b)((function(e){var t=e.category===m.SEARCH;return{category:e.category,articles:e.articles,isSearching:t}}),(function(e){return{fetchArticlesAfterMount:function(){return e(d(m.HEADLINE))}}}))((function(e){var t=_t();return Object(r.useEffect)((function(){e.fetchArticlesAfterMount()}),[]),c.a.createElement(D.a,{className:t.root},c.a.createElement(Ee,{headers:f,category:e.category}),e.isSearching?c.a.createElement(Bt,null):c.a.createElement(Fe,{articles:e.articles}),c.a.createElement(Ve,null),c.a.createElement(Qe,null))})),Ft=Object(s.d)(S,x,Object(s.a)(u.a));var Ht=function(){return c.a.createElement(l.a,{store:Ft},c.a.createElement(L.a,{theme:T},c.a.createElement(A.a,null),c.a.createElement(Mt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(Ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[151,1,2]]]);
//# sourceMappingURL=main.bd341ace.chunk.js.map