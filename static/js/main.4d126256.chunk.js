(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{45:function(e,t,a){e.exports=a(57)},50:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(13),o=a.n(i),l=(a(50),a(51),a(27)),E=a(17),s=a(33),u=a(34);!function(e){e.HEADLINE="HEADLINE",e.BUSINESS="BUSINESS",e.ENTERTAINMENT="ENTERTAINMENT",e.HEALTH="HEALTH",e.SCIENCE="SCIENCE",e.SPORTS="SPORTS",e.TECHNOLOGY="TECHNOLOGY"}(n||(n={}));var m,d,h=["HEADLINE","BUSINESS","ENTERTAINMENT","HEALTH","SCIENCE","SPORTS","TECHNOLOGY"];!function(e){e.SET_CATEGORY="SET_CATEGORY"}(m||(m={})),function(e){e.IS_ERROR="IS_ERROR",e.REQUEST_ARTICLES="REQUEST_ARTICLES",e.RECEIVE_ARTICLES="RECEIVE_ARTICLES"}(d||(d={}));var f="https://www.xiaoxihome.com/api/news?query=";function g(e){var t="\n        {\n            getNews(category: ".concat(e,") {\n                source,\n                author,\n                title,\n                description,\n                url,\n                urlToImage,\n                publishedAt,\n                content\n            }\n        }\n    ");return function(e){return e({type:d.REQUEST_ARTICLES}),fetch(f+encodeURIComponent(t)).then((function(e){return e.json()})).then((function(t){t.errors?e({type:d.IS_ERROR}):e(function(e){return{type:d.RECEIVE_ARTICLES,articles:e.slice()}}(t.data.getNews))}))}}var p={category:n.HEADLINE,articles:{isError:!1,isFetching:!0,articles:[]}};var v=Object(E.c)({category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.category,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.SET_CATEGORY:return t.category;default:return e}},articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.articles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.IS_ERROR:return Object.assign({},e,{isError:!0});case d.REQUEST_ARTICLES:return Object.assign({},e,{isError:!1,isFetching:!0});case d.RECEIVE_ARTICLES:return Object.assign({},{isError:!1,isFetching:!1,articles:t.articles.slice()});default:return e}}}),S=Object(u.createLogger)(),R=p;var T=a(89),w=a(88),O=a(18),I=(a(56),a(37)),N=a(76),b=a(77),C=a(78),y=a(58),A=a(90),L=a(79),j=Object(I.a)((function(e){return{tab:{flexShrink:0,flexGrow:1},toolbar:{textTransform:"uppercase"}}}));var H=function(e){var t=j(),a=Object(r.useState)(0),n=Object(O.a)(a,2),i=n[0],o=n[1];return c.a.createElement(N.a,{position:"static",color:"default"},c.a.createElement(b.a,null,c.a.createElement(C.a,null,c.a.createElement(y.a,{variant:"h5",align:"center",className:t.toolbar},"News Canada"))),c.a.createElement(A.a,{value:i,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},e.headers.map((function(a,n){return c.a.createElement(L.a,{label:a,key:n,className:t.tab,onClick:function(){return function(t){t!==i&&(o(t),e.dispatcher(g(e.headers[t])))}(n)}})}))))},_=a(6),x=a(91),k=a(80),M=a(81),B=a(82),U=a(84),D=a(85),G=a(86),F=a(87),P=a(83),Y=Object(I.a)((function(e){return Object(x.a)({wrapper:Object(_.a)({width:"100vw - 40px",margin:"20px"},e.breakpoints.down("md"),{width:"100vw",margin:"0"}),cardMediaPrimary:{height:"100vh - 150"},cardMediaNormal:{height:"150"}})}));function Q(e){var t=Object(r.useRef)(null),a=function(e){var t=Object(r.useState)(!1),a=Object(O.a)(t,2),n=a[0],c=a[1],i=Date.now()-1e3;function o(){if(e.current){var t=Date.now();if(!(t-i<20)){i=t;var a=e.current.getBoundingClientRect(),n=a.top+a.height<0,r=a.top>window.innerHeight;n||r||c(!0)}}}return Object(r.useEffect)((function(){if(!n)return o(),document.addEventListener("scroll",o),function(){document.removeEventListener("scroll",o)}}),[n]),n}(t),n=Y(),i=0===e.id||1===e.id;return c.a.createElement(k.a,{item:!0,xs:12,md:i?6:3,ref:t},c.a.createElement(M.a,{raised:!0},a?c.a.createElement(B.a,{component:"img",alt:e.title,className:i?n.cardMediaPrimary:n.cardMediaNormal,image:e.urlToImage,title:e.title}):c.a.createElement(P.a,{variant:"rect",className:i?n.cardMediaPrimary:n.cardMediaNormal}),c.a.createElement(U.a,null,c.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.title),c.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},e.content)),c.a.createElement(D.a,null,c.a.createElement(G.a,{href:e.url,target:"_blank",rel:"noopener",underline:"none"},c.a.createElement(F.a,{size:"small",color:"primary"},"Learn more")))))}function V(e){return c.a.createElement(c.a.Fragment,null,e.articles.map((function(e,t){return c.a.createElement(Q,Object.assign({},e,{key:t,id:t}))})))}var W=function(e){var t,a=Y();return t=e.articles.isError?c.a.createElement("div",null,"error"):e.articles.isFetching?c.a.createElement(c.a.Fragment,null,Array.from(Array(10),(function(e,t){return c.a.createElement(k.a,{item:!0,key:t},c.a.createElement(T.a,{width:500,height:300,maxWidth:"100%"},c.a.createElement(P.a,{variant:"rect",width:500,height:200}),c.a.createElement(P.a,{width:500}),c.a.createElement(P.a,{width:500})))}))):c.a.createElement(V,{articles:e.articles.articles}),c.a.createElement(T.a,{className:a.wrapper},c.a.createElement(k.a,{container:!0,direction:"row",alignContent:"center",justify:"center",spacing:2},t))},J=Object(E.d)(v,R,Object(E.a)(s.a,S));var q=Object(l.b)((function(e){return e}))((function(e){return Object(r.useEffect)((function(){e.dispatch(g(n.HEADLINE))}),[]),c.a.createElement(T.a,{width:"100vw",minHeight:"100vh",maxWidth:"100%"},c.a.createElement(H,{headers:h,dispatcher:e.dispatch}),c.a.createElement(W,{articles:e.articles}))}));var z=function(){return c.a.createElement(l.a,{store:J},c.a.createElement(w.a,null),c.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.4d126256.chunk.js.map